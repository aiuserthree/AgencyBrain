/**
 * Agency Brain - AI Knowledge Platform
 * JavaScript Application
 */

// ============================================
// DOM Ready
// ============================================

document.addEventListener('DOMContentLoaded', () => {
    initNavigation();
    initMobileMenu();
    initProposalForm();
    initEstimateForm();
    initIAForm();
    initTagInput();
    initChatWidget();
    initQuickActions();
    initAnimations();
    initSearchPage();
    initFunctionalForm();
    initVisualSearch();
    initTechStackForm();
    initWBSForm();
    initFilterButtons();
    initUploadPage();
    initDocumentsPage();
});

// ============================================
// Navigation
// ============================================

function initNavigation() {
    const navItems = document.querySelectorAll('.nav-item');
    const pages = document.querySelectorAll('.page');
    
    navItems.forEach(item => {
        item.addEventListener('click', (e) => {
            e.preventDefault();
            const pageName = item.getAttribute('data-page');
            
            // Update active nav item
            navItems.forEach(nav => nav.classList.remove('active'));
            item.classList.add('active');
            
            // Show corresponding page
            pages.forEach(page => {
                page.classList.remove('active');
                if (page.id === `page-${pageName}`) {
                    page.classList.add('active');
                }
            });
            
            // Close mobile menu
            document.querySelector('.sidebar').classList.remove('open');
        });
    });
}

// ============================================
// Mobile Menu
// ============================================

function initMobileMenu() {
    const menuToggle = document.getElementById('menuToggle');
    const sidebar = document.querySelector('.sidebar');
    
    menuToggle?.addEventListener('click', () => {
        sidebar.classList.toggle('open');
    });
    
    // Close sidebar when clicking outside
    document.addEventListener('click', (e) => {
        if (window.innerWidth <= 1024) {
            if (!sidebar.contains(e.target) && !menuToggle.contains(e.target)) {
                sidebar.classList.remove('open');
            }
        }
    });
}

// ============================================
// Proposal Form
// ============================================

function initProposalForm() {
    const form = document.getElementById('proposalForm');
    const resultCard = document.getElementById('proposalResult');
    const industrySelect = document.getElementById('industry');
    const suggestedTagsContainer = document.getElementById('proposalSuggestedTags');
    
    // ÏóÖÏ¢ÖÎ≥Ñ Ï£ºÏöî Í∏∞Îä• Îç∞Ïù¥ÌÑ∞
    const proposalFeatures = {
        // Ïª§Î®∏Ïä§
        fashion: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏÜåÏÖúÎ°úÍ∑∏Ïù∏', 'ÏÉÅÌíàÍ≤ÄÏÉâ', 'Ïû•Î∞îÍµ¨Îãà', 'Í≤∞Ï†ú', 'Î∞∞ÏÜ°Ï°∞Ìöå', 'Î¶¨Î∑∞', 'ÏúÑÏãúÎ¶¨Ïä§Ìä∏', 'Ï†ÅÎ¶ΩÍ∏à/Ïø†Ìè∞', 'ÏÇ¨Ïù¥Ï¶àÍ∞ÄÏù¥Îìú', 'ÏΩîÎîîÏ∂îÏ≤ú', 'AI Ïä§ÌÉÄÏùºÎßÅ', 'Í∞ÄÏÉÅÌîºÌåÖ', 'Î∏åÎûúÎìúÍ¥Ä', 'ÏÑ∏Ïùº/ÌîÑÎ°úÎ™®ÏÖò', 'Ï†ïÍ∏∞Íµ¨ÎèÖ', 'Ïû¨ÏûÖÍ≥†ÏïåÎ¶º', 'Îπ†Î•∏Î∞∞ÏÜ°'],
        beauty: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏÜåÏÖúÎ°úÍ∑∏Ïù∏', 'ÏÉÅÌíàÍ≤ÄÏÉâ', 'Ïû•Î∞îÍµ¨Îãà', 'Í≤∞Ï†ú', 'AI ÌîºÎ∂ÄÏßÑÎã®', 'ÎßûÏ∂§Ï∂îÏ≤ú', 'Ï†ïÍ∏∞Íµ¨ÎèÖ', 'Î¶¨Î∑∞', 'Î∑∞Ìã∞ÌåÅ', 'ÏÑ±Î∂ÑÎ∂ÑÏÑù', 'Í∞ÄÏÉÅÎ©îÏù¥ÌÅ¨ÏóÖ', 'AR Ï≤¥Ìóò', 'Ï†ÑÎ¨∏Í∞ÄÏÉÅÎã¥', 'ÏÉòÌîåÏã†Ï≤≠', 'Î©§Î≤ÑÏã≠', 'Ìè¨Ïù∏Ìä∏', 'Ïù¥Î≤§Ìä∏'],
        fnb: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏÉÅÌíàÍ≤ÄÏÉâ', 'Ïû•Î∞îÍµ¨Îãà', 'Í≤∞Ï†ú', 'Ï†ïÍ∏∞Î∞∞ÏÜ°', 'Íµ¨ÎèÖ', 'Î¶¨Î∑∞', 'Î†àÏãúÌîº', 'ÏòÅÏñëÏ†ïÎ≥¥', 'ÏïåÎ†àÎ•¥Í∏∞Ï†ïÎ≥¥', 'ÏõêÏÇ∞ÏßÄÏ†ïÎ≥¥', 'Ïã†ÏÑ†ÎèÑÍ¥ÄÎ¶¨', 'Ïø®Î∞∞ÏÜ°', 'ÏÑ†Î¨ºÌïòÍ∏∞', 'Î¨∂ÏùåÌï†Ïù∏', 'Ìè¨Ïù∏Ìä∏', 'Îß§Ïû•Ï∞æÍ∏∞', 'ÌîΩÏóÖÏòàÏïΩ'],
        electronics: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏÉÅÌíàÍ≤ÄÏÉâ', 'Ïû•Î∞îÍµ¨Îãà', 'Í≤∞Ï†ú', 'Î∞∞ÏÜ°Ï°∞Ìöå', 'A/SÏã†Ï≤≠', 'Î¶¨Î∑∞', 'Ïä§ÌéôÎπÑÍµê', 'ÏÑ§ÏπòÏòàÏïΩ', 'Î†åÌÉà', 'Ï§ëÍ≥†Í±∞Îûò', 'Î≥¥ÏÉÅÌåêÎß§', 'Ïó∞Ïû•Î≥¥Ï¶ù', 'ÏÇ¨Ïö©ÏÑ§Î™ÖÏÑú', 'Ìò∏ÌôòÏÑ±Ï≤¥ÌÅ¨', 'Ïû¨Í≥†ÌôïÏù∏', 'Îß§Ïû•ÌîΩÏóÖ', 'Í∏∞ÏóÖÍµ¨Îß§'],
        furniture: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏÉÅÌíàÍ≤ÄÏÉâ', 'Ïû•Î∞îÍµ¨Îãà', 'Í≤∞Ï†ú', '3DÎ∑∞Ïñ¥', 'ARÎ∞∞Ïπò', 'Î¶¨Î∑∞', 'Ïù∏ÌÖåÎ¶¨Ïñ¥ÏÉÅÎã¥', 'ÏÑ§ÏπòÏòàÏïΩ', 'ÎßûÏ∂§Ï†úÏûë', 'ÏÇ¨Ïù¥Ï¶àÏãúÎÆ¨Î†àÏù¥ÏÖò', 'ÏÉâÏÉÅÎß§Ïπ≠', 'Î£∏Ïä§ÌÉÄÏùºÎßÅ', 'Ï°∞Î¶ΩÏÑúÎπÑÏä§', 'Î∞∞ÏÜ°ÏùºÏ†ï', 'Î∞òÌíà/ÍµêÌôò', 'Ìï†Î∂Ä', 'Í∏∞ÏóÖÍ≥†Í∞ù'],
        sports: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏÉÅÌíàÍ≤ÄÏÉâ', 'Ïû•Î∞îÍµ¨Îãà', 'Í≤∞Ï†ú', 'Î∞∞ÏÜ°Ï°∞Ìöå', 'Î¶¨Î∑∞', 'Ïª§ÎÆ§ÎãàÌã∞', 'Ïö¥ÎèôÍ∏∞Î°ù', 'Ï±åÎ¶∞ÏßÄ', 'Î©§Î≤ÑÏã≠', 'Ïö¥ÎèôÎ£®Ìã¥', 'ÏòÅÏñëÍ¥ÄÎ¶¨', 'Ïû•ÎπÑÏ∂îÏ≤ú', 'ÏÇ¨Ïù¥Ï¶àÏ∂îÏ≤ú', 'Ï§ëÍ≥†Í±∞Îûò', 'ÎåÄÏó¨ÏÑúÎπÑÏä§', 'Ïù¥Î≤§Ìä∏', 'Ìè¨Ïù∏Ìä∏'],
        kids: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏÉÅÌíàÍ≤ÄÏÉâ', 'Ïû•Î∞îÍµ¨Îãà', 'Í≤∞Ï†ú', 'Î∞∞ÏÜ°Ï°∞Ìöå', 'Î¶¨Î∑∞', 'Ïú°ÏïÑÏ†ïÎ≥¥', 'ÏÑ±Ïû•Í∏∞Î°ù', 'ÏïàÏ†ÑÏù∏Ï¶ùÏ†ïÎ≥¥', 'ÍµêÌôò/Î∞òÌíà', 'Ïó∞Î†πÎ≥ÑÏ∂îÏ≤ú', 'Î∞úÎã¨Ï†ïÎ≥¥', 'Î∂ÄÎ™®Ïª§ÎÆ§ÎãàÌã∞', 'ÏïåÎ†àÎ•¥Í∏∞ÌïÑÌÑ∞', 'ÏπúÌôòÍ≤ΩÏù∏Ï¶ù', 'Ï†ïÍ∏∞Î∞∞ÏÜ°', 'ÏÑ†Î¨ºÌïòÍ∏∞', 'Ìï†Ïù∏Ïø†Ìè∞'],
        pets: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏÉÅÌíàÍ≤ÄÏÉâ', 'Ïû•Î∞îÍµ¨Îãà', 'Í≤∞Ï†ú', 'Ï†ïÍ∏∞Î∞∞ÏÜ°', 'Î¶¨Î∑∞', 'Î∞òÎ†§ÎèôÎ¨ºÎì±Î°ù', 'Í±¥Í∞ïÍ∏∞Î°ù', 'ÏàòÏùòÏÇ¨ÏÉÅÎã¥', 'Ïª§ÎÆ§ÎãàÌã∞', 'ÏÇ¨Î£åÏ∂îÏ≤ú', 'ÏòÅÏñëÎ∂ÑÏÑù', 'ÏòàÎ∞©Ï†ëÏ¢Ö', 'ÎØ∏Ïö©ÏòàÏïΩ', 'Î≥¥Ìóò', 'Ïã§Ï¢ÖÏã†Í≥†', 'Î∂ÑÏñë/ÏûÖÏñë', 'Ìò∏ÌÖîÏòàÏïΩ'],
        luxury: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'VIPÏù∏Ï¶ù', 'ÏÉÅÌíàÍ≤ÄÏÉâ', 'Ïû•Î∞îÍµ¨Îãà', 'Í≤∞Ï†ú', 'VIPÏÑúÎπÑÏä§', 'Ï†ïÌíàÏù∏Ï¶ù', 'Î¶¨Î∑∞', 'Ïª®ÏãúÏñ¥ÏßÄ', 'ÏòàÏïΩÎ∞©Î¨∏', 'Î©§Î≤ÑÏã≠', 'ÌïúÏ†ïÌåêÏïåÎ¶º', 'ÏÇ¨Ï†ÑÏòàÏïΩ', 'ÌîÑÎùºÏù¥ÎπóÏÑ∏Ïùº', 'ÏàòÏÑ†/Í¥ÄÎ¶¨', 'Í∞êÏ†ïÏÑúÎπÑÏä§', 'Î≥¥Ìóò', 'ÏãúÌÅ¨Î¶øÏáºÎ£∏'],
        lifestyle: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏÉÅÌíàÍ≤ÄÏÉâ', 'Ïû•Î∞îÍµ¨Îãà', 'Í≤∞Ï†ú', 'Î∞∞ÏÜ°Ï°∞Ìöå', 'Î¶¨Î∑∞', 'Ïπ¥ÌÖåÍ≥†Î¶¨', 'Í∏∞ÌöçÏ†Ñ', 'Ï†ïÍ∏∞Íµ¨ÎèÖ', 'ÏÑ†Î¨ºÌïòÍ∏∞', 'SNSÍ≥µÏú†', 'Ïù∏ÌîåÎ£®Ïñ∏ÏÑúÏÉµ', 'ÎùºÏù¥Î∏åÏª§Î®∏Ïä§', 'AIÏ∂îÏ≤ú', 'Ìè¨Ïù∏Ìä∏', 'Ïø†Ìè∞', 'Ïù¥Î≤§Ìä∏', 'Î©§Î≤ÑÏã≠'],
        // ÏÑúÎπÑÏä§
        healthcare: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Î≥∏Ïù∏Ïù∏Ï¶ù', 'ÏßÑÎ£åÏòàÏïΩ', 'ÏùòÎ£åÏßÑÍ≤ÄÏÉâ', 'ÎπÑÏö©ÏïàÎÇ¥', 'ÏßÑÎ£åÍ∏∞Î°ù', 'Ï≤òÎ∞©Ï†Ñ', 'Í±¥Í∞ïÍ≤ÄÏßÑ', 'ÏõêÍ≤©ÏÉÅÎã¥', 'ÌôîÏÉÅÏßÑÎ£å', 'Î≥ëÏõêÏïàÎÇ¥', 'Î¶¨Î∑∞', 'ÏùòÎ£åÎπÑÍ≤∞Ï†ú', 'Î≥¥ÌóòÏ≤≠Íµ¨', 'Í±¥Í∞ïÏ†ïÎ≥¥', 'Î≥µÏïΩÏïåÎ¶º', 'ÏùëÍ∏âÏó∞ÎùΩ', 'AIÏ¶ùÏÉÅÏ≤¥ÌÅ¨'],
        education: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Í∞ïÏ¢åÍ≤ÄÏÉâ', 'ÏàòÍ∞ïÏã†Ï≤≠', 'Í≤∞Ï†ú', 'Ïò®ÎùºÏù∏Í∞ïÏùò', 'Ïã§ÏãúÍ∞ÑÏàòÏóÖ', 'Í≥ºÏ†úÏ†úÏ∂ú', 'ÏÑ±Ï†ÅÏ°∞Ìöå', 'Ï∂úÏÑùÍ¥ÄÎ¶¨', 'ÏßàÎ¨∏Í≤åÏãúÌåê', 'ÏàòÎ£åÏ¶ù', '1:1ÌäúÌÑ∞ÎßÅ', 'Ïä§ÌÑ∞ÎîîÍ∑∏Î£π', 'ÌïôÏäµÏßÑÎèÑ', 'AIÌïôÏäµÎ∂ÑÏÑù', 'ÏãúÌóòÏùëÏãú', 'ÏûêÎ£åÏã§', 'Ïª§ÎÆ§ÎãàÌã∞'],
        finance: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Î≥∏Ïù∏Ïù∏Ï¶ù', 'Í≥ÑÏ¢åÏó∞Í≤∞', 'ÏÉÅÌíàÏ°∞Ìöå', 'Ïã†Ï≤≠/Í∞ÄÏûÖ', 'ÏûêÏÇ∞Í¥ÄÎ¶¨', 'Í±∞ÎûòÎÇ¥Ïó≠', 'Ïù¥Ï≤¥', 'ÎåÄÏ∂ú', 'Î≥¥Ìóò', 'Ìà¨Ïûê', 'Ïó∞Í∏à', 'Ïπ¥Îìú', 'ÌôòÏ†Ñ', 'ÏÑ∏Í∏àÍ≥ÑÏÇ∞', 'Ìè¨Ïù∏Ìä∏', 'ÏïåÎ¶º', 'Í≥†Í∞ùÏÑºÌÑ∞'],
        travel: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Ïó¨ÌñâÏÉÅÌíàÍ≤ÄÏÉâ', 'Ìï≠Í≥µÏòàÏïΩ', 'Ìò∏ÌÖîÏòàÏïΩ', 'Ìå®ÌÇ§ÏßÄÏòàÏïΩ', 'Í≤∞Ï†ú', 'ÏùºÏ†ïÍ¥ÄÎ¶¨', 'ÏòàÏïΩÌôïÏù∏', 'Î¶¨Î∑∞', 'Ïó¨ÌñâÏ†ïÎ≥¥', 'Î≥¥Ìóò', 'ÎßàÏùºÎ¶¨ÏßÄ', 'ÌôòÏú®Í≥ÑÏÇ∞', 'ÎπÑÏûêÏ†ïÎ≥¥', 'ÎÇ†Ïî®Ï†ïÎ≥¥', 'ÌòÑÏßÄÌà¨Ïñ¥', 'Î†åÌÑ∞Ïπ¥', 'AIÏ∂îÏ≤ú'],
        realestate: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Îß§Î¨ºÍ≤ÄÏÉâ', 'ÏßÄÎèÑÍ≤ÄÏÉâ', 'Í¥ÄÏã¨Îß§Î¨º', 'Ï§ëÍ∞úÏÇ¨ÏÉÅÎã¥', 'Î∞©Î¨∏ÏòàÏïΩ', 'Í≥ÑÏïΩÍ¥ÄÎ¶¨', 'ÏãúÏÑ∏Ï†ïÎ≥¥', 'ÎåÄÏ∂úÏÉÅÎã¥', 'ÏûÖÏ£ºÍ¥ÄÎ¶¨', '3DÌà¨Ïñ¥', 'VRÍ≤¨Ìïô', 'Ïã§Í±∞ÎûòÍ∞Ä', 'ÌïôÍµ∞Ï†ïÎ≥¥', 'ÍµêÌÜµÏ†ïÎ≥¥', 'Ï£ºÎ≥ÄÏãúÏÑ§', 'Ïù∏ÌÖåÎ¶¨Ïñ¥', 'Ïù¥ÏÇ¨Í≤¨Ï†Å'],
        restaurant: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Îß§Ïû•Í≤ÄÏÉâ', 'Î©îÎâ¥Í≤ÄÏÉâ', 'ÏòàÏïΩ', 'Ïõ®Ïù¥ÌåÖ', 'Í≤∞Ï†ú', 'Ìè¨Ïù∏Ìä∏', 'Î¶¨Î∑∞', 'Ïù¥Î≤§Ìä∏', 'Îß§Ïû•Ï†ïÎ≥¥', 'ÌÖåÏù¥ÌÅ¨ÏïÑÏõÉ', 'Î∞∞Îã¨Ï£ºÎ¨∏', 'Îã®Ï≤¥ÏòàÏïΩ', 'ÌîÑÎùºÏù¥ÎπóÎ£∏', 'ÏÑ†Í≤∞Ï†ú', 'Íµ¨ÎèÖÍ∂å', 'ÏÑ†Î¨ºÌïòÍ∏∞', 'AIÏ∂îÏ≤ú'],
        fitness: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏàòÏóÖÏòàÏïΩ', 'ÌöåÏõêÍ∂åÍ¥ÄÎ¶¨', 'PTÏòàÏïΩ', 'Ïö¥ÎèôÍ∏∞Î°ù', 'ÏãùÎã®Í¥ÄÎ¶¨', 'Ïª§ÎÆ§ÎãàÌã∞', 'ÎùΩÏª§Í¥ÄÎ¶¨', 'Ï∂úÏÑùÏ≤¥ÌÅ¨', 'Ïù¥Î≤§Ìä∏', 'Î∞îÎîîÏ≤¥ÌÅ¨', 'Ïö¥ÎèôÏòÅÏÉÅ', 'AIÏΩîÏπ≠', 'Ï±åÎ¶∞ÏßÄ', 'Ìè¨Ïù∏Ìä∏', 'ÏñëÎèÑ/ÏùºÏãúÏ†ïÏßÄ', 'ÏßÄÏ†êÏÑ†ÌÉù', 'Ïã§ÏãúÍ∞ÑÌòÑÌô©'],
        salon: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Ïä§ÌÉÄÏùºÍ≤ÄÏÉâ', 'ÏòàÏïΩ', 'ÎîîÏûêÏù¥ÎÑàÏÑ†ÌÉù', 'Í≤∞Ï†ú', 'Ìè¨Ïù∏Ìä∏', 'Î¶¨Î∑∞', 'Ìè¨Ìä∏Ìè¥Î¶¨Ïò§', 'ÏÉÅÎã¥', 'Ïù¥Î≤§Ìä∏', 'ARÌó§Ïñ¥ÏãúÎÆ¨Î†àÏù¥ÏÖò', 'Ïä§ÌÉÄÏùºÏ∂îÏ≤ú', 'Í∞ÄÍ≤©Ìëú', 'Ïã§ÏãúÍ∞ÑÌòÑÌô©', 'Î©§Î≤ÑÏã≠', 'ÏÑ†Í≤∞Ï†ú', 'ÏßÄÏ†êÏÑ†ÌÉù', 'SNSÍ≥µÏú†'],
        consulting: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏÑúÎπÑÏä§Í≤ÄÏÉâ', 'ÏÉÅÎã¥Ïã†Ï≤≠', 'Í≤¨Ï†ÅÏöîÏ≤≠', 'ÌîÑÎ°úÏ†ùÌä∏Í¥ÄÎ¶¨', 'Í≤∞Ï†ú', 'Î¨∏ÏÑúÍ¥ÄÎ¶¨', 'ÏùºÏ†ïÍ¥ÄÎ¶¨', 'ÌôîÏÉÅÌöåÏùò', 'Î¶¨Î∑∞', 'Ìè¨Ìä∏Ìè¥Î¶¨Ïò§', 'Ï†ÑÎ¨∏Í∞ÄÎß§Ïπ≠', 'Í≥ÑÏïΩÍ¥ÄÎ¶¨', 'ÎßàÏùºÏä§ÌÜ§', 'Î≥¥Í≥†ÏÑú', 'Î©îÏãúÏßÄ', 'ÌèâÍ∞Ä', 'Ï†ïÏÇ∞'],
        recruitment: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Ï±ÑÏö©Í≥µÍ≥†Í≤ÄÏÉâ', 'Ïù¥Î†•ÏÑúÍ¥ÄÎ¶¨', 'ÏßÄÏõêÌïòÍ∏∞', 'Î©¥Ï†ëÏùºÏ†ï', 'Ìï©Í≤©Í≤∞Í≥º', 'Í∏∞ÏóÖÏ†ïÎ≥¥', 'Ïó∞Î¥âÏ†ïÎ≥¥', 'Ïª§Î¶¨Ïñ¥ÏÉÅÎã¥', 'ÏïåÎ¶º', 'AIÏù¥Î†•ÏÑúÎ∂ÑÏÑù', 'Ïó≠ÎüâÌÖåÏä§Ìä∏', 'ÌôîÏÉÅÎ©¥Ï†ë', 'Í∏∞ÏóÖÎ¶¨Î∑∞', 'Ïó∞Î¥âÌòëÏÉÅ', 'Ï∂îÏ≤úÏ±ÑÏö©', 'Ïù∏Ïû¨ÌíÄ', 'Ï±ÑÏö©ÏùºÏ†ï'],
        // ÎØ∏ÎîîÏñ¥/ÏΩòÌÖêÏ∏†
        media: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Í∏∞ÏÇ¨Í≤ÄÏÉâ', 'Ïπ¥ÌÖåÍ≥†Î¶¨', 'Íµ¨ÎèÖ', 'ÎåìÍ∏Ä', 'Î∂ÅÎßàÌÅ¨', 'Í≥µÏú†', 'ÏïåÎ¶º', 'ÎßûÏ∂§Îâ¥Ïä§', 'ÌîÑÎ¶¨ÎØ∏ÏóÑ', 'AIÏöîÏïΩ', 'Ìå©Ìä∏Ï≤¥ÌÅ¨', 'Ïã§ÏãúÍ∞ÑÏÜçÎ≥¥', 'ÏòÅÏÉÅÎâ¥Ïä§', 'ÌåüÏ∫êÏä§Ìä∏', 'Îâ¥Ïä§Î†àÌÑ∞', 'Í∏∞ÏûêÍµ¨ÎèÖ', 'Ïª§ÎÆ§ÎãàÌã∞'],
        entertainment: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏΩòÌÖêÏ∏†Í≤ÄÏÉâ', 'ÏãúÏ≤≠/Ï≤≠Ï∑®', 'Í≤∞Ï†ú', 'Íµ¨ÎèÖ', 'Ï¢ãÏïÑÏöî', 'ÎåìÍ∏Ä', 'ÌîåÎ†àÏù¥Î¶¨Ïä§Ìä∏', 'Ï∂îÏ≤ú', 'ÍµøÏ¶àÏÉµ', 'Ìå¨Ïª§ÎÆ§ÎãàÌã∞', 'ÎùºÏù¥Î∏åÎ∞©ÏÜ°', 'Ïò§ÌîÑÎùºÏù∏Ïù¥Î≤§Ìä∏', 'Î©§Î≤ÑÏã≠', 'Ìà¨Ìëú', 'Í∏∞ÌîÑÌä∏', 'Í≥µÏú†', 'ÏïåÎ¶º'],
        ott: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏΩòÌÖêÏ∏†Í≤ÄÏÉâ', 'ÏãúÏ≤≠', 'Íµ¨ÎèÖÍ≤∞Ï†ú', 'ÌîÑÎ°úÌïÑÍ¥ÄÎ¶¨', 'Ï∞úÎ™©Î°ù', 'Îã§Ïö¥Î°úÎìú', 'ÏãúÏ≤≠Í∏∞Î°ù', 'Ï∂îÏ≤ú', 'ÏûêÎÖÄÎ≥¥Ìò∏', 'ÎèôÏãúÏ†ëÏÜç', 'ÌôîÏßàÏÑ§Ï†ï', 'ÏûêÎßâÏÑ§Ï†ï', 'AIÏ∂îÏ≤ú', 'ÏãúÎ¶¨Ï¶àÏ∂îÏ†Å', 'Í≥µÏú†', 'ÌèâÍ∞Ä', 'Ïª§ÎÆ§ÎãàÌã∞'],
        gaming: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Í≤åÏûÑÍ≤ÄÏÉâ', 'Í≤∞Ï†ú', 'Ïù∏Ïï±Íµ¨Îß§', 'Îû≠ÌÇπ', 'ÏóÖÏ†Å', 'ÏπúÍµ¨', 'Í∏∏Îìú', 'Ï±ÑÌåÖ', 'Ïù¥Î≤§Ìä∏', 'ÏãúÏ¶åÌå®Ïä§', 'Î∞∞ÌãÄÌå®Ïä§', 'Ï∫êÎ¶≠ÌÑ∞Í¥ÄÎ¶¨', 'Ïù∏Î≤§ÌÜ†Î¶¨', 'Í±∞ÎûòÏÜå', 'Í≥†Í∞ùÏßÄÏõê', 'Ïã†Í≥†', 'Î¶¨ÎçîÎ≥¥Îìú'],
        community: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Í≤åÏãúÍ∏ÄÏûëÏÑ±', 'ÎåìÍ∏Ä', 'Ï¢ãÏïÑÏöî', 'ÌåîÎ°úÏö∞', 'Î©îÏãúÏßÄ', 'ÏïåÎ¶º', 'Í≤ÄÏÉâ', 'Ïã†Í≥†', 'ÌîÑÎ°úÌïÑ', 'Ï±ÑÌåÖÎ∞©', 'Í∑∏Î£π', 'Ïù¥Î≤§Ìä∏', 'Ìà¨Ìëú', 'ÎùºÏù¥Î∏å', 'Ïä§ÌÜ†Î¶¨', 'Ìï¥ÏãúÌÉúÍ∑∏', 'Ìä∏Î†åÎî©'],
        // Í≥µÍ≥µ/Í∏∞Í¥Ä
        public: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Î≥∏Ïù∏Ïù∏Ï¶ù', 'ÎØºÏõêÏã†Ï≤≠', 'ÏÑúÎ•òÎ∞úÍ∏â', 'ÏòàÏïΩ', 'Í≥µÏßÄÏÇ¨Ìï≠', 'Ï†ïÏ±ÖÏ†ïÎ≥¥', 'Í∏∞Í¥ÄÍ≤ÄÏÉâ', 'Ï†ÑÏûêÍ≤∞Ïû¨', 'FAQ', 'Ï±óÎ¥á', 'ÏïåÎ¶º', 'Íµ≠ÎØºÏ∞∏Ïó¨', 'ÏÑ§Î¨∏Ï°∞ÏÇ¨', 'ÌÜµÍ≥ÑÏ†ïÎ≥¥', 'Ïó¥Î¶∞Îç∞Ïù¥ÌÑ∞', 'Ïã†Í≥†/Ï†úÎ≥¥', 'Î∂àÌé∏Ï†ëÏàò'],
        nonprofit: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÌõÑÏõêÌïòÍ∏∞', 'Ï†ïÍ∏∞ÌõÑÏõê', 'Ï∫†ÌéòÏù∏', 'Î¥âÏÇ¨Ïã†Ï≤≠', 'ÌôúÎèôÏÜåÏãù', 'Ï¶ùÎ™ÖÏÑúÎ∞úÍ∏â', 'ÌöåÏõêÍ¥ÄÎ¶¨', 'Ïª§ÎÆ§ÎãàÌã∞', 'Îâ¥Ïä§Î†àÌÑ∞', 'Ïù¥Î≤§Ìä∏', 'ÌÅ¨ÎùºÏö∞ÎìúÌéÄÎî©', 'Ìà¨Î™ÖÏÑ±Î≥¥Í≥†', 'Í∏∞Î∂ÄÎÇ¥Ïó≠', 'ÏòÅÏàòÏ¶ùÎ∞úÍ∏â', 'Í∏∞ÏóÖÌõÑÏõê', 'Î¨ºÌíàÍ∏∞Î∂Ä', 'ÌôçÎ≥¥ÎåÄÏÇ¨'],
        association: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÌöåÏõêÍ∞ÄÏûÖÏã†Ï≤≠', 'ÌöåÎπÑÎÇ©Î∂Ä', 'ÌñâÏÇ¨Ïã†Ï≤≠', 'ÏûêÎ£åÏã§', 'Í≥µÏßÄÏÇ¨Ìï≠', 'ÌöåÏõêÍ≤ÄÏÉâ', 'Ïò®ÎùºÏù∏Ìà¨Ìëú', 'Ïª§ÎÆ§ÎãàÌã∞', 'Îâ¥Ïä§Î†àÌÑ∞', 'ÍµêÏú°Ïã†Ï≤≠', 'ÏûêÍ≤©Í¥ÄÎ¶¨', 'Íµ¨Ïù∏Íµ¨ÏßÅ', 'ÏóÖÍ≥ÑÎèôÌñ•', 'Ï†ïÏ±ÖÏ†úÏïà', 'Íµ≠Ï†úÍµêÎ•ò', 'ÌöåÏõêÏπ¥Îìú', 'Î™ÖÎ∂Ä'],
        university: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÌïôÏÇ¨Ï†ïÎ≥¥', 'ÏàòÍ∞ïÏã†Ï≤≠', 'ÏÑ±Ï†ÅÏ°∞Ìöå', 'Ïû•ÌïôÍ∏à', 'ÎèÑÏÑúÍ¥Ä', 'ÌïôÏÉùÏ¶ù', 'Ï¶ùÎ™ÖÏÑú', 'Ïª§ÎÆ§ÎãàÌã∞', 'Ï∑®ÏóÖÏ†ïÎ≥¥', 'ÎèôÏïÑÎ¶¨', 'ÏãúÏÑ§ÏòàÏïΩ', 'ÌïôÏÇ¨ÏùºÏ†ï', 'Í∞ïÏùòÌèâÍ∞Ä', 'ÏÉÅÎã¥ÏòàÏïΩ', 'Í∏∞ÏàôÏÇ¨', 'ÌïôÏÉùÏãùÎãπ', 'LMS'],
        // B2B
        b2b_commerce: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Í∏∞ÏóÖÏù∏Ï¶ù', 'ÏÉÅÌíàÍ≤ÄÏÉâ', 'RFQÏöîÏ≤≠', 'Í≤¨Ï†ÅÏÑú', 'Ï£ºÎ¨∏', 'Í≤∞Ï†ú', 'Ïû¨Í≥†Í¥ÄÎ¶¨', 'Í±∞ÎûòÏ≤òÍ¥ÄÎ¶¨', 'ÌÜµÍ≥Ñ', 'Ï†ïÏÇ∞', 'ÎåÄÎüâÏ£ºÎ¨∏', 'Í≥ÑÏïΩÍ¥ÄÎ¶¨', 'Ïã†Ïö©Í¥ÄÎ¶¨', 'Î∞∞ÏÜ°Ï∂îÏ†Å', 'EDIÏó∞Îèô', 'Î¶¨Ìè¨Ìä∏', 'Îã¥ÎãπÏûêÍ¥ÄÎ¶¨'],
        saas: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏÑúÎπÑÏä§ÏÜåÍ∞ú', 'ÏöîÍ∏àÏ†ú', 'Î¨¥Î£åÏ≤¥Ìóò', 'Í≤∞Ï†ú', 'ÎåÄÏãúÎ≥¥Îìú', 'ÌåÄÍ¥ÄÎ¶¨', 'API', 'Í≥†Í∞ùÏßÄÏõê', 'ÏóÖÎç∞Ïù¥Ìä∏', 'ÏõåÌÅ¨Ïä§ÌéòÏù¥Ïä§', 'Í∂åÌïúÍ¥ÄÎ¶¨', 'Ïó∞ÎèôÏÑ§Ï†ï', 'ÏÇ¨Ïö©ÎüâÎ∂ÑÏÑù', 'ÏïåÎ¶º', 'Î∞±ÏóÖ', 'Î≥¥ÏïàÏÑ§Ï†ï', 'Îã§Íµ≠Ïñ¥'],
        manufacturing: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Ï†úÌíàÏπ¥ÌÉàÎ°úÍ∑∏', 'Í≤¨Ï†ÅÏöîÏ≤≠', 'Ï£ºÎ¨∏', 'ÏÉùÏÇ∞ÌòÑÌô©', 'ÌíàÏßàÍ¥ÄÎ¶¨', 'Î¨ºÎ•òÏ∂îÏ†Å', 'Ï†ïÏÇ∞', 'B2BÎßàÏºì', 'ÌååÌä∏ÎÑàÍ¥ÄÎ¶¨', 'MOQÏÑ§Ï†ï', 'ÏÉòÌîåÏöîÏ≤≠', 'Ïù∏Ï¶ùÏÑú', 'OEM/ODM', 'Í∏∞Ïà†Î¨∏ÏÑú', 'ÏàòÏ∂úÏûÖ', 'Ïû¨Í≥†ÏïåÎ¶º', 'SCM'],
        logistics: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Î∞∞ÏÜ°Ï°∞Ìöå', 'Ïö¥ÏÜ°ÏòàÏïΩ', 'Í≤¨Ï†ÅÏÇ∞Ï∂ú', 'Ï∞ΩÍ≥†Í¥ÄÎ¶¨', 'Ïû¨Í≥†Í¥ÄÎ¶¨', 'Ï†ïÏÇ∞', 'APIÏó∞Îèô', 'ÎåÄÏãúÎ≥¥Îìú', 'Î¶¨Ìè¨Ìä∏', 'Ïã§ÏãúÍ∞ÑÏ∂îÏ†Å', 'Î∞∞Ï∞®Í¥ÄÎ¶¨', 'Í∏∞ÏÇ¨Í¥ÄÎ¶¨', 'Î∞òÌíàÍ¥ÄÎ¶¨', 'ÌÜµÍ¥Ä', 'Î≥¥Ìóò', 'Í≥ÑÏïΩÍ¥ÄÎ¶¨', 'TMS']
    };
    
    // ÏóÖÏ¢Ö Î≥ÄÍ≤Ω Ïãú Ï£ºÏöî Í∏∞Îä• ÏóÖÎç∞Ïù¥Ìä∏
    function updateProposalFeatures() {
        const selectedIndustry = industrySelect?.value;
        
        if (!suggestedTagsContainer) return;
        
        let features = proposalFeatures[selectedIndustry] || ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏÜåÏÖúÎ°úÍ∑∏Ïù∏', 'ÏÉÅÌíàÍ≤ÄÏÉâ', 'Ïû•Î∞îÍµ¨Îãà', 'Í≤∞Ï†ú', 'Î∞∞ÏÜ°Ï°∞Ìöå', 'Î¶¨Î∑∞', 'AI Ï±óÎ¥á'];
        
        suggestedTagsContainer.innerHTML = features.map(feature => 
            `<span class="suggested-tag" data-tag="${feature}">${feature}</span>`
        ).join('');
        
        // ÌÉúÍ∑∏ ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏ Îã§Ïãú Î∞îÏù∏Îî©
        initSuggestedTags();
    }
    
    // Ï∂îÏ≤ú ÌÉúÍ∑∏ ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏ Ï¥àÍ∏∞Ìôî
    function initSuggestedTags() {
        const suggestedTags = suggestedTagsContainer?.querySelectorAll('.suggested-tag');
        suggestedTags?.forEach(tag => {
            tag.addEventListener('click', () => {
                const tagText = tag.dataset.tag;
                const selectedTags = document.getElementById('selectedTags');
                
                // Ïù¥ÎØ∏ ÏÑ†ÌÉùÎêú ÌÉúÍ∑∏Ïù∏ÏßÄ ÌôïÏù∏
                const existingTags = selectedTags.querySelectorAll('.tag');
                const tagExists = Array.from(existingTags).some(t => t.textContent.replace('√ó', '').trim() === tagText);
                
                if (!tagExists) {
                    const tagElement = document.createElement('span');
                    tagElement.className = 'tag';
                    tagElement.innerHTML = `${tagText}<span class="tag-remove">√ó</span>`;
                    selectedTags.appendChild(tagElement);
                    
                    tagElement.querySelector('.tag-remove').addEventListener('click', () => {
                        tagElement.remove();
                    });
                }
            });
        });
    }
    
    // ÏóÖÏ¢Ö ÏÑ†ÌÉù Î≥ÄÍ≤Ω Ïù¥Î≤§Ìä∏
    industrySelect?.addEventListener('change', updateProposalFeatures);
    
    // Ï¥àÍ∏∞ ÌÉúÍ∑∏ Ïù¥Î≤§Ìä∏ Î∞îÏù∏Îî©
    initSuggestedTags();
    
    form?.addEventListener('submit', (e) => {
        e.preventDefault();
        
        // Show loading state
        const placeholder = resultCard.querySelector('.result-placeholder');
        const content = resultCard.querySelector('.result-content');
        
        placeholder.innerHTML = `
            <div class="placeholder-icon loading">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <circle cx="12" cy="12" r="10"/>
                    <path d="M12 6v6l4 2"/>
                </svg>
            </div>
            <h3>AI Î∂ÑÏÑù Ï§ë...</h3>
            <p>Í≥ºÍ±∞ ÌîÑÎ°úÏ†ùÌä∏ Îç∞Ïù¥ÌÑ∞Î•º Î∂ÑÏÑùÌïòÍ≥† ÏûàÏäµÎãàÎã§.<br>Ïû†ÏãúÎßå Í∏∞Îã§Î†§Ï£ºÏÑ∏Ïöî.</p>
        `;
        
        // Simulate AI processing
        setTimeout(() => {
            placeholder.style.display = 'none';
            content.style.display = 'block';
            content.style.animation = 'fadeIn 0.5s ease';
        }, 2000);
    });
}

// ============================================
// Estimate Form
// ============================================

function initEstimateForm() {
    const form = document.getElementById('estimateForm');
    const resultCard = document.getElementById('estimateResult');
    
    form?.addEventListener('submit', (e) => {
        e.preventDefault();
        
        // Add animation to result
        if (resultCard) {
            resultCard.style.animation = 'none';
            resultCard.offsetHeight; // Trigger reflow
            resultCard.style.animation = 'fadeIn 0.5s ease';
            
            // Animate gauge
            const gaugeFill = resultCard.querySelector('.gauge-fill');
            const gaugeMarker = resultCard.querySelector('.gauge-marker');
            
            if (gaugeFill && gaugeMarker) {
                gaugeFill.style.transition = 'width 1s ease';
                gaugeMarker.style.transition = 'left 1s ease';
            }
        }
    });
}

// ============================================
// IA Form
// ============================================

function initIAForm() {
    const form = document.getElementById('iaForm');
    const industrySelect = document.getElementById('iaIndustry');
    const siteTypeSelect = document.getElementById('iaSiteType');
    const featuresContainer = document.getElementById('iaFeatures');
    const iaTree = document.getElementById('iaTree');
    
    // ÏÇ¨Ïù¥Ìä∏ Ïú†ÌòïÎ≥Ñ Ï£ºÏöî Í∏∞Îä• Îç∞Ïù¥ÌÑ∞
    const siteTypeFeatures = {
        shopping: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏÉÅÌíàÍ≤ÄÏÉâ', 'Ïπ¥ÌÖåÍ≥†Î¶¨', 'Ïû•Î∞îÍµ¨Îãà', 'Í≤∞Ï†ú', 'Î∞∞ÏÜ°Ï°∞Ìöå', 'Î¶¨Î∑∞', 'ÏúÑÏãúÎ¶¨Ïä§Ìä∏', 'Ï†ÅÎ¶ΩÍ∏à/Ïø†Ìè∞', 'Ïù¥Î≤§Ìä∏'],
        brand: ['Î∏åÎûúÎìú ÏÜåÍ∞ú', 'Ï†úÌíà ÎùºÏù∏ÏóÖ', 'Î∏åÎûúÎìú Ïä§ÌÜ†Î¶¨', 'Îß§Ïû• Ï∞æÍ∏∞', 'Îâ¥Ïä§/Î≥¥ÎèÑÏûêÎ£å', 'Ï±ÑÏö©Ï†ïÎ≥¥', 'Í≥†Í∞ùÏÑºÌÑ∞', 'SNS Ïó∞Îèô', 'Îâ¥Ïä§Î†àÌÑ∞', 'ÌöåÏõêÍ∞ÄÏûÖ'],
        corporate: ['ÌöåÏÇ¨ÏÜåÍ∞ú', 'ÏÇ¨ÏóÖÏòÅÏó≠', 'Ïó∞ÌòÅ', 'Ï°∞ÏßÅÎèÑ', 'CI/BI', 'Î≥¥ÎèÑÏûêÎ£å', 'Ï±ÑÏö©Ï†ïÎ≥¥', 'Ïò§ÏãúÎäî Í∏∏', 'Î¨∏ÏùòÌïòÍ∏∞', 'ÌååÌä∏ÎÑàÏÇ¨'],
        service: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏÑúÎπÑÏä§ ÏÜåÍ∞ú', 'ÏöîÍ∏àÏ†ú', 'Ïã†Ï≤≠/Í∞ÄÏûÖ', 'ÎßàÏù¥ÌéòÏù¥ÏßÄ', 'Í≤∞Ï†ú', 'Í≥†Í∞ùÏÑºÌÑ∞', 'Í≥µÏßÄÏÇ¨Ìï≠', 'FAQ', 'Ïù¥Ïö©ÏïΩÍ¥Ä'],
        portal: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Í≤åÏãúÌåê', 'Í≤ÄÏÉâ', 'Ïπ¥ÌÖåÍ≥†Î¶¨', 'ÎåìÍ∏Ä', 'Ï¢ãÏïÑÏöî', 'ÌåîÎ°úÏö∞', 'ÏïåÎ¶º', 'Î©îÏãúÏßÄ', 'ÌîÑÎ°úÌïÑ'],
        booking: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏòàÏïΩÌïòÍ∏∞', 'ÎÇ†Ïßú/ÏãúÍ∞ÑÏÑ†ÌÉù', 'ÏòàÏïΩÏ°∞Ìöå', 'ÏòàÏïΩÎ≥ÄÍ≤Ω/Ï∑®ÏÜå', 'Í≤∞Ï†ú', 'Î¶¨Î∑∞', 'ÏïåÎ¶º', 'ÎßàÏù¥ÌéòÏù¥ÏßÄ', 'Í≥†Í∞ùÏÑºÌÑ∞'],
        membership: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Î©§Î≤ÑÏã≠ ÌòúÌÉù', 'ÌöåÏõêÎì±Í∏â', 'Ìè¨Ïù∏Ìä∏', 'Ïø†Ìè∞', 'ÎßàÏù¥ÌéòÏù¥ÏßÄ', 'Í≤∞Ï†ú', 'Ïù¥Î≤§Ìä∏', 'Í≥µÏßÄÏÇ¨Ìï≠', 'Í≥†Í∞ùÏÑºÌÑ∞']
    };

    // ÏóÖÏ¢ÖÎ≥Ñ Ï£ºÏöî Í∏∞Îä• Îç∞Ïù¥ÌÑ∞
    const industryFeatures = {
        // Ïª§Î®∏Ïä§
        fashion: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏÉÅÌíàÍ≤ÄÏÉâ', 'Ïû•Î∞îÍµ¨Îãà', 'Í≤∞Ï†ú', 'Î∞∞ÏÜ°Ï°∞Ìöå', 'Î¶¨Î∑∞', 'ÏúÑÏãúÎ¶¨Ïä§Ìä∏', 'Ï†ÅÎ¶ΩÍ∏à/Ïø†Ìè∞', 'ÏÇ¨Ïù¥Ï¶àÍ∞ÄÏù¥Îìú', 'ÏΩîÎîîÏ∂îÏ≤ú'],
        beauty: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏÉÅÌíàÍ≤ÄÏÉâ', 'Ïû•Î∞îÍµ¨Îãà', 'Í≤∞Ï†ú', 'AI ÌîºÎ∂ÄÏßÑÎã®', 'Î¶¨Î∑∞', 'Ï†ïÍ∏∞Íµ¨ÎèÖ', 'Ï†ÅÎ¶ΩÍ∏à/Ïø†Ìè∞', 'ÎßûÏ∂§Ï∂îÏ≤ú', 'Î∑∞Ìã∞ÌåÅ'],
        fnb: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Î©îÎâ¥Í≤ÄÏÉâ', 'Ïû•Î∞îÍµ¨Îãà', 'Í≤∞Ï†ú', 'ÏòàÏïΩ', 'Ìè¨Ïù∏Ìä∏', 'Î¶¨Î∑∞', 'Îß§Ïû•Ï∞æÍ∏∞', 'ÌÖåÏù¥ÌÅ¨ÏïÑÏõÉ', 'Î∞∞Îã¨'],
        electronics: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏÉÅÌíàÍ≤ÄÏÉâ', 'Ïû•Î∞îÍµ¨Îãà', 'Í≤∞Ï†ú', 'Î∞∞ÏÜ°Ï°∞Ìöå', 'A/SÏã†Ï≤≠', 'Î¶¨Î∑∞', 'Ïä§ÌéôÎπÑÍµê', 'ÏÑ§ÏπòÏòàÏïΩ', 'Î†åÌÉà'],
        furniture: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏÉÅÌíàÍ≤ÄÏÉâ', 'Ïû•Î∞îÍµ¨Îãà', 'Í≤∞Ï†ú', '3DÎ∑∞Ïñ¥', 'ARÎ∞∞Ïπò', 'Î¶¨Î∑∞', 'Ïù∏ÌÖåÎ¶¨Ïñ¥ÏÉÅÎã¥', 'ÏÑ§ÏπòÏòàÏïΩ', 'ÎßûÏ∂§Ï†úÏûë'],
        sports: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏÉÅÌíàÍ≤ÄÏÉâ', 'Ïû•Î∞îÍµ¨Îãà', 'Í≤∞Ï†ú', 'Î∞∞ÏÜ°Ï°∞Ìöå', 'Î¶¨Î∑∞', 'Ïª§ÎÆ§ÎãàÌã∞', 'Ïö¥ÎèôÍ∏∞Î°ù', 'Ï±åÎ¶∞ÏßÄ', 'Î©§Î≤ÑÏã≠'],
        kids: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏÉÅÌíàÍ≤ÄÏÉâ', 'Ïû•Î∞îÍµ¨Îãà', 'Í≤∞Ï†ú', 'Î∞∞ÏÜ°Ï°∞Ìöå', 'Î¶¨Î∑∞', 'Ïú°ÏïÑÏ†ïÎ≥¥', 'ÏÑ±Ïû•Í∏∞Î°ù', 'ÏïàÏ†ÑÏù∏Ï¶ùÏ†ïÎ≥¥', 'ÍµêÌôò/Î∞òÌíà'],
        pets: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏÉÅÌíàÍ≤ÄÏÉâ', 'Ïû•Î∞îÍµ¨Îãà', 'Í≤∞Ï†ú', 'Ï†ïÍ∏∞Î∞∞ÏÜ°', 'Î¶¨Î∑∞', 'Î∞òÎ†§ÎèôÎ¨ºÎì±Î°ù', 'Í±¥Í∞ïÍ∏∞Î°ù', 'ÏàòÏùòÏÇ¨ÏÉÅÎã¥', 'Ïª§ÎÆ§ÎãàÌã∞'],
        luxury: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏÉÅÌíàÍ≤ÄÏÉâ', 'Ïû•Î∞îÍµ¨Îãà', 'Í≤∞Ï†ú', 'VIPÏÑúÎπÑÏä§', 'Ï†ïÌíàÏù∏Ï¶ù', 'Î¶¨Î∑∞', 'Ïª®ÏãúÏñ¥ÏßÄ', 'ÏòàÏïΩÎ∞©Î¨∏', 'Î©§Î≤ÑÏã≠'],
        // ÏÑúÎπÑÏä§
        healthcare: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏßÑÎ£åÏòàÏïΩ', 'ÏùòÎ£åÏßÑÍ≤ÄÏÉâ', 'ÎπÑÏö©ÏïàÎÇ¥', 'ÏßÑÎ£åÍ∏∞Î°ù', 'Ï≤òÎ∞©Ï†Ñ', 'Í±¥Í∞ïÍ≤ÄÏßÑ', 'ÏõêÍ≤©ÏÉÅÎã¥', 'Î≥ëÏõêÏïàÎÇ¥', 'Î¶¨Î∑∞'],
        education: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Í∞ïÏ¢åÍ≤ÄÏÉâ', 'ÏàòÍ∞ïÏã†Ï≤≠', 'Í≤∞Ï†ú', 'Ïò®ÎùºÏù∏Í∞ïÏùò', 'Í≥ºÏ†úÏ†úÏ∂ú', 'ÏÑ±Ï†ÅÏ°∞Ìöå', 'Ï∂úÏÑùÍ¥ÄÎ¶¨', 'ÏßàÎ¨∏Í≤åÏãúÌåê', 'ÏàòÎ£åÏ¶ù'],
        travel: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Ïó¨ÌñâÏÉÅÌíàÍ≤ÄÏÉâ', 'ÏòàÏïΩ', 'Í≤∞Ï†ú', 'ÏùºÏ†ïÍ¥ÄÎ¶¨', 'ÏòàÏïΩÌôïÏù∏', 'Î¶¨Î∑∞', 'Ïó¨ÌñâÏ†ïÎ≥¥', 'Î≥¥Ìóò', 'ÎßàÏùºÎ¶¨ÏßÄ'],
        realestate: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Îß§Î¨ºÍ≤ÄÏÉâ', 'ÏßÄÎèÑÍ≤ÄÏÉâ', 'Í¥ÄÏã¨Îß§Î¨º', 'Ï§ëÍ∞úÏÇ¨ÏÉÅÎã¥', 'Î∞©Î¨∏ÏòàÏïΩ', 'Í≥ÑÏïΩÍ¥ÄÎ¶¨', 'ÏãúÏÑ∏Ï†ïÎ≥¥', 'ÎåÄÏ∂úÏÉÅÎã¥', 'ÏûÖÏ£ºÍ¥ÄÎ¶¨'],
        finance: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Î≥∏Ïù∏Ïù∏Ï¶ù', 'ÏÉÅÌíàÏ°∞Ìöå', 'Ïã†Ï≤≠/Í∞ÄÏûÖ', 'ÏûêÏÇ∞Í¥ÄÎ¶¨', 'Í±∞ÎûòÎÇ¥Ïó≠', 'Ïù¥Ï≤¥', 'ÎåÄÏ∂ú', 'Î≥¥Ìóò', 'Ìà¨Ïûê'],
        restaurant: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Î©îÎâ¥Í≤ÄÏÉâ', 'ÏòàÏïΩ', 'Ïõ®Ïù¥ÌåÖ', 'Í≤∞Ï†ú', 'Ìè¨Ïù∏Ìä∏', 'Î¶¨Î∑∞', 'Ïù¥Î≤§Ìä∏', 'Îß§Ïû•Ï†ïÎ≥¥', 'ÌÖåÏù¥ÌÅ¨ÏïÑÏõÉ'],
        fitness: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏàòÏóÖÏòàÏïΩ', 'ÌöåÏõêÍ∂åÍ¥ÄÎ¶¨', 'PTÏòàÏïΩ', 'Ïö¥ÎèôÍ∏∞Î°ù', 'ÏãùÎã®Í¥ÄÎ¶¨', 'Ïª§ÎÆ§ÎãàÌã∞', 'ÎùΩÏª§Í¥ÄÎ¶¨', 'Ï∂úÏÑùÏ≤¥ÌÅ¨', 'Ïù¥Î≤§Ìä∏'],
        salon: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Ïä§ÌÉÄÏùºÍ≤ÄÏÉâ', 'ÏòàÏïΩ', 'ÎîîÏûêÏù¥ÎÑàÏÑ†ÌÉù', 'Í≤∞Ï†ú', 'Ìè¨Ïù∏Ìä∏', 'Î¶¨Î∑∞', 'Ìè¨Ìä∏Ìè¥Î¶¨Ïò§', 'ÏÉÅÎã¥', 'Ïù¥Î≤§Ìä∏'],
        consulting: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏÑúÎπÑÏä§Í≤ÄÏÉâ', 'ÏÉÅÎã¥Ïã†Ï≤≠', 'Í≤¨Ï†ÅÏöîÏ≤≠', 'ÌîÑÎ°úÏ†ùÌä∏Í¥ÄÎ¶¨', 'Í≤∞Ï†ú', 'Î¨∏ÏÑúÍ¥ÄÎ¶¨', 'ÏùºÏ†ïÍ¥ÄÎ¶¨', 'ÌôîÏÉÅÌöåÏùò', 'Î¶¨Î∑∞'],
        recruitment: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Ï±ÑÏö©Í≥µÍ≥†Í≤ÄÏÉâ', 'Ïù¥Î†•ÏÑúÍ¥ÄÎ¶¨', 'ÏßÄÏõêÌïòÍ∏∞', 'Î©¥Ï†ëÏùºÏ†ï', 'Ìï©Í≤©Í≤∞Í≥º', 'Í∏∞ÏóÖÏ†ïÎ≥¥', 'Ïó∞Î¥âÏ†ïÎ≥¥', 'Ïª§Î¶¨Ïñ¥ÏÉÅÎã¥', 'ÏïåÎ¶º'],
        // ÎØ∏ÎîîÏñ¥/ÏΩòÌÖêÏ∏†
        media: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Í∏∞ÏÇ¨Í≤ÄÏÉâ', 'Ïπ¥ÌÖåÍ≥†Î¶¨', 'Íµ¨ÎèÖ', 'ÎåìÍ∏Ä', 'Î∂ÅÎßàÌÅ¨', 'Í≥µÏú†', 'ÏïåÎ¶º', 'ÎßûÏ∂§Îâ¥Ïä§', 'ÌîÑÎ¶¨ÎØ∏ÏóÑ'],
        entertainment: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏΩòÌÖêÏ∏†Í≤ÄÏÉâ', 'ÏãúÏ≤≠/Ï≤≠Ï∑®', 'Í≤∞Ï†ú', 'Íµ¨ÎèÖ', 'Ï¢ãÏïÑÏöî', 'ÎåìÍ∏Ä', 'ÌîåÎ†àÏù¥Î¶¨Ïä§Ìä∏', 'Ï∂îÏ≤ú', 'ÍµøÏ¶àÏÉµ'],
        ott: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏΩòÌÖêÏ∏†Í≤ÄÏÉâ', 'ÏãúÏ≤≠', 'Íµ¨ÎèÖÍ≤∞Ï†ú', 'ÌîÑÎ°úÌïÑÍ¥ÄÎ¶¨', 'Ï∞úÎ™©Î°ù', 'Îã§Ïö¥Î°úÎìú', 'ÏãúÏ≤≠Í∏∞Î°ù', 'Ï∂îÏ≤ú', 'ÏûêÎÖÄÎ≥¥Ìò∏'],
        community: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Í≤åÏãúÍ∏ÄÏûëÏÑ±', 'ÎåìÍ∏Ä', 'Ï¢ãÏïÑÏöî', 'ÌåîÎ°úÏö∞', 'Î©îÏãúÏßÄ', 'ÏïåÎ¶º', 'Í≤ÄÏÉâ', 'Ïã†Í≥†', 'ÌîÑÎ°úÌïÑ'],
        // Í≥µÍ≥µ/Í∏∞Í¥Ä
        public: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÎØºÏõêÏã†Ï≤≠', 'ÏÑúÎ•òÎ∞úÍ∏â', 'ÏòàÏïΩ', 'Í≥µÏßÄÏÇ¨Ìï≠', 'Ï†ïÏ±ÖÏ†ïÎ≥¥', 'Í∏∞Í¥ÄÍ≤ÄÏÉâ', 'Ï†ÑÏûêÍ≤∞Ïû¨', 'FAQ', 'Ï±óÎ¥á'],
        nonprofit: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÌõÑÏõêÌïòÍ∏∞', 'Ï†ïÍ∏∞ÌõÑÏõê', 'Ï∫†ÌéòÏù∏', 'Î¥âÏÇ¨Ïã†Ï≤≠', 'ÌôúÎèôÏÜåÏãù', 'Ï¶ùÎ™ÖÏÑúÎ∞úÍ∏â', 'ÌöåÏõêÍ¥ÄÎ¶¨', 'Ïª§ÎÆ§ÎãàÌã∞', 'Îâ¥Ïä§Î†àÌÑ∞'],
        association: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÌöåÏõêÍ∞ÄÏûÖÏã†Ï≤≠', 'ÌöåÎπÑÎÇ©Î∂Ä', 'ÌñâÏÇ¨Ïã†Ï≤≠', 'ÏûêÎ£åÏã§', 'Í≥µÏßÄÏÇ¨Ìï≠', 'ÌöåÏõêÍ≤ÄÏÉâ', 'Ïò®ÎùºÏù∏Ìà¨Ìëú', 'Ïª§ÎÆ§ÎãàÌã∞', 'Îâ¥Ïä§Î†àÌÑ∞'],
        university: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÌïôÏÇ¨Ï†ïÎ≥¥', 'ÏàòÍ∞ïÏã†Ï≤≠', 'ÏÑ±Ï†ÅÏ°∞Ìöå', 'Ïû•ÌïôÍ∏à', 'ÎèÑÏÑúÍ¥Ä', 'ÌïôÏÉùÏ¶ù', 'Ï¶ùÎ™ÖÏÑú', 'Ïª§ÎÆ§ÎãàÌã∞', 'Ï∑®ÏóÖÏ†ïÎ≥¥'],
        // B2B
        b2b_commerce: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏÉÅÌíàÍ≤ÄÏÉâ', 'RFQÏöîÏ≤≠', 'Í≤¨Ï†ÅÏÑú', 'Ï£ºÎ¨∏', 'Í≤∞Ï†ú', 'Ïû¨Í≥†Í¥ÄÎ¶¨', 'Í±∞ÎûòÏ≤òÍ¥ÄÎ¶¨', 'ÌÜµÍ≥Ñ', 'Ï†ïÏÇ∞'],
        saas: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'ÏÑúÎπÑÏä§ÏÜåÍ∞ú', 'ÏöîÍ∏àÏ†ú', 'Î¨¥Î£åÏ≤¥Ìóò', 'Í≤∞Ï†ú', 'ÎåÄÏãúÎ≥¥Îìú', 'ÌåÄÍ¥ÄÎ¶¨', 'API', 'Í≥†Í∞ùÏßÄÏõê', 'ÏóÖÎç∞Ïù¥Ìä∏'],
        manufacturing: ['ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏', 'Ï†úÌíàÏπ¥ÌÉàÎ°úÍ∑∏', 'Í≤¨Ï†ÅÏöîÏ≤≠', 'Ï£ºÎ¨∏', 'ÏÉùÏÇ∞ÌòÑÌô©', 'ÌíàÏßàÍ¥ÄÎ¶¨', 'Î¨ºÎ•òÏ∂îÏ†Å', 'Ï†ïÏÇ∞', 'B2BÎßàÏºì', 'ÌååÌä∏ÎÑàÍ¥ÄÎ¶¨']
    };

    // ÏÇ¨Ïù¥Ìä∏ Ïú†ÌòïÎ≥Ñ IA Ìä∏Î¶¨ Îç∞Ïù¥ÌÑ∞
    const siteTypeTreeData = {
        shopping: [
            { icon: 'üè†', label: 'Ìôà', depth: 0 },
            { icon: 'üõçÔ∏è', label: 'Ï†ÑÏ≤¥ ÏÉÅÌíà', depth: 0, badge: 'depth 2' },
            { label: 'Ïã†ÏÉÅÌíà', depth: 1 },
            { label: 'Î≤†Ïä§Ìä∏', depth: 1 },
            { label: 'ÏÑ∏Ïùº', depth: 1 },
            { icon: 'üìÇ', label: 'Ïπ¥ÌÖåÍ≥†Î¶¨', depth: 0, badge: 'depth 2' },
            { icon: 'üéâ', label: 'Ïù¥Î≤§Ìä∏', depth: 0 },
            { icon: '‚ùì', label: 'Í≥†Í∞ùÏÑºÌÑ∞', depth: 0 },
            { icon: 'üë§', label: 'ÎßàÏù¥ÌéòÏù¥ÏßÄ', depth: 0, badge: 'depth 2' },
            { label: 'Ï£ºÎ¨∏ÎÇ¥Ïó≠', depth: 1 },
            { label: 'ÏúÑÏãúÎ¶¨Ïä§Ìä∏', depth: 1 },
            { label: 'Ïø†Ìè∞Ìï®', depth: 1 }
        ],
        brand: [
            { icon: 'üè†', label: 'Ìôà', depth: 0 },
            { icon: '‚ú®', label: 'Î∏åÎûúÎìú', depth: 0, badge: 'depth 2' },
            { label: 'Î∏åÎûúÎìú Ïä§ÌÜ†Î¶¨', depth: 1 },
            { label: 'Ï≤†Ìïô', depth: 1 },
            { label: 'ÌûàÏä§ÌÜ†Î¶¨', depth: 1 },
            { icon: 'üì¶', label: 'Ï†úÌíà', depth: 0, badge: 'depth 2' },
            { label: 'ÎùºÏù∏ÏóÖ ÏÜåÍ∞ú', depth: 1 },
            { label: 'Ïã†Ï†úÌíà', depth: 1 },
            { icon: 'üì∞', label: 'Îâ¥Ïä§', depth: 0 },
            { icon: 'üìç', label: 'Îß§Ïû• Ï∞æÍ∏∞', depth: 0 },
            { icon: 'üíº', label: 'Ï±ÑÏö©', depth: 0 },
            { icon: 'üìû', label: 'Í≥†Í∞ùÏÑºÌÑ∞', depth: 0 }
        ],
        corporate: [
            { icon: 'üè†', label: 'Ìôà', depth: 0 },
            { icon: 'üè¢', label: 'ÌöåÏÇ¨ÏÜåÍ∞ú', depth: 0, badge: 'depth 3' },
            { label: 'Ïù∏ÏÇ¨Îßê', depth: 1 },
            { label: 'Ïó∞ÌòÅ', depth: 1 },
            { label: 'Ï°∞ÏßÅÎèÑ', depth: 1 },
            { label: 'CI/BI', depth: 1 },
            { icon: 'üíº', label: 'ÏÇ¨ÏóÖÏòÅÏó≠', depth: 0, badge: 'depth 2' },
            { label: 'Ï£ºÏöî ÏÇ¨ÏóÖ', depth: 1 },
            { label: 'Ïã§Ï†Å', depth: 1 },
            { icon: 'üì∞', label: 'PR', depth: 0, badge: 'depth 2' },
            { label: 'Î≥¥ÎèÑÏûêÎ£å', depth: 1 },
            { label: 'Í≥µÏßÄÏÇ¨Ìï≠', depth: 1 },
            { icon: 'üë•', label: 'Ï±ÑÏö©', depth: 0 },
            { icon: 'üìû', label: 'Î¨∏Ïùò', depth: 0 }
        ],
        service: [
            { icon: 'üè†', label: 'Ìôà', depth: 0 },
            { icon: 'üí°', label: 'ÏÑúÎπÑÏä§ ÏÜåÍ∞ú', depth: 0, badge: 'depth 2' },
            { label: 'Ï£ºÏöî Í∏∞Îä•', depth: 1 },
            { label: 'ÏÇ¨Ïö© Î∞©Î≤ï', depth: 1 },
            { icon: 'üí∞', label: 'ÏöîÍ∏àÏ†ú', depth: 0 },
            { icon: 'üìù', label: 'Ïã†Ï≤≠ÌïòÍ∏∞', depth: 0 },
            { icon: 'üìö', label: 'Í∞ÄÏù¥Îìú', depth: 0, badge: 'depth 2' },
            { label: 'FAQ', depth: 1 },
            { label: 'Ïù¥Ïö©ÏïΩÍ¥Ä', depth: 1 },
            { icon: 'üìû', label: 'Í≥†Í∞ùÏÑºÌÑ∞', depth: 0 },
            { icon: 'üë§', label: 'ÎßàÏù¥ÌéòÏù¥ÏßÄ', depth: 0 }
        ],
        portal: [
            { icon: 'üè†', label: 'Ìôà', depth: 0 },
            { icon: 'üìã', label: 'Í≤åÏãúÌåê', depth: 0, badge: 'depth 2' },
            { label: 'ÏûêÏú†Í≤åÏãúÌåê', depth: 1 },
            { label: 'ÏßàÎ¨∏ÎãµÎ≥Ä', depth: 1 },
            { label: 'Ï†ïÎ≥¥Í≥µÏú†', depth: 1 },
            { icon: 'üìÇ', label: 'Ïπ¥ÌÖåÍ≥†Î¶¨', depth: 0 },
            { icon: 'üîç', label: 'Í≤ÄÏÉâ', depth: 0 },
            { icon: 'üîî', label: 'ÏïåÎ¶º', depth: 0 },
            { icon: 'üë§', label: 'ÎßàÏù¥ÌéòÏù¥ÏßÄ', depth: 0, badge: 'depth 2' },
            { label: 'ÎÇ¥Í∞Ä Ïì¥ Í∏Ä', depth: 1 },
            { label: 'ÎåìÍ∏Ä', depth: 1 },
            { label: 'ÌåîÎ°úÏûâ', depth: 1 }
        ],
        booking: [
            { icon: 'üè†', label: 'Ìôà', depth: 0 },
            { icon: 'üìã', label: 'ÏÑúÎπÑÏä§ ÏÜåÍ∞ú', depth: 0 },
            { icon: 'üìÖ', label: 'ÏòàÏïΩÌïòÍ∏∞', depth: 0, badge: 'depth 2' },
            { label: 'ÎÇ†Ïßú ÏÑ†ÌÉù', depth: 1 },
            { label: 'ÏãúÍ∞Ñ ÏÑ†ÌÉù', depth: 1 },
            { label: 'ÏòµÏÖò ÏÑ†ÌÉù', depth: 1 },
            { icon: 'üí≥', label: 'Í≤∞Ï†ú', depth: 0 },
            { icon: '‚≠ê', label: 'Î¶¨Î∑∞', depth: 0 },
            { icon: 'üìû', label: 'Í≥†Í∞ùÏÑºÌÑ∞', depth: 0 },
            { icon: 'üë§', label: 'ÎßàÏù¥ÌéòÏù¥ÏßÄ', depth: 0, badge: 'depth 2' },
            { label: 'ÏòàÏïΩÎÇ¥Ïó≠', depth: 1 },
            { label: 'ÏßÄÎÇú ÏòàÏïΩ', depth: 1 }
        ],
        membership: [
            { icon: 'üè†', label: 'Ìôà', depth: 0 },
            { icon: 'üéñÔ∏è', label: 'Î©§Î≤ÑÏã≠ ÏÜåÍ∞ú', depth: 0, badge: 'depth 2' },
            { label: 'Îì±Í∏â ÏïàÎÇ¥', depth: 1 },
            { label: 'ÌòúÌÉù ÏïàÎÇ¥', depth: 1 },
            { icon: 'üéÅ', label: 'ÌòúÌÉù', depth: 0, badge: 'depth 2' },
            { label: 'Ìè¨Ïù∏Ìä∏', depth: 1 },
            { label: 'Ïø†Ìè∞', depth: 1 },
            { label: 'Ï†úÌú¥ ÌòúÌÉù', depth: 1 },
            { icon: 'üéâ', label: 'Ïù¥Î≤§Ìä∏', depth: 0 },
            { icon: 'üìû', label: 'Í≥†Í∞ùÏÑºÌÑ∞', depth: 0 },
            { icon: 'üë§', label: 'ÎßàÏù¥ÌéòÏù¥ÏßÄ', depth: 0 }
        ]
    };

    // ÏóÖÏ¢ÖÎ≥Ñ IA Ìä∏Î¶¨ Îç∞Ïù¥ÌÑ∞
    const iaTreeData = {
        fashion: [
            { icon: 'üè†', label: 'Ìôà', depth: 0 },
            { icon: 'üõçÔ∏è', label: 'Ï†ÑÏ≤¥ ÏÉÅÌíà', depth: 0, badge: 'depth 2' },
            { label: 'Ïã†ÏÉÅÌíà', depth: 1 },
            { label: 'Î≤†Ïä§Ìä∏', depth: 1 },
            { label: 'ÏÑ∏Ïùº', depth: 1 },
            { icon: 'üëó', label: 'Ïπ¥ÌÖåÍ≥†Î¶¨', depth: 0, badge: 'depth 3' },
            { label: 'ÏïÑÏö∞ÌÑ∞', depth: 1 },
            { label: 'ÏÉÅÏùò', depth: 1 },
            { label: 'ÌïòÏùò', depth: 1 },
            { label: 'ÏõêÌîºÏä§', depth: 1 },
            { icon: 'üí°', label: 'Ïä§ÌÉÄÏùºÎßÅ', depth: 0 },
            { icon: 'üéâ', label: 'Ïù¥Î≤§Ìä∏', depth: 0 },
            { icon: 'üë§', label: 'ÎßàÏù¥ÌéòÏù¥ÏßÄ', depth: 0, badge: 'depth 2' },
            { label: 'Ï£ºÎ¨∏ÎÇ¥Ïó≠', depth: 1 },
            { label: 'ÏúÑÏãúÎ¶¨Ïä§Ìä∏', depth: 1 },
            { label: 'Ïø†Ìè∞/Ï†ÅÎ¶ΩÍ∏à', depth: 1 },
            { label: 'Î∞∞ÏÜ°ÏßÄ Í¥ÄÎ¶¨', depth: 1 }
        ],
        beauty: [
            { icon: 'üè†', label: 'Ìôà', depth: 0 },
            { icon: '‚ú®', label: 'Ï†ÑÏ≤¥ ÏÉÅÌíà', depth: 0, badge: 'depth 2' },
            { label: 'Ïã†ÏÉÅÌíà', depth: 1 },
            { label: 'Î≤†Ïä§Ìä∏', depth: 1 },
            { label: 'ÌäπÍ∞Ä', depth: 1 },
            { icon: 'üíÑ', label: 'Ïπ¥ÌÖåÍ≥†Î¶¨', depth: 0, badge: 'depth 3' },
            { label: 'Ïä§ÌÇ®ÏºÄÏñ¥', depth: 1 },
            { label: 'Î©îÏù¥ÌÅ¨ÏóÖ', depth: 1 },
            { label: 'Î∞îÎîîÏºÄÏñ¥', depth: 1 },
            { label: 'Ìó§Ïñ¥ÏºÄÏñ¥', depth: 1 },
            { icon: 'üî¨', label: 'AI ÌîºÎ∂ÄÏßÑÎã®', depth: 0 },
            { icon: 'üì¶', label: 'Ï†ïÍ∏∞Íµ¨ÎèÖ', depth: 0 },
            { icon: 'üéâ', label: 'Ïù¥Î≤§Ìä∏', depth: 0 },
            { icon: 'üí°', label: 'Î∑∞Ìã∞ÌåÅ', depth: 0 },
            { icon: 'üë§', label: 'ÎßàÏù¥ÌéòÏù¥ÏßÄ', depth: 0, badge: 'depth 2' },
            { label: 'Ï£ºÎ¨∏ÎÇ¥Ïó≠', depth: 1 },
            { label: 'Íµ¨ÎèÖÍ¥ÄÎ¶¨', depth: 1 },
            { label: 'ÌîºÎ∂ÄÏßÑÎã® Í∏∞Î°ù', depth: 1 }
        ],
        fnb: [
            { icon: 'üè†', label: 'Ìôà', depth: 0 },
            { icon: 'üìã', label: 'Î©îÎâ¥ ÏÜåÍ∞ú', depth: 0, badge: 'depth 2' },
            { label: 'ÏãúÍ∑∏ÎãàÏ≤ò', depth: 1 },
            { label: 'Ïª§Ìîº', depth: 1 },
            { label: 'ÏùåÎ£å', depth: 1 },
            { label: 'ÎîîÏ†ÄÌä∏', depth: 1 },
            { icon: 'üìÖ', label: 'ÏòàÏïΩÌïòÍ∏∞', depth: 0 },
            { icon: 'üõµ', label: 'Ï£ºÎ¨∏ÌïòÍ∏∞', depth: 0, badge: 'depth 2' },
            { label: 'Î∞∞Îã¨Ï£ºÎ¨∏', depth: 1 },
            { label: 'Ìè¨Ïû•Ï£ºÎ¨∏', depth: 1 },
            { icon: 'üìç', label: 'Îß§Ïû•Ï∞æÍ∏∞', depth: 0 },
            { icon: 'üéâ', label: 'Ïù¥Î≤§Ìä∏', depth: 0 },
            { icon: 'üë§', label: 'ÎßàÏù¥ÌéòÏù¥ÏßÄ', depth: 0, badge: 'depth 2' },
            { label: 'Ï£ºÎ¨∏ÎÇ¥Ïó≠', depth: 1 },
            { label: 'Ìè¨Ïù∏Ìä∏', depth: 1 },
            { label: 'Î¶¨Î∑∞', depth: 1 }
        ],
        healthcare: [
            { icon: 'üè†', label: 'Ìôà', depth: 0 },
            { icon: 'üè•', label: 'Î≥ëÏõêÏÜåÍ∞ú', depth: 0, badge: 'depth 2' },
            { label: 'ÏùòÎ£åÏßÑ ÏÜåÍ∞ú', depth: 1 },
            { label: 'ÏßÑÎ£åÍ≥ºÎ™©', depth: 1 },
            { label: 'ÏãúÏÑ§ÏïàÎÇ¥', depth: 1 },
            { icon: 'üìÖ', label: 'ÏßÑÎ£åÏòàÏïΩ', depth: 0, badge: 'depth 2' },
            { label: 'Ïò®ÎùºÏù∏ ÏòàÏïΩ', depth: 1 },
            { label: 'ÏòàÏïΩ Ï°∞Ìöå/Î≥ÄÍ≤Ω', depth: 1 },
            { icon: 'üíä', label: 'Í±¥Í∞ïÍ≤ÄÏßÑ', depth: 0 },
            { icon: 'üì±', label: 'ÎπÑÎåÄÎ©¥ ÏßÑÎ£å', depth: 0 },
            { icon: 'üìã', label: 'Ï¶ùÎ™ÖÏÑú Î∞úÍ∏â', depth: 0 },
            { icon: 'üì∞', label: 'Í±¥Í∞ïÏ†ïÎ≥¥', depth: 0 },
            { icon: 'üë§', label: 'ÎßàÏù¥ÌéòÏù¥ÏßÄ', depth: 0, badge: 'depth 2' },
            { label: 'ÏßÑÎ£åÎÇ¥Ïó≠', depth: 1 },
            { label: 'Í≤ÄÏÇ¨Í≤∞Í≥º', depth: 1 },
            { label: 'Ï≤òÎ∞©Ï†Ñ', depth: 1 }
        ],
        education: [
            { icon: 'üè†', label: 'Ìôà', depth: 0 },
            { icon: 'üìö', label: 'Í∞ïÏ¢åÏïàÎÇ¥', depth: 0, badge: 'depth 3' },
            { label: 'ÌîÑÎ°úÍ∑∏ÎûòÎ∞ç', depth: 1 },
            { label: 'ÎîîÏûêÏù∏', depth: 1 },
            { label: 'ÎπÑÏ¶àÎãàÏä§', depth: 1 },
            { label: 'Ïñ¥Ìïô', depth: 1 },
            { icon: 'üéì', label: 'ÏàòÍ∞ïÏã†Ï≤≠', depth: 0 },
            { icon: 'üíª', label: 'ÎÇ¥ Í∞ïÏùòÏã§', depth: 0, badge: 'depth 2' },
            { label: 'ÏàòÍ∞ïÏ§ëÏù∏ Í∞ïÏùò', depth: 1 },
            { label: 'Í≥ºÏ†ú Ï†úÏ∂ú', depth: 1 },
            { label: 'ÏàòÎ£åÏ¶ù', depth: 1 },
            { icon: '‚ùì', label: 'ÌïôÏäµ Q&A', depth: 0 },
            { icon: 'üë§', label: 'ÎßàÏù¥ÌéòÏù¥ÏßÄ', depth: 0, badge: 'depth 2' },
            { label: 'ÏàòÍ∞ïÎÇ¥Ïó≠', depth: 1 },
            { label: 'Í≤∞Ï†úÎÇ¥Ïó≠', depth: 1 },
            { label: 'Ïø†Ìè∞Ìï®', depth: 1 }
        ],
        travel: [
            { icon: 'üè†', label: 'Ìôà', depth: 0 },
            { icon: '‚úàÔ∏è', label: 'Ìï≠Í≥µÍ∂å', depth: 0 },
            { icon: 'üè®', label: 'ÏàôÏÜå', depth: 0, badge: 'depth 2' },
            { label: 'Ìò∏ÌÖî', depth: 1 },
            { label: 'ÌéúÏÖò', depth: 1 },
            { label: 'Î¶¨Ï°∞Ìä∏', depth: 1 },
            { icon: 'üé´', label: 'Ìå®ÌÇ§ÏßÄ', depth: 0 },
            { icon: 'üéüÔ∏è', label: 'Ìà¨Ïñ¥/Ìã∞Ïºì', depth: 0 },
            { icon: 'üöó', label: 'Î†åÌÑ∞Ïπ¥', depth: 0 },
            { icon: 'üí°', label: 'Ïó¨ÌñâÏ†ïÎ≥¥', depth: 0 },
            { icon: 'üë§', label: 'ÎßàÏù¥ÌéòÏù¥ÏßÄ', depth: 0, badge: 'depth 2' },
            { label: 'ÏòàÏïΩÎÇ¥Ïó≠', depth: 1 },
            { label: 'ÎßàÏùºÎ¶¨ÏßÄ', depth: 1 },
            { label: 'Î¶¨Î∑∞', depth: 1 }
        ],
        public: [
            { icon: 'üè†', label: 'Ìôà', depth: 0 },
            { icon: 'üèõÔ∏è', label: 'Í∏∞Í¥ÄÏÜåÍ∞ú', depth: 0, badge: 'depth 2' },
            { label: 'Ïù∏ÏÇ¨Îßê', depth: 1 },
            { label: 'Ï°∞ÏßÅÎèÑ', depth: 1 },
            { label: 'Ï∞æÏïÑÏò§ÏãúÎäî Í∏∏', depth: 1 },
            { icon: 'üìù', label: 'ÎØºÏõêÏã†Ï≤≠', depth: 0, badge: 'depth 2' },
            { label: 'Ïò®ÎùºÏù∏ ÎØºÏõê', depth: 1 },
            { label: 'ÎØºÏõê Ï°∞Ìöå', depth: 1 },
            { label: 'Ï¶ùÎ™ÖÏÑú Î∞úÍ∏â', depth: 1 },
            { icon: 'üì∞', label: 'ÏïåÎ¶ºÎßàÎãπ', depth: 0, badge: 'depth 2' },
            { label: 'Í≥µÏßÄÏÇ¨Ìï≠', depth: 1 },
            { label: 'Î≥¥ÎèÑÏûêÎ£å', depth: 1 },
            { icon: 'üìã', label: 'Ï†ïÏ±ÖÏ†ïÎ≥¥', depth: 0 },
            { icon: '‚ùì', label: 'ÏûêÏ£ºÎ¨ªÎäîÏßàÎ¨∏', depth: 0 },
            { icon: 'üë§', label: 'ÎßàÏù¥ÌéòÏù¥ÏßÄ', depth: 0 }
        ]
    };

    // Ï£ºÏöî Í∏∞Îä• ÏóÖÎç∞Ïù¥Ìä∏ Ìï®Ïàò
    function updateIAFeatures() {
        const industry = industrySelect?.value || '';
        const siteType = siteTypeSelect?.value || 'shopping';
        
        // ÏÇ¨Ïù¥Ìä∏ Ïú†ÌòïÎ≥Ñ Í∏∞Î≥∏ Í∏∞Îä•
        let baseFeatures = siteTypeFeatures[siteType] || siteTypeFeatures['shopping'];
        
        // ÏóÖÏ¢ÖÏù¥ ÏÑ†ÌÉùÎêòÎ©¥ ÏóÖÏ¢ÖÎ≥Ñ Í∏∞Îä•ÎèÑ Î≥ëÌï©
        if (industry && industryFeatures[industry]) {
            const industryFeat = industryFeatures[industry];
            // ÏÇ¨Ïù¥Ìä∏ Ïú†Ìòï Í∏∞Îä•Í≥º ÏóÖÏ¢Ö Í∏∞Îä•ÏùÑ Ï°∞Ìï© (Ï§ëÎ≥µ Ï†úÍ±∞)
            const combinedFeatures = [...new Set([...baseFeatures.slice(0, 5), ...industryFeat.slice(0, 5)])];
            baseFeatures = combinedFeatures.slice(0, 12);
        }
        
        if (featuresContainer) {
            featuresContainer.innerHTML = baseFeatures.map((feature, index) => `
                <label class="checkbox-item">
                    <input type="checkbox" name="ia_feature" value="${feature}" ${index < 5 ? 'checked' : ''}>
                    <span class="checkmark"></span>
                    <span>${feature}</span>
                </label>
            `).join('');
        }
    }

    // ÏóÖÏ¢Ö ÏÑ†ÌÉù Ïãú Ï£ºÏöî Í∏∞Îä• ÏóÖÎç∞Ïù¥Ìä∏
    industrySelect?.addEventListener('change', updateIAFeatures);
    
    // ÏÇ¨Ïù¥Ìä∏ Ïú†Ìòï ÏÑ†ÌÉù Ïãú Ï£ºÏöî Í∏∞Îä• ÏóÖÎç∞Ïù¥Ìä∏
    siteTypeSelect?.addEventListener('change', updateIAFeatures);
    
    form?.addEventListener('submit', (e) => {
        e.preventDefault();
        
        const industry = industrySelect?.value || '';
        const siteType = siteTypeSelect?.value || 'shopping';
        
        // ÏóÖÏ¢ÖÏù¥ ÏÑ†ÌÉùÎêòÎ©¥ ÏóÖÏ¢Ö Ìä∏Î¶¨, ÏïÑÎãàÎ©¥ ÏÇ¨Ïù¥Ìä∏ Ïú†Ìòï Ìä∏Î¶¨ ÏÇ¨Ïö©
        let treeData;
        if (industry && iaTreeData[industry]) {
            treeData = iaTreeData[industry];
        } else {
            treeData = siteTypeTreeData[siteType] || siteTypeTreeData['shopping'];
        }
        
        // Ìä∏Î¶¨ ÏóÖÎç∞Ïù¥Ìä∏
        if (iaTree) {
            iaTree.innerHTML = treeData.map(item => `
                <div class="tree-item depth-${item.depth}">
                    ${item.icon ? `<span class="tree-icon">${item.icon}</span>` : ''}
                    <span class="tree-label">${item.label}</span>
                    ${item.badge ? `<span class="tree-badge">${item.badge}</span>` : ''}
                </div>
            `).join('');
        }
        
        // Î∂ÑÏÑù Í≤∞Í≥º ÏóÖÎç∞Ïù¥Ìä∏
        const industryNames = {
            fashion: 'Ìå®ÏÖò', beauty: 'Î∑∞Ìã∞', fnb: 'F&B', healthcare: 'Ìó¨Ïä§ÏºÄÏñ¥',
            education: 'ÍµêÏú°', travel: 'Ïó¨Ìñâ', public: 'Í≥µÍ≥µÍ∏∞Í¥Ä', electronics: 'Í∞ÄÏ†Ñ',
            furniture: 'Í∞ÄÍµ¨', sports: 'Ïä§Ìè¨Ï∏†', kids: 'Ïú†ÏïÑÎèô', pets: 'Î∞òÎ†§ÎèôÎ¨º',
            luxury: 'Îü≠ÏÖîÎ¶¨', realestate: 'Î∂ÄÎèôÏÇ∞', finance: 'Í∏àÏúµ', restaurant: 'Î†àÏä§ÌÜ†Îûë',
            fitness: 'ÌîºÌä∏ÎãàÏä§', salon: 'Î∑∞Ìã∞ÏÉµ', consulting: 'Ïª®ÏÑ§ÌåÖ', recruitment: 'Ï±ÑÏö©',
            media: 'ÎØ∏ÎîîÏñ¥', entertainment: 'ÏóîÌÑ∞ÌÖåÏù∏Î®ºÌä∏', ott: 'OTT', community: 'Ïª§ÎÆ§ÎãàÌã∞',
            nonprofit: 'ÎπÑÏòÅÎ¶¨', association: 'ÌòëÌöå', university: 'ÎåÄÌïô', b2b_commerce: 'B2B',
            saas: 'SaaS', manufacturing: 'Ï†úÏ°∞ÏóÖ'
        };
        
        const siteTypeNames = {
            shopping: 'ÏáºÌïëÎ™∞', brand: 'Î∏åÎûúÎìú', corporate: 'Í∏∞ÏóÖ', service: 'ÏÑúÎπÑÏä§',
            portal: 'Ìè¨ÌÑ∏', booking: 'ÏòàÏïΩ', membership: 'Î©§Î≤ÑÏã≠'
        };
        
        const displayName = industry ? (industryNames[industry] || industry) : (siteTypeNames[siteType] || siteType);
        document.getElementById('iaRefProjects').textContent = `Ïú†ÏÇ¨ ${displayName} ÌîÑÎ°úÏ†ùÌä∏ ${Math.floor(Math.random() * 5) + 3}Í±¥`;
        document.getElementById('iaAvgDepth').textContent = (Math.random() * 1 + 2).toFixed(1);
        
        const productCount = document.getElementById('iaProductCount')?.value || 150;
        const catCount = Math.ceil(productCount / 20);
        document.getElementById('iaRecommendCat').textContent = `${catCount}~${catCount + 2}Í∞ú (${productCount}Í∞ú ÏÉÅÌíà Í∏∞Ï§Ä)`;
        
        // Animate tree items
        const treeItems = iaTree.querySelectorAll('.tree-item');
        treeItems.forEach((item, index) => {
            item.style.opacity = '0';
            item.style.transform = 'translateX(-20px)';
            
            setTimeout(() => {
                item.style.transition = 'all 0.3s ease';
                item.style.opacity = '1';
                item.style.transform = 'translateX(0)';
            }, index * 100);
        });
    });
}

// ============================================
// Tag Input
// ============================================

function initTagInput() {
    const tagInput = document.getElementById('featureInput');
    const selectedTags = document.getElementById('selectedTags');
    const suggestedTags = document.querySelectorAll('.suggested-tag');
    
    let tags = [];
    
    function addTag(tagText) {
        if (tags.includes(tagText)) return;
        
        tags.push(tagText);
        renderTags();
    }
    
    function removeTag(tagText) {
        tags = tags.filter(t => t !== tagText);
        renderTags();
    }
    
    function renderTags() {
        if (!selectedTags) return;
        
        selectedTags.innerHTML = tags.map(tag => `
            <span class="selected-tag">
                ${tag}
                <button type="button" onclick="this.closest('.selected-tag').remove()">&times;</button>
            </span>
        `).join('');
        
        // Add click events to remove buttons
        selectedTags.querySelectorAll('.selected-tag button').forEach((btn, index) => {
            btn.addEventListener('click', () => removeTag(tags[index]));
        });
    }
    
    tagInput?.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
            e.preventDefault();
            const value = tagInput.value.trim();
            if (value) {
                addTag(value);
                tagInput.value = '';
            }
        }
    });
    
    suggestedTags.forEach(tag => {
        tag.addEventListener('click', () => {
            addTag(tag.getAttribute('data-tag'));
        });
    });
}

// ============================================
// Chat Widget
// ============================================

function initChatWidget() {
    const chatToggle = document.getElementById('chatToggle');
    const chatPanel = document.getElementById('chatPanel');
    const chatClose = document.getElementById('chatClose');
    const chatInput = chatPanel?.querySelector('.chat-input');
    const chatSend = chatPanel?.querySelector('.chat-send');
    const chatMessages = document.getElementById('chatMessages');
    const quickPrompts = document.querySelectorAll('.quick-prompt');
    
    chatToggle?.addEventListener('click', () => {
        chatPanel.classList.toggle('open');
    });
    
    chatClose?.addEventListener('click', () => {
        chatPanel.classList.remove('open');
    });
    
    function sendMessage(text) {
        if (!text.trim()) return;
        
        // Add user message
        const userMsg = document.createElement('div');
        userMsg.className = 'chat-message user';
        userMsg.innerHTML = `
            <div class="message-content" style="margin-left: auto; background: var(--gradient-primary); border-radius: var(--border-radius); border-top-right-radius: 4px;">
                ${text}
            </div>
        `;
        chatMessages.appendChild(userMsg);
        
        // Clear input
        if (chatInput) chatInput.value = '';
        
        // Scroll to bottom
        chatMessages.scrollTop = chatMessages.scrollHeight;
        
        // Simulate AI response
        setTimeout(() => {
            const aiMsg = document.createElement('div');
            aiMsg.className = 'chat-message ai';
            aiMsg.innerHTML = `
                <div class="message-avatar">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M12 16v-4"/>
                        <path d="M12 8h.01"/>
                    </svg>
                </div>
                <div class="message-content">
                    ${getAIResponse(text)}
                </div>
            `;
            chatMessages.appendChild(aiMsg);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }, 1000);
    }
    
    function getAIResponse(text) {
        const responses = {
            'Í≤¨Ï†Å': 'Í≤¨Ï†Å ÏÇ∞Ï∂úÏùÄ Ï¢åÏ∏° Î©îÎâ¥Ïùò "Í≤¨Ï†Å ÏÇ∞Ï∂ú"ÏóêÏÑú Í∞ÄÎä•Ìï©ÎãàÎã§. Í≥ºÍ±∞ Ïú†ÏÇ¨ ÌîÑÎ°úÏ†ùÌä∏ Îç∞Ïù¥ÌÑ∞Î•º Í∏∞Î∞òÏúºÎ°ú Ï†ïÌôïÌïú Í≤¨Ï†ÅÏùÑ Ï†úÏãúÌï¥ÎìúÎ†§Ïöî.',
            'Ï†úÏïàÏÑú': 'Ï†úÏïàÏÑú ÏÉùÏÑ±ÏùÄ "Ï†úÏïàÏÑú ÏÉùÏÑ±" Î©îÎâ¥ÏóêÏÑú ÏóÖÏ¢Ö, ÌÉÄÍ≤ü, ÌîåÎû´Ìèº Ï†ïÎ≥¥Î•º ÏûÖÎ†•ÌïòÏãúÎ©¥ AIÍ∞Ä ÏûêÎèôÏúºÎ°ú Ï¥àÏïàÏùÑ ÏûëÏÑ±Ìï¥ÎìúÎ¶ΩÎãàÎã§.',
            'Ïú†ÏÇ¨': 'Í≥ºÍ±∞ Ïú†ÏÇ¨ ÌîÑÎ°úÏ†ùÌä∏Î•º Ï∞æÏúºÏãúÎ†§Î©¥ ÌÜµÌï© Í≤ÄÏÉâÏùÑ Ïù¥Ïö©Ìï¥Î≥¥ÏÑ∏Ïöî. ÏóÖÏ¢Ö, ÌîåÎû´Ìèº, Í∏∞Îä•Î≥ÑÎ°ú ÌïÑÌÑ∞ÎßÅÏù¥ Í∞ÄÎä•Ìï©ÎãàÎã§.',
            'default': 'ÎÑ§, Ïù¥Ìï¥ÌñàÏäµÎãàÎã§. Îçî ÏûêÏÑ∏Ìïú ÎÇ¥Ïö©Ïù¥ ÌïÑÏöîÌïòÏãúÎ©¥ ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî. Í≤¨Ï†Å ÏÇ∞Ï∂ú, Ï†úÏïàÏÑú ÏÉùÏÑ±, ÌîÑÎ°úÏ†ùÌä∏ Í≤ÄÏÉâ Îì± Îã§ÏñëÌïú Í∏∞Îä•ÏùÑ ÎèÑÏôÄÎìúÎ¶¥ Ïàò ÏûàÏäµÎãàÎã§.'
        };
        
        for (const [key, value] of Object.entries(responses)) {
            if (text.includes(key)) return value;
        }
        return responses.default;
    }
    
    chatSend?.addEventListener('click', () => {
        sendMessage(chatInput.value);
    });
    
    chatInput?.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
            sendMessage(chatInput.value);
        }
    });
    
    quickPrompts.forEach(prompt => {
        prompt.addEventListener('click', () => {
            sendMessage(prompt.textContent);
        });
    });
}

// ============================================
// Quick Actions
// ============================================

function initQuickActions() {
    const quickActionBtns = document.querySelectorAll('.quick-action-btn');
    const navItems = document.querySelectorAll('.nav-item');
    
    quickActionBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            const action = btn.getAttribute('data-action');
            
            // Find and click the corresponding nav item
            navItems.forEach(nav => {
                if (nav.getAttribute('data-page') === action) {
                    nav.click();
                }
            });
        });
    });
}

// ============================================
// Animations
// ============================================

function initAnimations() {
    // Animate stats on scroll
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('animate');
                
                // Animate counters
                const counters = entry.target.querySelectorAll('.stat-value');
                counters.forEach(counter => {
                    animateCounter(counter);
                });
            }
        });
    }, { threshold: 0.1 });
    
    document.querySelectorAll('.stat-card').forEach(card => {
        observer.observe(card);
    });
    
    // Animate bars
    document.querySelectorAll('.bar-fill').forEach(bar => {
        const width = bar.style.getPropertyValue('--width');
        bar.style.width = '0';
        
        setTimeout(() => {
            bar.style.width = width;
        }, 500);
    });
    
    // Animate industry bars
    const barObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const bars = entry.target.querySelectorAll('.bar-fill');
                bars.forEach((bar, index) => {
                    setTimeout(() => {
                        bar.style.width = getComputedStyle(bar).getPropertyValue('--width');
                    }, index * 100);
                });
            }
        });
    }, { threshold: 0.5 });
    
    const industryCard = document.querySelector('.industry-card');
    if (industryCard) {
        barObserver.observe(industryCard);
    }
}

function animateCounter(element) {
    const target = parseInt(element.textContent.replace(/[^0-9]/g, ''));
    if (isNaN(target)) return;
    
    const suffix = element.textContent.replace(/[0-9,]/g, '');
    let current = 0;
    const increment = target / 50;
    const duration = 1000;
    const stepTime = duration / 50;
    
    const timer = setInterval(() => {
        current += increment;
        if (current >= target) {
            element.textContent = target.toLocaleString() + suffix;
            clearInterval(timer);
        } else {
            element.textContent = Math.floor(current).toLocaleString() + suffix;
        }
    }, stepTime);
}

// ============================================
// Keyboard Shortcuts
// ============================================

document.addEventListener('keydown', (e) => {
    // Cmd/Ctrl + K for search focus
    if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
        e.preventDefault();
        document.querySelector('.search-input')?.focus();
    }
    
    // Escape to close modals/chat
    if (e.key === 'Escape') {
        document.getElementById('chatPanel')?.classList.remove('open');
        document.querySelector('.sidebar')?.classList.remove('open');
    }
});

// ============================================
// Theme Toggle (Optional Enhancement)
// ============================================

function toggleTheme() {
    document.body.classList.toggle('light-theme');
    localStorage.setItem('theme', document.body.classList.contains('light-theme') ? 'light' : 'dark');
}

// Load saved theme
if (localStorage.getItem('theme') === 'light') {
    document.body.classList.add('light-theme');
}

// ============================================
// Utility Functions
// ============================================

function debounce(func, wait) {
    let timeout;
    return function executedFunction(...args) {
        const later = () => {
            clearTimeout(timeout);
            func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
    };
}

function formatCurrency(amount) {
    return new Intl.NumberFormat('ko-KR').format(amount);
}

function formatDate(date) {
    return new Intl.DateTimeFormat('ko-KR', {
        year: 'numeric',
        month: '2-digit',
        day: '2-digit'
    }).format(new Date(date));
}

// ============================================
// Form Validation
// ============================================

function validateForm(form) {
    const requiredFields = form.querySelectorAll('[required]');
    let isValid = true;
    
    requiredFields.forEach(field => {
        if (!field.value.trim()) {
            isValid = false;
            field.classList.add('error');
        } else {
            field.classList.remove('error');
        }
    });
    
    return isValid;
}

// ============================================
// Local Storage Helpers
// ============================================

const storage = {
    set: (key, value) => {
        try {
            localStorage.setItem(key, JSON.stringify(value));
        } catch (e) {
            console.warn('LocalStorage not available');
        }
    },
    
    get: (key) => {
        try {
            const item = localStorage.getItem(key);
            return item ? JSON.parse(item) : null;
        } catch (e) {
            return null;
        }
    },
    
    remove: (key) => {
        try {
            localStorage.removeItem(key);
        } catch (e) {
            console.warn('LocalStorage not available');
        }
    }
};

// ============================================
// API Simulation (For Demo)
// ============================================

const api = {
    async getProjects(filters = {}) {
        // Simulated API response
        return new Promise(resolve => {
            setTimeout(() => {
                resolve([
                    { id: 1, name: 'BÏÇ¨ Î∑∞Ìã∞ Î∏åÎûúÎìú', industry: 'Î∑∞Ìã∞', platform: 'Shopify', cost: 3200, status: 'won' },
                    { id: 2, name: 'CÏÇ¨ F&B Ïª§Î®∏Ïä§', industry: 'F&B', platform: 'Cafe24', cost: 2800, status: 'won' },
                    { id: 3, name: 'DÏÇ¨ Ìå®ÏÖòÎ™∞', industry: 'Ìå®ÏÖò', platform: 'ÏûêÏ≤¥Íµ¨Ï∂ï', cost: 5500, status: 'lost' },
                ]);
            }, 500);
        });
    },
    
    async generateProposal(data) {
        return new Promise(resolve => {
            setTimeout(() => {
                resolve({
                    references: [],
                    features: ['ÎùºÏù¥Î∏åÏª§Î®∏Ïä§', 'AI ÌîºÎ∂Ä ÏßÑÎã®', 'ÌîåÎ°úÌåÖ Ïû•Î∞îÍµ¨Îãà'],
                    estimate: { min: 3000, max: 3800, avg: 3400 }
                });
            }, 2000);
        });
    },
    
    async calculateEstimate(data) {
        return new Promise(resolve => {
            setTimeout(() => {
                resolve({
                    estimate: 3500,
                    range: { min: 2975, max: 4025 },
                    weeks: 8,
                    team: ['PM 1Î™Ö', 'ÎîîÏûêÏù¥ÎÑà 1Î™Ö', 'Í∞úÎ∞úÏûê 2Î™Ö', 'ÌçºÎ∏îÎ¶¨ÏÖî 1Î™Ö']
                });
            }, 1500);
        });
    }
};

// ============================================
// Search Page
// ============================================

function initSearchPage() {
    const searchInput = document.getElementById('mainSearchInput');
    const searchBtn = document.getElementById('mainSearchBtn');
    const searchResults = document.getElementById('searchResults');
    
    searchBtn?.addEventListener('click', () => {
        performSearch(searchInput?.value);
    });
    
    searchInput?.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
            performSearch(searchInput.value);
        }
    });
}

function performSearch(query) {
    if (!query?.trim()) return;
    
    const searchResults = document.getElementById('searchResults');
    if (searchResults) {
        // Add loading animation
        searchResults.style.animation = 'none';
        searchResults.offsetHeight;
        searchResults.style.animation = 'fadeIn 0.5s ease';
        
        // Update results count
        const count = searchResults.querySelector('.results-count strong');
        if (count) {
            count.textContent = Math.floor(Math.random() * 50) + 10;
        }
    }
}

// ============================================
// Filter Buttons
// ============================================

function initFilterButtons() {
    const filterGroups = document.querySelectorAll('.search-filters');
    
    filterGroups.forEach(group => {
        const buttons = group.querySelectorAll('.filter-btn');
        
        buttons.forEach(btn => {
            btn.addEventListener('click', () => {
                buttons.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
            });
        });
    });
}

// ============================================
// Functional Specification Form
// ============================================

function initFunctionalForm() {
    const form = document.getElementById('functionalForm');
    const resultCard = document.querySelector('.functional-result-card');
    const funcTypeSelect = document.getElementById('funcType');
    const funcIndustrySelect = document.getElementById('funcIndustry');
    const funcOptionsContainer = document.getElementById('funcOptions');
    const funcResultTitle = document.getElementById('funcResultTitle');
    const funcResultContent = document.getElementById('funcResultContent');

    // Í∏∞Îä• Ïú†ÌòïÎ≥Ñ ÏÉÅÏÑ∏ ÏòµÏÖò Îç∞Ïù¥ÌÑ∞
    const funcTypeOptions = {
        signup: ['ÏÜåÏÖú Î°úÍ∑∏Ïù∏ Ìè¨Ìï®', 'Î≥∏Ïù∏Ïù∏Ï¶ù Ìè¨Ìï®', '14ÏÑ∏ ÎØ∏Îßå Í∞ÄÏûÖ Ï†úÌïú', 'Ïù¥Î©îÏùº Ïù∏Ï¶ù', 'SMS Ïù∏Ï¶ù', 'ÎßàÏºÄÌåÖ ÏàòÏã† ÎèôÏùò', 'Ï∂îÏ≤úÏù∏ ÏΩîÎìú'],
        login: ['ÏÜåÏÖú Î°úÍ∑∏Ïù∏', 'ÏûêÎèô Î°úÍ∑∏Ïù∏', 'ÏÉùÏ≤¥Ïù∏Ï¶ù', '2Îã®Í≥Ñ Ïù∏Ï¶ù', 'ÎπÑÎ∞ÄÎ≤àÌò∏ Ï∞æÍ∏∞', 'ÏïÑÏù¥Îîî Ï∞æÍ∏∞', 'Î°úÍ∑∏Ïù∏ Í∏∞Î°ù Í¥ÄÎ¶¨'],
        mypage: ['Ï£ºÎ¨∏ÎÇ¥Ïó≠', 'Î∞∞ÏÜ°Ï°∞Ìöå', 'ÏúÑÏãúÎ¶¨Ïä§Ìä∏', 'Ïø†Ìè∞Ìï®', 'Ï†ÅÎ¶ΩÍ∏à', 'ÌöåÏõêÏ†ïÎ≥¥ ÏàòÏ†ï', 'Î∞∞ÏÜ°ÏßÄ Í¥ÄÎ¶¨', 'Î¶¨Î∑∞ Í¥ÄÎ¶¨'],
        membership: ['ÌöåÏõêÎì±Í∏âÏ†ú', 'Îì±Í∏âÎ≥Ñ ÌòúÌÉù', 'ÏäπÍ∏â Í∏∞Ï§Ä', 'VIP Ï†ÑÏö©Í¥Ä', 'Îì±Í∏â Ïú†ÏßÄ Ï°∞Í±¥', 'Î©§Î≤ÑÏã≠ Ïπ¥Îìú'],
        withdrawal: ['ÌÉàÌá¥ ÏÇ¨Ïú† ÏàòÏßë', 'ÌÉàÌá¥ ÌõÑ Ïû¨Í∞ÄÏûÖ Ï†úÌïú', 'Îç∞Ïù¥ÌÑ∞ ÏÇ≠Ï†ú Ï†ïÏ±Ö', 'ÌÉàÌá¥ Ï≤†Ìöå Í∏∞Í∞Ñ'],
        product: ['ÏÉÅÌíà Îì±Î°ù', 'Ïû¨Í≥† Í¥ÄÎ¶¨', 'ÏòµÏÖò Í¥ÄÎ¶¨', 'ÏÉÅÌíà Î≥µÏÇ¨', 'ÎåÄÎüâ Îì±Î°ù', 'ÏÉÅÌíà ÎÖ∏Ï∂ú ÏÑ§Ï†ï', 'SEO ÏÑ§Ï†ï'],
        category: ['Ïπ¥ÌÖåÍ≥†Î¶¨ Í≥ÑÏ∏µ Íµ¨Ï°∞', 'Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ ÌïÑÌÑ∞', 'Ïπ¥ÌÖåÍ≥†Î¶¨ Ï†ïÎ†¨', 'Ïπ¥ÌÖåÍ≥†Î¶¨ Ïù¥ÎØ∏ÏßÄ'],
        search: ['ÌÇ§ÏõåÎìú Í≤ÄÏÉâ', 'ÌïÑÌÑ∞ Í≤ÄÏÉâ', 'ÏûêÎèôÏôÑÏÑ±', 'Ïù∏Í∏∞ Í≤ÄÏÉâÏñ¥', 'ÏµúÍ∑º Í≤ÄÏÉâÏñ¥', 'Ïó∞Í¥Ä Í≤ÄÏÉâÏñ¥', 'AI Ï∂îÏ≤ú'],
        cart: ['ÏàòÎüâ Î≥ÄÍ≤Ω', 'ÏòµÏÖò Î≥ÄÍ≤Ω', 'ÌíàÏ†à ÏÉÅÌíà ÏïåÎ¶º', 'Ïû•Î∞îÍµ¨Îãà Ïú†Ìö®Í∏∞Í∞Ñ', 'ÎπÑÌöåÏõê Ïû•Î∞îÍµ¨Îãà', 'ÏÑ†Î¨ºÌïòÍ∏∞'],
        wishlist: ['Ìè¥Îçî Î∂ÑÎ•ò', 'Ïû¨ÏûÖÍ≥† ÏïåÎ¶º', 'Í∞ÄÍ≤© Î≥ÄÎèô ÏïåÎ¶º', 'Í≥µÏú† Í∏∞Îä•'],
        order: ['ÏùºÎ∞ò Ï£ºÎ¨∏', 'Î∞îÎ°ú Íµ¨Îß§', 'ÏÑ†Î¨º Ï£ºÎ¨∏', 'Ìï¥Ïô∏ Ï£ºÎ¨∏', 'ÎåÄÎüâ Ï£ºÎ¨∏', 'ÎπÑÌöåÏõê Ï£ºÎ¨∏'],
        payment: ['Ïã†Ïö©Ïπ¥Îìú', 'Í∞ÑÌé∏Í≤∞Ï†ú', 'Í≥ÑÏ¢åÏù¥Ï≤¥', 'Í∞ÄÏÉÅÍ≥ÑÏ¢å', 'Ìú¥ÎåÄÌè∞ Í≤∞Ï†ú', 'Ìè¨Ïù∏Ìä∏ Í≤∞Ï†ú', 'Î≥µÌï© Í≤∞Ï†ú', 'Ìï¥Ïô∏ Í≤∞Ï†ú'],
        delivery: ['Î∞∞ÏÜ°Ï°∞Ìöå', 'Î∞∞ÏÜ°ÏßÄ Î≥ÄÍ≤Ω', 'Ï∂úÍ≥† Ï†Ñ Ï∑®ÏÜå', 'ÏòàÏïΩ Î∞∞ÏÜ°', 'ÏÉàÎ≤Ω Î∞∞ÏÜ°', 'ÎãπÏùº Î∞∞ÏÜ°', 'Ìï¥Ïô∏ Î∞∞ÏÜ°'],
        return: ['Î∞òÌíà Ïã†Ï≤≠', 'ÍµêÌôò Ïã†Ï≤≠', 'ÌôòÎ∂à Ï≤òÎ¶¨', 'Î∞òÌíà Î∞∞ÏÜ°ÎπÑ', 'Î∂àÎüâÌíà Ï≤òÎ¶¨', 'Î∂ÄÎ∂Ñ Î∞òÌíà'],
        subscription: ['Ï†ïÍ∏∞Î∞∞ÏÜ° Ï£ºÍ∏∞', 'Íµ¨ÎèÖ ÏùºÏãúÏ†ïÏßÄ', 'Íµ¨ÎèÖ Ìï¥ÏßÄ', 'Íµ¨ÎèÖ ÏÉÅÌíà Î≥ÄÍ≤Ω', 'Îã§Ïùå Î∞∞ÏÜ°Ïùº Î≥ÄÍ≤Ω', 'Íµ¨ÎèÖ ÌòúÌÉù'],
        review: ['Î≥ÑÏ†ê ÌèâÍ∞Ä', 'ÌÖçÏä§Ìä∏ Î¶¨Î∑∞', 'Ìè¨ÌÜ†/ÎèôÏòÅÏÉÅ Î¶¨Î∑∞', 'Î¶¨Î∑∞ ÏàòÏ†ï/ÏÇ≠Ï†ú', 'Î¶¨Î∑∞ Ïã†Í≥†', 'Î≤†Ïä§Ìä∏ Î¶¨Î∑∞', 'Î¶¨Î∑∞ Ï†ÅÎ¶ΩÍ∏à'],
        qna: ['1:1 Î¨∏Ïùò', 'ÏÉÅÌíà Q&A', 'ÎãµÎ≥Ä ÏïåÎ¶º', 'ÎπÑÎ∞ÄÍ∏Ä ÏÑ§Ï†ï', 'ÌååÏùº Ï≤®Î∂Ä', 'Î¨∏Ïùò Ïú†Ìòï Î∂ÑÎ•ò'],
        board: ['Í∏Ä ÏûëÏÑ±/ÏàòÏ†ï/ÏÇ≠Ï†ú', 'ÎåìÍ∏Ä', 'Ï¢ãÏïÑÏöî', 'ÌååÏùº Ï≤®Î∂Ä', 'Í≥µÏßÄ ÏÑ§Ï†ï', 'Í≤ÄÏÉâ', 'Ïπ¥ÌÖåÍ≥†Î¶¨ Î∂ÑÎ•ò'],
        chat: ['Ïã§ÏãúÍ∞Ñ Ï±ÑÌåÖ', 'Ï±ÑÌåÖ ÏÉÅÎã¥', 'Ï±óÎ¥á', 'ÌååÏùº Ï†ÑÏÜ°', 'Ïù¥ÎØ∏ÏßÄ Ï†ÑÏÜ°', 'ÏùΩÏùå ÌôïÏù∏', 'Ï±ÑÌåÖ Í∏∞Î°ù'],
        notification: ['Ïï± Ìë∏Ïãú', 'Ïù¥Î©îÏùº ÏïåÎ¶º', 'SMS ÏïåÎ¶º', 'Ïπ¥Ïπ¥Ïò§ ÏïåÎ¶ºÌÜ°', 'ÏïåÎ¶º ÏÑ§Ï†ï', 'ÏïåÎ¶º ÎÇ¥Ïó≠'],
        point: ['Ìè¨Ïù∏Ìä∏ Ï†ÅÎ¶Ω', 'Ìè¨Ïù∏Ìä∏ ÏÇ¨Ïö©', 'Ìè¨Ïù∏Ìä∏ ÏÜåÎ©∏', 'Ï†ÅÎ¶Ω ÎÇ¥Ïó≠', 'ÏÇ¨Ïö© ÎÇ¥Ïó≠', 'Îì±Í∏âÎ≥Ñ Ï†ÅÎ¶ΩÎ•†'],
        coupon: ['Ïø†Ìè∞ Î∞úÍ∏â', 'Ïø†Ìè∞ ÏÇ¨Ïö©', 'Ïø†Ìè∞ Ïú†Ìòï', 'Ïø†Ìè∞ Ïú†Ìö®Í∏∞Í∞Ñ', 'Ï§ëÎ≥µ ÏÇ¨Ïö©', 'ÏµúÏÜå Ï£ºÎ¨∏Í∏àÏï°'],
        event: ['Ïù¥Î≤§Ìä∏ Îì±Î°ù', 'Ï∞∏Ïó¨ Ï°∞Í±¥', 'ÎãπÏ≤®Ïûê Î∞úÌëú', 'Í≤ΩÌíà ÏßÄÍ∏â', 'Ïù¥Î≤§Ìä∏ ÏïåÎ¶º'],
        referral: ['Ï∂îÏ≤ú ÏΩîÎìú ÏÉùÏÑ±', 'Ï∂îÏ≤ú ÌòúÌÉù', 'ÌîºÏ∂îÏ≤úÏù∏ ÌòúÌÉù', 'Ï∂îÏ≤ú ÎÇ¥Ïó≠'],
        booking: ['ÎÇ†Ïßú/ÏãúÍ∞Ñ ÏÑ†ÌÉù', 'Ïù∏Ïõê ÏÑ†ÌÉù', 'ÏòàÏïΩ ÌôïÏù∏', 'ÏòàÏïΩ Ï∑®ÏÜå', 'ÏòàÏïΩ Î≥ÄÍ≤Ω', 'ÎÖ∏Ïáº Ï†ïÏ±Ö', 'ÎåÄÍ∏∞ ÏòàÏïΩ'],
        schedule: ['Ï∫òÎ¶∞Îçî Î≥¥Í∏∞', 'ÏùºÏ†ï Îì±Î°ù', 'ÏùºÏ†ï ÏïåÎ¶º', 'ÏùºÏ†ï Í≥µÏú†', 'Î∞òÎ≥µ ÏùºÏ†ï'],
        application: ['Ïã†Ï≤≠ÏÑú ÏñëÏãù', 'Ï≤®Î∂ÄÌååÏùº', 'Ïã†Ï≤≠ ÏÉÅÌÉú', 'Ïã†Ï≤≠ ÎÇ¥Ïó≠', 'ÏäπÏù∏/Î∞òÎ†§', 'Ï∂îÍ∞Ä Ï†ïÎ≥¥ ÏöîÏ≤≠'],
        consultation: ['ÏÉÅÎã¥ Ïú†Ìòï', 'Ìù¨Îßù ÏùºÏãú', 'ÏÉÅÎã¥ ÎÇ¥Ïö©', 'ÏÉÅÎã¥ÏÇ¨ Î∞∞Ï†ï', 'ÏÉÅÎã¥ Í≤∞Í≥º', 'ÌõÑÏÜç ÏÉÅÎã¥'],
        admin_dashboard: ['Ï£ºÏöî ÏßÄÌëú', 'Ïã§ÏãúÍ∞Ñ ÌòÑÌô©', 'Îß§Ï∂ú ÌÜµÍ≥Ñ', 'ÌöåÏõê ÌÜµÍ≥Ñ', 'Ï£ºÎ¨∏ ÌÜµÍ≥Ñ', 'ÏïåÎ¶º'],
        admin_user: ['ÌöåÏõê Î™©Î°ù', 'ÌöåÏõê ÏÉÅÏÑ∏', 'Îì±Í∏â Î≥ÄÍ≤Ω', 'Ìè¨Ïù∏Ìä∏ ÏßÄÍ∏â', 'Ìú¥Î©¥ Ï≤òÎ¶¨', 'ÌÉàÌá¥ Ï≤òÎ¶¨'],
        admin_order: ['Ï£ºÎ¨∏ Î™©Î°ù', 'Ï£ºÎ¨∏ ÏÉÅÏÑ∏', 'Ï£ºÎ¨∏ ÏÉÅÌÉú Î≥ÄÍ≤Ω', 'Î∞∞ÏÜ° Ï≤òÎ¶¨', 'Ï∑®ÏÜå/ÌôòÎ∂à Ï≤òÎ¶¨', 'ÏùºÍ¥Ñ Ï≤òÎ¶¨'],
        admin_stats: ['Îß§Ï∂ú Î¶¨Ìè¨Ìä∏', 'ÏÉÅÌíà Î∂ÑÏÑù', 'ÌöåÏõê Î∂ÑÏÑù', 'Í∏∞Í∞ÑÎ≥Ñ ÎπÑÍµê', 'ÏóëÏÖÄ Îã§Ïö¥Î°úÎìú']
    };

    // Í∏∞Îä• Ïú†ÌòïÎ≥Ñ Í∏∞Îä•Ï†ïÏùòÏÑú ÏΩòÌÖêÏ∏†
    const funcSpecContent = {
        signup: generateSignupSpec,
        login: generateLoginSpec,
        payment: generatePaymentSpec,
        cart: generateCartSpec,
        order: generateOrderSpec,
        delivery: generateDeliverySpec,
        review: generateReviewSpec,
        point: generatePointSpec,
        coupon: generateCouponSpec,
        booking: generateBookingSpec,
        subscription: generateSubscriptionSpec,
        mypage: generateMypageSpec
    };

    // Í∏∞Îä• Ïú†ÌòïÎ™Ö
    const funcTypeNames = {
        signup: 'ÌöåÏõêÍ∞ÄÏûÖ', login: 'Î°úÍ∑∏Ïù∏', mypage: 'ÎßàÏù¥ÌéòÏù¥ÏßÄ', membership: 'ÌöåÏõêÎì±Í∏â/Î©§Î≤ÑÏã≠',
        withdrawal: 'ÌöåÏõêÌÉàÌá¥', product: 'ÏÉÅÌíà Í¥ÄÎ¶¨', category: 'Ïπ¥ÌÖåÍ≥†Î¶¨ Í¥ÄÎ¶¨', search: 'ÏÉÅÌíà Í≤ÄÏÉâ',
        cart: 'Ïû•Î∞îÍµ¨Îãà', wishlist: 'ÏúÑÏãúÎ¶¨Ïä§Ìä∏', order: 'Ï£ºÎ¨∏/Íµ¨Îß§', payment: 'Í≤∞Ï†ú',
        delivery: 'Î∞∞ÏÜ°', return: 'Î∞òÌíà/ÍµêÌôò', subscription: 'Ï†ïÍ∏∞Íµ¨ÎèÖ', review: 'Î¶¨Î∑∞/ÌõÑÍ∏∞',
        qna: 'Q&A/Î¨∏Ïùò', board: 'Í≤åÏãúÌåê', chat: 'Ïã§ÏãúÍ∞Ñ Ï±ÑÌåÖ', notification: 'ÏïåÎ¶º/Ìë∏Ïãú',
        point: 'Ìè¨Ïù∏Ìä∏', coupon: 'Ïø†Ìè∞', event: 'Ïù¥Î≤§Ìä∏/ÌîÑÎ°úÎ™®ÏÖò', referral: 'ÏπúÍµ¨Ï∂îÏ≤ú',
        booking: 'ÏòàÏïΩ', schedule: 'ÏùºÏ†ïÍ¥ÄÎ¶¨', application: 'Ïã†Ï≤≠ÏÑú/Ï†ëÏàò', consultation: 'ÏÉÅÎã¥Ïã†Ï≤≠',
        admin_dashboard: 'Í¥ÄÎ¶¨Ïûê ÎåÄÏãúÎ≥¥Îìú', admin_user: 'ÌöåÏõê Í¥ÄÎ¶¨', admin_order: 'Ï£ºÎ¨∏ Í¥ÄÎ¶¨', admin_stats: 'ÌÜµÍ≥Ñ/Î¶¨Ìè¨Ìä∏'
    };

    // Í∏∞Îä• Ïú†Ìòï Î≥ÄÍ≤Ω Ïãú ÏòµÏÖò ÏóÖÎç∞Ïù¥Ìä∏
    funcTypeSelect?.addEventListener('change', () => {
        const funcType = funcTypeSelect.value;
        const options = funcTypeOptions[funcType] || funcTypeOptions['signup'];
        
        if (funcOptionsContainer) {
            funcOptionsContainer.innerHTML = options.map((option, index) => `
                <label class="checkbox-item">
                    <input type="checkbox" name="func_option" value="${option}" ${index < 3 ? 'checked' : ''}>
                    <span class="checkmark"></span>
                    <span>${option}</span>
                </label>
            `).join('');
        }
    });

    // ÏóÖÏ¢ÖÏóê Îî∞Î•∏ Ï∂îÍ∞Ä ÏòµÏÖò Î≥ÄÍ≤Ω
    funcIndustrySelect?.addEventListener('change', () => {
        const funcType = funcTypeSelect?.value;
        const industry = funcIndustrySelect.value;
        
        // ÏóÖÏ¢ÖÎ≥Ñ Ï∂îÍ∞Ä ÏòµÏÖò
        let additionalOptions = [];
        if (industry === 'beauty') {
            additionalOptions = ['ÌîºÎ∂Ä ÌÉÄÏûÖ ÏÑ†ÌÉù', 'AI ÎßûÏ∂§ Ï∂îÏ≤ú'];
        } else if (industry === 'fashion') {
            additionalOptions = ['ÏÇ¨Ïù¥Ï¶à ÏÑ†ÌÉù', 'ÏΩîÎîî Ï∂îÏ≤ú'];
        } else if (industry === 'fnb') {
            additionalOptions = ['ÏïåÎ†àÎ•¥Í∏∞ Ï†ïÎ≥¥', 'ÏòÅÏñë Ï†ïÎ≥¥'];
        } else if (industry === 'healthcare') {
            additionalOptions = ['Î≥¥Ìóò Ïó∞Îèô', 'ÏùòÎ£å Í∏∞Î°ù Ïó∞Îèô'];
        } else if (industry === 'public') {
            additionalOptions = ['Í≥µÏù∏Ïù∏Ï¶ù', 'Ïã§Î™Ö Ïù∏Ï¶ù'];
        }
        
        const baseOptions = funcTypeOptions[funcType] || funcTypeOptions['signup'];
        const allOptions = [...baseOptions, ...additionalOptions];
        
        if (funcOptionsContainer) {
            funcOptionsContainer.innerHTML = allOptions.map((option, index) => `
                <label class="checkbox-item">
                    <input type="checkbox" name="func_option" value="${option}" ${index < 3 ? 'checked' : ''}>
                    <span class="checkmark"></span>
                    <span>${option}</span>
                </label>
            `).join('');
        }
    });
    
    form?.addEventListener('submit', (e) => {
        e.preventDefault();
        
        const funcType = funcTypeSelect?.value || 'signup';
        const industry = funcIndustrySelect?.value || 'commerce';
        const selectedOptions = Array.from(document.querySelectorAll('input[name="func_option"]:checked')).map(cb => cb.value);
        
        // ÌÉÄÏù¥ÌãÄ ÏóÖÎç∞Ïù¥Ìä∏
        if (funcResultTitle) {
            funcResultTitle.innerHTML = `
                <span class="ai-badge">AI</span>
                ${funcTypeNames[funcType] || funcType} Í∏∞Îä•Ï†ïÏùòÏÑú Ï¥àÏïà
            `;
        }
        
        // ÏΩòÌÖêÏ∏† ÏóÖÎç∞Ïù¥Ìä∏
        if (funcResultContent && funcSpecContent[funcType]) {
            funcResultContent.innerHTML = funcSpecContent[funcType](industry, selectedOptions);
        }
        
        if (resultCard) {
            resultCard.style.animation = 'none';
            resultCard.offsetHeight;
            resultCard.style.animation = 'fadeIn 0.5s ease';
            
            // Animate sections
            const sections = resultCard.querySelectorAll('.func-section, .func-journey');
            sections.forEach((section, index) => {
                section.style.opacity = '0';
                section.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    section.style.transition = 'all 0.4s ease';
                    section.style.opacity = '1';
                    section.style.transform = 'translateY(0)';
                }, index * 150);
            });
        }
    });
}

// ÌöåÏõêÍ∞ÄÏûÖ Í∏∞Îä•Ï†ïÏùòÏÑú ÏÉùÏÑ±
function generateSignupSpec(industry, options) {
    const hasSocialLogin = options.includes('ÏÜåÏÖú Î°úÍ∑∏Ïù∏ Ìè¨Ìï®');
    const hasIdentityVerify = options.includes('Î≥∏Ïù∏Ïù∏Ï¶ù Ìè¨Ìï®');
    
    return `
        <div class="func-journey">
            <h4>üìç ÏÇ¨Ïö©Ïûê Ïó¨Ï†ï (User Journey)</h4>
            <div class="journey-flow">
                <div class="journey-step"><span class="step-num">1</span><span class="step-title">ÏßÑÏûÖ</span><p>ÌöåÏõêÍ∞ÄÏûÖ Î≤ÑÌäº ÌÅ¥Î¶≠</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step"><span class="step-num">2</span><span class="step-title">ÏïΩÍ¥ÄÎèôÏùò</span><p>ÌïÑÏàò/ÏÑ†ÌÉù ÏïΩÍ¥Ä ÌôïÏù∏</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step"><span class="step-num">3</span><span class="step-title">Ï†ïÎ≥¥ÏûÖÎ†•</span><p>ÌöåÏõêÏ†ïÎ≥¥ ÏûÖÎ†•</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step"><span class="step-num">4</span><span class="step-title">Ïù∏Ï¶ù</span><p>Î≥∏Ïù∏Ïù∏Ï¶ù/Ïù¥Î©îÏùºÏù∏Ï¶ù</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step completed"><span class="step-num">5</span><span class="step-title">ÏôÑÎ£å</span><p>Í∞ÄÏûÖ ÏôÑÎ£å Î∞è ÌòúÌÉù ÏïàÎÇ¥</p></div>
            </div>
        </div>
        <div class="func-section">
            <h4>1. ÌöåÏõêÍ∞ÄÏûÖ Î∞©Ïãù</h4>
            <div class="func-table">
                <div class="func-row header"><span>Ìï≠Î™©</span><span>ÏÉÅÏÑ∏ ÎÇ¥Ïö©</span><span>ÌïÑÏàòÏó¨Î∂Ä</span></div>
                <div class="func-row"><span>Ïù¥Î©îÏùº Í∞ÄÏûÖ</span><span>Ïù¥Î©îÏùº Ï£ºÏÜåÎ•º ÏïÑÏù¥ÎîîÎ°ú ÏÇ¨Ïö©ÌïòÏó¨ ÏßÅÏ†ë ÌöåÏõêÍ∞ÄÏûÖ</span><span class="required">ÌïÑÏàò</span></div>
                ${hasSocialLogin ? `<div class="func-row"><span>ÏÜåÏÖú Î°úÍ∑∏Ïù∏</span><span>Ïπ¥Ïπ¥Ïò§ÌÜ°, ÎÑ§Ïù¥Î≤Ñ, Íµ¨Í∏Ä, Ïï†Ìîå Í≥ÑÏ†ï Ïó∞Îèô Í∞ÄÏûÖ</span><span class="required">ÌïÑÏàò</span></div>` : ''}
                ${hasIdentityVerify ? `<div class="func-row"><span>Î≥∏Ïù∏Ïù∏Ï¶ù</span><span>Ìú¥ÎåÄÌè∞ Î≥∏Ïù∏Ïù∏Ï¶ù (KGÏù¥ÎãàÏãúÏä§/ÎÇòÏù¥Ïä§)</span><span class="optional">ÏÑ†ÌÉù</span></div>` : ''}
            </div>
        </div>
        <div class="func-section">
            <h4>2. ÌïÑÏàò ÏûÖÎ†• Ï†ïÎ≥¥</h4>
            <div class="func-table">
                <div class="func-row header"><span>ÌïÑÎìúÎ™Ö</span><span>Ïú†Ìö®ÏÑ± Í≤ÄÏÇ¨ Í∑úÏπô</span><span>ÌïÑÏàòÏó¨Î∂Ä</span></div>
                <div class="func-row"><span>Ïù¥Î©îÏùº(ÏïÑÏù¥Îîî)</span><span>Ïù¥Î©îÏùº ÌòïÏãù Í≤ÄÏÇ¨, Ïã§ÏãúÍ∞Ñ Ï§ëÎ≥µ ÌôïÏù∏</span><span class="required">ÌïÑÏàò</span></div>
                <div class="func-row"><span>ÎπÑÎ∞ÄÎ≤àÌò∏</span><span>8~20Ïûê, ÏòÅÎ¨∏+Ïà´Ïûê+ÌäπÏàòÎ¨∏Ïûê 2Ï¢Ö Ïù¥ÏÉÅ</span><span class="required">ÌïÑÏàò</span></div>
                <div class="func-row"><span>Ïù¥Î¶Ñ</span><span>2~20Ïûê, ÌïúÍ∏Ä/ÏòÅÎ¨∏</span><span class="required">ÌïÑÏàò</span></div>
                <div class="func-row"><span>Ìú¥ÎåÄÌè∞</span><span>010 ÏãúÏûë, 10~11ÏûêÎ¶¨, SMS Ïù∏Ï¶ù</span><span class="required">ÌïÑÏàò</span></div>
            </div>
        </div>
        <div class="func-analysis">
            <h4>üìä Î∂ÑÏÑù Í∑ºÍ±∞</h4>
            <p><strong>Î∂ÑÏÑù ÎåÄÏÉÅ:</strong> Ïú†ÏÇ¨ ${industry} ÌîÑÎ°úÏ†ùÌä∏ ${Math.floor(Math.random() * 5) + 5}Í±¥ Î∂ÑÏÑù<br>
            <strong>Î≤ïÍ∑ú Î∞òÏòÅ:</strong> Í∞úÏù∏Ï†ïÎ≥¥Î≥¥Ìò∏Î≤ï, Ï†ïÎ≥¥ÌÜµÏã†ÎßùÎ≤ï ÏµúÏã† Í∏∞Ï§Ä Î∞òÏòÅ</p>
        </div>
    `;
}

// Î°úÍ∑∏Ïù∏ Í∏∞Îä•Ï†ïÏùòÏÑú ÏÉùÏÑ±
function generateLoginSpec(industry, options) {
    return `
        <div class="func-journey">
            <h4>üìç ÏÇ¨Ïö©Ïûê Ïó¨Ï†ï (User Journey)</h4>
            <div class="journey-flow">
                <div class="journey-step"><span class="step-num">1</span><span class="step-title">ÏßÑÏûÖ</span><p>Î°úÍ∑∏Ïù∏ ÌéòÏù¥ÏßÄ Ï†ëÏÜç</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step"><span class="step-num">2</span><span class="step-title">Ï†ïÎ≥¥ÏûÖÎ†•</span><p>ÏïÑÏù¥Îîî/ÎπÑÎ∞ÄÎ≤àÌò∏ ÏûÖÎ†•</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step"><span class="step-num">3</span><span class="step-title">Ïù∏Ï¶ù</span><p>Î°úÍ∑∏Ïù∏ Í≤ÄÏ¶ù</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step completed"><span class="step-num">4</span><span class="step-title">ÏôÑÎ£å</span><p>Î©îÏù∏/Ïù¥Ï†Ñ ÌéòÏù¥ÏßÄ Ïù¥Îèô</p></div>
            </div>
        </div>
        <div class="func-section">
            <h4>1. Î°úÍ∑∏Ïù∏ Î∞©Ïãù</h4>
            <div class="func-table">
                <div class="func-row header"><span>Ìï≠Î™©</span><span>ÏÉÅÏÑ∏ ÎÇ¥Ïö©</span><span>ÌïÑÏàòÏó¨Î∂Ä</span></div>
                <div class="func-row"><span>ÏùºÎ∞ò Î°úÍ∑∏Ïù∏</span><span>Ïù¥Î©îÏùº + ÎπÑÎ∞ÄÎ≤àÌò∏ ÏûÖÎ†•<br>‚Ä¢ ÏïÑÏù¥Îîî Ï†ÄÏû• ÏòµÏÖò<br>‚Ä¢ ÏûêÎèô Î°úÍ∑∏Ïù∏ ÏòµÏÖò (30Ïùº)</span><span class="required">ÌïÑÏàò</span></div>
                <div class="func-row"><span>ÏÜåÏÖú Î°úÍ∑∏Ïù∏</span><span>Ïπ¥Ïπ¥Ïò§ÌÜ°, ÎÑ§Ïù¥Î≤Ñ, Íµ¨Í∏Ä, Ïï†Ìîå<br>‚Ä¢ ÏõêÌÅ¥Î¶≠ Î°úÍ∑∏Ïù∏ ÏßÄÏõê</span><span class="required">ÌïÑÏàò</span></div>
                ${options.includes('ÏÉùÏ≤¥Ïù∏Ï¶ù') ? `<div class="func-row"><span>ÏÉùÏ≤¥Ïù∏Ï¶ù</span><span>ÏßÄÎ¨∏/Face ID Ïù∏Ï¶ù (Ïï± Ï†ÑÏö©)</span><span class="optional">ÏÑ†ÌÉù</span></div>` : ''}
                ${options.includes('2Îã®Í≥Ñ Ïù∏Ï¶ù') ? `<div class="func-row"><span>2Îã®Í≥Ñ Ïù∏Ï¶ù</span><span>OTP/SMS Ï∂îÍ∞Ä Ïù∏Ï¶ù</span><span class="optional">ÏÑ†ÌÉù</span></div>` : ''}
            </div>
        </div>
        <div class="func-section">
            <h4>2. Î≥¥Ïïà Ï†ïÏ±Ö</h4>
            <ul class="func-list">
                <li><strong>Î°úÍ∑∏Ïù∏ Ïã§Ìå® Ï†úÌïú:</strong> 5Ìöå Ïã§Ìå® Ïãú 10Î∂ÑÍ∞Ñ Î°úÍ∑∏Ïù∏ Ï∞®Îã®</li>
                <li><strong>ÎπÑÎ∞ÄÎ≤àÌò∏ ÏûÖÎ†• ÎßàÏä§ÌÇπ:</strong> ÏûÖÎ†• Ïãú ‚Ä¢ ÌëúÏãú, Î≥¥Í∏∞ ÌÜ†Í∏Ä Ï†úÍ≥µ</li>
                <li><strong>ÏÑ∏ÏÖò Í¥ÄÎ¶¨:</strong> ÎèôÏãú Î°úÍ∑∏Ïù∏ 3ÎåÄ Ï†úÌïú, ÏÉà Î°úÍ∑∏Ïù∏ Ïãú Í∏∞Ï°¥ ÏÑ∏ÏÖò Ï¢ÖÎ£å ÏÑ†ÌÉù</li>
                <li><strong>Î°úÍ∑∏Ïù∏ Í∏∞Î°ù:</strong> IP, Í∏∞Í∏∞, ÏãúÍ∞Ñ Í∏∞Î°ù Î∞è Ïù¥ÏÉÅ Ï†ëÏÜç ÏïåÎ¶º</li>
            </ul>
        </div>
        <div class="func-section">
            <h4>3. ÏïÑÏù¥Îîî/ÎπÑÎ∞ÄÎ≤àÌò∏ Ï∞æÍ∏∞</h4>
            <div class="func-table">
                <div class="func-row header"><span>Í∏∞Îä•</span><span>ÌîÑÎ°úÏÑ∏Ïä§</span><span>Ïù∏Ï¶ùÎ∞©Î≤ï</span></div>
                <div class="func-row"><span>ÏïÑÏù¥Îîî Ï∞æÍ∏∞</span><span>1. Ïù¥Î¶Ñ + Ìú¥ÎåÄÌè∞ ÏûÖÎ†•<br>2. SMS Ïù∏Ï¶ù<br>3. Í∞ÄÏûÖÎêú ÏïÑÏù¥Îîî ÌëúÏãú (ÏùºÎ∂Ä ÎßàÏä§ÌÇπ)</span><span>SMS</span></div>
                <div class="func-row"><span>ÎπÑÎ∞ÄÎ≤àÌò∏ Ï∞æÍ∏∞</span><span>1. ÏïÑÏù¥Îîî(Ïù¥Î©îÏùº) ÏûÖÎ†•<br>2. Ïù¥Î©îÏùº Ïù∏Ï¶ù ÎßÅÌÅ¨ Î∞úÏÜ°<br>3. ÎπÑÎ∞ÄÎ≤àÌò∏ Ïû¨ÏÑ§Ï†ï ÌéòÏù¥ÏßÄ Ïù¥Îèô<br>4. ÏÉà ÎπÑÎ∞ÄÎ≤àÌò∏ ÏûÖÎ†• Î∞è ÏôÑÎ£å</span><span>Ïù¥Î©îÏùº</span></div>
            </div>
        </div>
        <div class="func-analysis">
            <h4>üìä Î∂ÑÏÑù Í∑ºÍ±∞</h4>
            <p><strong>Î∂ÑÏÑù ÎåÄÏÉÅ:</strong> Ïú†ÏÇ¨ ${industry} ÌîÑÎ°úÏ†ùÌä∏ ${Math.floor(Math.random() * 5) + 5}Í±¥ Î∂ÑÏÑù<br>
            <strong>Î≥¥Ïïà Í∏∞Ï§Ä:</strong> KISA Ïù∏ÌÑ∞ÎÑ∑ Î≥¥Ïïà Í∞ÄÏù¥ÎìúÎùºÏù∏ Î∞òÏòÅ</p>
        </div>
    `;
}

// Í≤∞Ï†ú Í∏∞Îä•Ï†ïÏùòÏÑú ÏÉùÏÑ±
function generatePaymentSpec(industry, options) {
    return `
        <div class="func-journey">
            <h4>üìç ÏÇ¨Ïö©Ïûê Ïó¨Ï†ï (User Journey)</h4>
            <div class="journey-flow">
                <div class="journey-step"><span class="step-num">1</span><span class="step-title">Ï£ºÎ¨∏ÌôïÏù∏</span><p>ÏÉÅÌíà/Í∏àÏï° ÌôïÏù∏</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step"><span class="step-num">2</span><span class="step-title">Î∞∞ÏÜ°Ï†ïÎ≥¥</span><p>Î∞∞ÏÜ°ÏßÄ ÏûÖÎ†•/ÏÑ†ÌÉù</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step"><span class="step-num">3</span><span class="step-title">Ìï†Ïù∏Ï†ÅÏö©</span><p>Ïø†Ìè∞/Ìè¨Ïù∏Ìä∏ Ï†ÅÏö©</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step"><span class="step-num">4</span><span class="step-title">Í≤∞Ï†úÏàòÎã®</span><p>Í≤∞Ï†ú Î∞©Î≤ï ÏÑ†ÌÉù</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step completed"><span class="step-num">5</span><span class="step-title">Í≤∞Ï†úÏôÑÎ£å</span><p>Ï£ºÎ¨∏ ÏôÑÎ£å ÏïàÎÇ¥</p></div>
            </div>
        </div>
        <div class="func-section">
            <h4>1. Í≤∞Ï†ú ÏàòÎã®</h4>
            <div class="func-table">
                <div class="func-row header"><span>Í≤∞Ï†úÏàòÎã®</span><span>ÏÉÅÏÑ∏ ÎÇ¥Ïö©</span><span>ÏàòÏàòÎ£å</span></div>
                ${options.includes('Ïã†Ïö©Ïπ¥Îìú') ? `<div class="func-row"><span>Ïã†Ïö©/Ï≤¥ÌÅ¨Ïπ¥Îìú</span><span>Íµ≠ÎÇ¥ Î™®Îì† Ïπ¥ÎìúÏÇ¨ ÏßÄÏõê, Ìï†Î∂Ä (2~12Í∞úÏõî, Î¨¥Ïù¥Ïûê Ïù¥Î≤§Ìä∏)</span><span>2.5~3.0%</span></div>` : ''}
                ${options.includes('Í∞ÑÌé∏Í≤∞Ï†ú') ? `<div class="func-row"><span>Í∞ÑÌé∏Í≤∞Ï†ú</span><span>ÎÑ§Ïù¥Î≤ÑÌéòÏù¥, Ïπ¥Ïπ¥Ïò§ÌéòÏù¥, ÌÜ†Ïä§ÌéòÏù¥, ÌéòÏù¥ÏΩî</span><span>3.0~3.5%</span></div>` : ''}
                ${options.includes('Í≥ÑÏ¢åÏù¥Ï≤¥') ? `<div class="func-row"><span>Í≥ÑÏ¢åÏù¥Ï≤¥</span><span>Ïã§ÏãúÍ∞Ñ Í≥ÑÏ¢åÏù¥Ï≤¥ (Î™®Îì† ÏùÄÌñâ ÏßÄÏõê)</span><span>1.5~2.0%</span></div>` : ''}
                ${options.includes('Í∞ÄÏÉÅÍ≥ÑÏ¢å') ? `<div class="func-row"><span>Í∞ÄÏÉÅÍ≥ÑÏ¢å</span><span>ÏûÖÍ∏à Í∏∞Ìïú 24ÏãúÍ∞Ñ, ÎØ∏ÏûÖÍ∏à Ïãú ÏûêÎèô Ï∑®ÏÜå</span><span>300Ïõê/Í±¥</span></div>` : ''}
            </div>
        </div>
        <div class="func-section">
            <h4>2. Ìï†Ïù∏ Ï†ÅÏö©</h4>
            <div class="func-table">
                <div class="func-row header"><span>Ìï†Ïù∏Ïú†Ìòï</span><span>Ï†ÅÏö© Í∑úÏπô</span><span>Ï§ëÎ≥µÏó¨Î∂Ä</span></div>
                <div class="func-row"><span>Ïø†Ìè∞</span><span>Ï†ïÎ•†/Ï†ïÏï° Ìï†Ïù∏, ÏµúÎåÄ Ìï†Ïù∏Í∏àÏï° Ï†úÌïú, ÏµúÏÜå Ï£ºÎ¨∏Í∏àÏï° Ï°∞Í±¥</span><span>1Ïû•Îßå</span></div>
                <div class="func-row"><span>Ï†ÅÎ¶ΩÍ∏à</span><span>1Ïõê Îã®ÏúÑ ÏÇ¨Ïö©, ÏµúÏÜå 1,000Ïõê Ïù¥ÏÉÅ Î≥¥Ïú† Ïãú ÏÇ¨Ïö© Í∞ÄÎä•</span><span>Í∞ÄÎä•</span></div>
                <div class="func-row"><span>Îì±Í∏â Ìï†Ïù∏</span><span>ÌöåÏõê Îì±Í∏âÎ≥Ñ Ï∂îÍ∞Ä Ìï†Ïù∏Ïú® Ï†ÅÏö©</span><span>Í∞ÄÎä•</span></div>
            </div>
        </div>
        <div class="func-section">
            <h4>3. Í≤∞Ï†ú ÌîÑÎ°úÏÑ∏Ïä§</h4>
            <ul class="func-list">
                <li><strong>PGÏÇ¨ Ïó∞Îèô:</strong> KGÏù¥ÎãàÏãúÏä§/ÌÜ†Ïä§ÌéòÏù¥Î®ºÏ∏† Ïó∞Îèô (Ïù¥Ï§ëÌôî)</li>
                <li><strong>Í≤∞Ï†ú Í≤ÄÏ¶ù:</strong> Ï£ºÎ¨∏Í∏àÏï°Í≥º Ïã§ Í≤∞Ï†úÍ∏àÏï° ÏùºÏπò Í≤ÄÏ¶ù</li>
                <li><strong>Í≤∞Ï†ú Ïã§Ìå®:</strong> Ïã§Ìå® ÏÇ¨Ïú† ÏïàÎÇ¥, Ïû¨ÏãúÎèÑ Î≤ÑÌäº Ï†úÍ≥µ</li>
                <li><strong>Í≤∞Ï†ú ÏôÑÎ£å:</strong> Ï£ºÎ¨∏Î≤àÌò∏ Î∞úÍ∏â, Ïù¥Î©îÏùº/SMS ÏïåÎ¶º Î∞úÏÜ°</li>
            </ul>
        </div>
        <div class="func-analysis">
            <h4>üìä Î∂ÑÏÑù Í∑ºÍ±∞</h4>
            <p><strong>Î∂ÑÏÑù ÎåÄÏÉÅ:</strong> Ïú†ÏÇ¨ ${industry} ÌîÑÎ°úÏ†ùÌä∏ ${Math.floor(Math.random() * 5) + 5}Í±¥ Î∂ÑÏÑù<br>
            <strong>PGÏÇ¨:</strong> ÏóÖÏ¢Ö ÌäπÏÑ± Í≥†Î†§ÌïòÏó¨ ÏµúÏ†Å PGÏÇ¨ Ï∂îÏ≤ú</p>
        </div>
    `;
}

// Ïû•Î∞îÍµ¨Îãà Í∏∞Îä•Ï†ïÏùòÏÑú ÏÉùÏÑ±
function generateCartSpec(industry, options) {
    return `
        <div class="func-journey">
            <h4>üìç ÏÇ¨Ïö©Ïûê Ïó¨Ï†ï (User Journey)</h4>
            <div class="journey-flow">
                <div class="journey-step"><span class="step-num">1</span><span class="step-title">ÏÉÅÌíàÏÑ†ÌÉù</span><p>ÏÉÅÌíà Îã¥Í∏∞</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step"><span class="step-num">2</span><span class="step-title">Ïû•Î∞îÍµ¨Îãà</span><p>Îã¥Í∏¥ ÏÉÅÌíà ÌôïÏù∏</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step"><span class="step-num">3</span><span class="step-title">ÏàòÎüâÏ°∞Ï†à</span><p>ÏàòÎüâ/ÏòµÏÖò Î≥ÄÍ≤Ω</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step completed"><span class="step-num">4</span><span class="step-title">Ï£ºÎ¨∏ÌïòÍ∏∞</span><p>Í≤∞Ï†ú ÌéòÏù¥ÏßÄ Ïù¥Îèô</p></div>
            </div>
        </div>
        <div class="func-section">
            <h4>1. Ïû•Î∞îÍµ¨Îãà Í∏∞Î≥∏ Í∏∞Îä•</h4>
            <div class="func-table">
                <div class="func-row header"><span>Í∏∞Îä•</span><span>ÏÉÅÏÑ∏ ÎÇ¥Ïö©</span><span>ÌïÑÏàòÏó¨Î∂Ä</span></div>
                <div class="func-row"><span>ÏÉÅÌíà Îã¥Í∏∞</span><span>ÏÉÅÌíà ÏÉÅÏÑ∏ÏóêÏÑú ÏòµÏÖò ÏÑ†ÌÉù ÌõÑ Ïû•Î∞îÍµ¨Îãà Îã¥Í∏∞<br>‚Ä¢ Îã¥Í∏∞ ÏôÑÎ£å Ïãú Î™®Îã¨ or ÌîåÎ°úÌåÖ ÏïåÎ¶º</span><span class="required">ÌïÑÏàò</span></div>
                <div class="func-row"><span>ÏàòÎüâ Î≥ÄÍ≤Ω</span><span>+/- Î≤ÑÌäº Î∞è ÏßÅÏ†ë ÏûÖÎ†•<br>‚Ä¢ Ïû¨Í≥† Ï¥àÍ≥º Ïãú ÏïåÎ¶º</span><span class="required">ÌïÑÏàò</span></div>
                <div class="func-row"><span>ÏòµÏÖò Î≥ÄÍ≤Ω</span><span>Ïû•Î∞îÍµ¨ÎãàÏóêÏÑú ÏòµÏÖò Î≥ÄÍ≤Ω Í∞ÄÎä•<br>‚Ä¢ Í∞ÄÍ≤© Ï∞®Ïù¥ ÏûêÎèô Î∞òÏòÅ</span><span class="optional">ÏÑ†ÌÉù</span></div>
                <div class="func-row"><span>ÏÑ†ÌÉù ÏÇ≠Ï†ú</span><span>Í∞úÎ≥Ñ/Ï†ÑÏ≤¥ ÏÑ†ÌÉù ÏÇ≠Ï†ú<br>‚Ä¢ ÏÇ≠Ï†ú ÌôïÏù∏ ÌåùÏóÖ</span><span class="required">ÌïÑÏàò</span></div>
            </div>
        </div>
        <div class="func-section">
            <h4>2. Î∞∞ÏÜ°/Í≤∞Ï†ú Ï†ïÎ≥¥</h4>
            <ul class="func-list">
                <li><strong>Î∞∞ÏÜ°ÎπÑ Í≥ÑÏÇ∞:</strong> Î¨¥Î£åÎ∞∞ÏÜ° Í∏∞Ï§Ä Í∏àÏï° ÌëúÏãú, ÎÇ®ÏùÄ Í∏àÏï° ÏïàÎÇ¥</li>
                <li><strong>ÏòàÏÉÅ Í≤∞Ï†úÍ∏àÏï°:</strong> ÏÉÅÌíàÍ∏àÏï° + Î∞∞ÏÜ°ÎπÑ - Ìï†Ïù∏ = Í≤∞Ï†úÏòàÏ†ïÍ∏àÏï°</li>
                <li><strong>Ïû¨Í≥† ÌôïÏù∏:</strong> ÌíàÏ†à ÏÉÅÌíà ÌëúÏãú, Ï£ºÎ¨∏ Î∂àÍ∞Ä Ï≤òÎ¶¨</li>
            </ul>
        </div>
        <div class="func-analysis">
            <h4>üìä Î∂ÑÏÑù Í∑ºÍ±∞</h4>
            <p><strong>Î∂ÑÏÑù ÎåÄÏÉÅ:</strong> Ïú†ÏÇ¨ ${industry} ÌîÑÎ°úÏ†ùÌä∏ ${Math.floor(Math.random() * 5) + 5}Í±¥ Î∂ÑÏÑù<br>
            <strong>UX ÏµúÏ†ÅÌôî:</strong> Ïû•Î∞îÍµ¨Îãà Ïù¥ÌÉàÎ•† 15% Í∞êÏÜå ÏÇ¨Î°Ä Í∏∞Î∞ò</p>
        </div>
    `;
}

// Ï£ºÎ¨∏ Í∏∞Îä•Ï†ïÏùòÏÑú ÏÉùÏÑ±
function generateOrderSpec(industry, options) {
    return `
        <div class="func-journey">
            <h4>üìç ÏÇ¨Ïö©Ïûê Ïó¨Ï†ï (User Journey)</h4>
            <div class="journey-flow">
                <div class="journey-step"><span class="step-num">1</span><span class="step-title">Ï£ºÎ¨∏ÏÑúÏûëÏÑ±</span><p>Î∞∞ÏÜ°ÏßÄ/Í≤∞Ï†úÏ†ïÎ≥¥</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step"><span class="step-num">2</span><span class="step-title">Í≤∞Ï†ú</span><p>Í≤∞Ï†ú ÏßÑÌñâ</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step"><span class="step-num">3</span><span class="step-title">Ï£ºÎ¨∏ÏôÑÎ£å</span><p>Ï£ºÎ¨∏Î≤àÌò∏ Î∞úÍ∏â</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step"><span class="step-num">4</span><span class="step-title">Î∞∞ÏÜ°</span><p>Î∞∞ÏÜ° ÏßÑÌñâ</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step completed"><span class="step-num">5</span><span class="step-title">ÏàòÎ†πÏôÑÎ£å</span><p>Íµ¨Îß§ÌôïÏ†ï/Î¶¨Î∑∞</p></div>
            </div>
        </div>
        <div class="func-section">
            <h4>1. Ï£ºÎ¨∏ ÏÉÅÌÉú</h4>
            <div class="func-table">
                <div class="func-row header"><span>ÏÉÅÌÉú</span><span>ÏÑ§Î™Ö</span><span>Í∞ÄÎä• Ïï°ÏÖò</span></div>
                <div class="func-row"><span>Ï£ºÎ¨∏ÏôÑÎ£å</span><span>Í≤∞Ï†ú ÏôÑÎ£å ÌõÑ Ï£ºÎ¨∏ Ï†ëÏàò ÏÉÅÌÉú</span><span>Ï£ºÎ¨∏Ï∑®ÏÜå</span></div>
                <div class="func-row"><span>ÏÉÅÌíàÏ§ÄÎπÑÏ§ë</span><span>ÌåêÎß§ÏûêÍ∞Ä ÏÉÅÌíà Ï§ÄÎπÑ Ï§ë</span><span>Ï∑®ÏÜåÏöîÏ≤≠</span></div>
                <div class="func-row"><span>Î∞∞ÏÜ°Ï§ë</span><span>ÌÉùÎ∞∞ÏÇ¨ Î∞∞ÏÜ° ÏßÑÌñâ Ï§ë</span><span>Î∞∞ÏÜ°Ï°∞Ìöå</span></div>
                <div class="func-row"><span>Î∞∞ÏÜ°ÏôÑÎ£å</span><span>Î∞∞ÏÜ° ÏôÑÎ£å</span><span>Íµ¨Îß§ÌôïÏ†ï, ÍµêÌôò/Î∞òÌíà</span></div>
                <div class="func-row"><span>Íµ¨Îß§ÌôïÏ†ï</span><span>Íµ¨Îß§ ÌôïÏ†ï (7Ïùº ÏûêÎèô ÌôïÏ†ï)</span><span>Î¶¨Î∑∞ÏûëÏÑ±</span></div>
            </div>
        </div>
        <div class="func-analysis">
            <h4>üìä Î∂ÑÏÑù Í∑ºÍ±∞</h4>
            <p><strong>Î∂ÑÏÑù ÎåÄÏÉÅ:</strong> Ïú†ÏÇ¨ ${industry} ÌîÑÎ°úÏ†ùÌä∏ ${Math.floor(Math.random() * 5) + 5}Í±¥ Î∂ÑÏÑù</p>
        </div>
    `;
}

// Î∞∞ÏÜ° Í∏∞Îä•Ï†ïÏùòÏÑú ÏÉùÏÑ±
function generateDeliverySpec(industry, options) {
    return `
        <div class="func-journey">
            <h4>üìç Î∞∞ÏÜ° ÌîÑÎ°úÏÑ∏Ïä§</h4>
            <div class="journey-flow">
                <div class="journey-step"><span class="step-num">1</span><span class="step-title">Ï£ºÎ¨∏ÌôïÏù∏</span><p>Ï£ºÎ¨∏ Ï†ëÏàò</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step"><span class="step-num">2</span><span class="step-title">ÏÉÅÌíàÏ§ÄÎπÑ</span><p>Ìè¨Ïû• ÏßÑÌñâ</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step"><span class="step-num">3</span><span class="step-title">Ï∂úÍ≥†</span><p>ÌÉùÎ∞∞ÏÇ¨ Ï†ÑÎã¨</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step"><span class="step-num">4</span><span class="step-title">Î∞∞ÏÜ°Ï§ë</span><p>Î∞∞ÏÜ° ÏßÑÌñâ</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step completed"><span class="step-num">5</span><span class="step-title">Î∞∞ÏÜ°ÏôÑÎ£å</span><p>ÏàòÎ†π ÏôÑÎ£å</p></div>
            </div>
        </div>
        <div class="func-section">
            <h4>1. Î∞∞ÏÜ° Ïú†Ìòï</h4>
            <div class="func-table">
                <div class="func-row header"><span>Ïú†Ìòï</span><span>Ï°∞Í±¥</span><span>Î∞∞ÏÜ°ÎπÑ</span></div>
                <div class="func-row"><span>ÏùºÎ∞òÎ∞∞ÏÜ°</span><span>Ï£ºÎ¨∏ ÌõÑ 2~3Ïùº ÎÇ¥ Î∞∞ÏÜ°</span><span>3,000Ïõê (5ÎßåÏõê Ïù¥ÏÉÅ Î¨¥Î£å)</span></div>
                ${options.includes('ÎãπÏùº Î∞∞ÏÜ°') ? `<div class="func-row"><span>ÎãπÏùºÎ∞∞ÏÜ°</span><span>Ïò§Ï†Ñ 11Ïãú Ïù¥Ï†Ñ Ï£ºÎ¨∏ (Í∂åÏó≠ ÎÇ¥)</span><span>5,000Ïõê</span></div>` : ''}
                ${options.includes('ÏÉàÎ≤Ω Î∞∞ÏÜ°') ? `<div class="func-row"><span>ÏÉàÎ≤ΩÎ∞∞ÏÜ°</span><span>Î∞§ 11Ïãú Ïù¥Ï†Ñ Ï£ºÎ¨∏ Ïãú ÏùµÏùº Ïò§Ï†Ñ 7Ïãú Ï†Ñ ÎèÑÏ∞©</span><span>3,000Ïõê</span></div>` : ''}
            </div>
        </div>
        <div class="func-section">
            <h4>2. Î∞∞ÏÜ° Ï°∞Ìöå</h4>
            <ul class="func-list">
                <li><strong>ÌÉùÎ∞∞ÏÇ¨ Ïó∞Îèô:</strong> CJÎåÄÌïúÌÜµÏö¥, Î°ØÎç∞ÌÉùÎ∞∞, ÌïúÏßÑ Îì± Ïã§ÏãúÍ∞Ñ API Ïó∞Îèô</li>
                <li><strong>Î∞∞ÏÜ° ÏïåÎ¶º:</strong> Ï∂úÍ≥†/Î∞∞ÏÜ°Ï§ë/Î∞∞ÏÜ°ÏôÑÎ£å Ïãú Ìë∏Ïãú/SMS ÏïåÎ¶º</li>
                <li><strong>Î∞∞ÏÜ°ÏßÄ Î≥ÄÍ≤Ω:</strong> Ï∂úÍ≥† Ï†Ñ Î∞∞ÏÜ°ÏßÄ Î≥ÄÍ≤Ω Í∞ÄÎä•</li>
            </ul>
        </div>
        <div class="func-analysis">
            <h4>üìä Î∂ÑÏÑù Í∑ºÍ±∞</h4>
            <p><strong>Î∂ÑÏÑù ÎåÄÏÉÅ:</strong> Ïú†ÏÇ¨ ${industry} ÌîÑÎ°úÏ†ùÌä∏ ${Math.floor(Math.random() * 5) + 5}Í±¥ Î∂ÑÏÑù</p>
        </div>
    `;
}

// Î¶¨Î∑∞ Í∏∞Îä•Ï†ïÏùòÏÑú ÏÉùÏÑ±
function generateReviewSpec(industry, options) {
    return `
        <div class="func-journey">
            <h4>üìç Î¶¨Î∑∞ ÏûëÏÑ± Ïó¨Ï†ï</h4>
            <div class="journey-flow">
                <div class="journey-step"><span class="step-num">1</span><span class="step-title">Íµ¨Îß§ÌôïÏ†ï</span><p>ÏÉÅÌíà ÏàòÎ†π ÌôïÏù∏</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step"><span class="step-num">2</span><span class="step-title">Î¶¨Î∑∞ÏûëÏÑ±</span><p>Î≥ÑÏ†ê/ÎÇ¥Ïö© ÏûÖÎ†•</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step"><span class="step-num">3</span><span class="step-title">ÏÇ¨ÏßÑÏ≤®Î∂Ä</span><p>Ìè¨ÌÜ†/ÎèôÏòÅÏÉÅ Îì±Î°ù</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step completed"><span class="step-num">4</span><span class="step-title">Ï†ÅÎ¶ΩÍ∏à</span><p>Î¶¨Î∑∞ Ï†ÅÎ¶ΩÍ∏à ÏßÄÍ∏â</p></div>
            </div>
        </div>
        <div class="func-section">
            <h4>1. Î¶¨Î∑∞ Ïú†ÌòïÎ≥Ñ Ï†ÅÎ¶ΩÍ∏à</h4>
            <div class="func-table">
                <div class="func-row header"><span>Î¶¨Î∑∞ Ïú†Ìòï</span><span>Ï°∞Í±¥</span><span>Ï†ÅÎ¶ΩÍ∏à</span></div>
                <div class="func-row"><span>ÌÖçÏä§Ìä∏ Î¶¨Î∑∞</span><span>20Ïûê Ïù¥ÏÉÅ ÏûëÏÑ±</span><span>100Ïõê</span></div>
                ${options.includes('Ìè¨ÌÜ†/ÎèôÏòÅÏÉÅ Î¶¨Î∑∞') ? `<div class="func-row"><span>Ìè¨ÌÜ† Î¶¨Î∑∞</span><span>ÏÇ¨ÏßÑ 1Ïû• Ïù¥ÏÉÅ + 50Ïûê Ïù¥ÏÉÅ</span><span>500Ïõê</span></div>` : ''}
                ${options.includes('Ìè¨ÌÜ†/ÎèôÏòÅÏÉÅ Î¶¨Î∑∞') ? `<div class="func-row"><span>ÎèôÏòÅÏÉÅ Î¶¨Î∑∞</span><span>10Ï¥à Ïù¥ÏÉÅ ÏòÅÏÉÅ + 50Ïûê Ïù¥ÏÉÅ</span><span>1,000Ïõê</span></div>` : ''}
            </div>
        </div>
        <div class="func-section">
            <h4>2. Î¶¨Î∑∞ Ï†ïÏ±Ö</h4>
            <ul class="func-list">
                <li><strong>ÏûëÏÑ± Í∏∞Ìïú:</strong> Íµ¨Îß§ÌôïÏ†ï ÌõÑ 30Ïùº Ïù¥ÎÇ¥</li>
                <li><strong>ÏàòÏ†ï/ÏÇ≠Ï†ú:</strong> ÏûëÏÑ± ÌõÑ 7Ïùº Ïù¥ÎÇ¥ 1Ìöå ÏàòÏ†ï Í∞ÄÎä•</li>
                <li><strong>Î∂ÄÏ†ÅÏ†à Î¶¨Î∑∞:</strong> ÏöïÏÑ§, Í¥ëÍ≥†, ÌóàÏúÑ Î¶¨Î∑∞ Ïã†Í≥† Î∞è ÏÇ≠Ï†ú</li>
                ${options.includes('Î≤†Ïä§Ìä∏ Î¶¨Î∑∞') ? `<li><strong>Î≤†Ïä§Ìä∏ Î¶¨Î∑∞:</strong> Ï£ºÍ∞Ñ Î≤†Ïä§Ìä∏ ÏÑ†Ï†ï Ïãú Ï∂îÍ∞Ä Ï†ÅÎ¶ΩÍ∏à ÏßÄÍ∏â</li>` : ''}
            </ul>
        </div>
        <div class="func-analysis">
            <h4>üìä Î∂ÑÏÑù Í∑ºÍ±∞</h4>
            <p><strong>Î∂ÑÏÑù ÎåÄÏÉÅ:</strong> Ïú†ÏÇ¨ ${industry} ÌîÑÎ°úÏ†ùÌä∏ ${Math.floor(Math.random() * 5) + 5}Í±¥ Î∂ÑÏÑù<br>
            <strong>Ï†ÑÌôòÏú®:</strong> Ìè¨ÌÜ† Î¶¨Î∑∞ ÏÉÅÌíà Íµ¨Îß§Ï†ÑÌôòÏú® ÌèâÍ∑† 23% ÏÉÅÏäπ</p>
        </div>
    `;
}

// Ìè¨Ïù∏Ìä∏ Í∏∞Îä•Ï†ïÏùòÏÑú ÏÉùÏÑ±
function generatePointSpec(industry, options) {
    return `
        <div class="func-section">
            <h4>1. Ìè¨Ïù∏Ìä∏ Ï†ÅÎ¶Ω Ï†ïÏ±Ö</h4>
            <div class="func-table">
                <div class="func-row header"><span>Ï†ÅÎ¶Ω ÏÇ¨Ïú†</span><span>Ï†ÅÎ¶ΩÎ•†/Í∏àÏï°</span><span>Ï°∞Í±¥</span></div>
                <div class="func-row"><span>Íµ¨Îß§ Ï†ÅÎ¶Ω</span><span>Í≤∞Ï†úÍ∏àÏï°Ïùò 1~3%</span><span>Íµ¨Îß§ÌôïÏ†ï Ïãú ÏûêÎèô Ï†ÅÎ¶Ω</span></div>
                <div class="func-row"><span>Î¶¨Î∑∞ Ï†ÅÎ¶Ω</span><span>100~1,000Ïõê</span><span>Î¶¨Î∑∞ Ïú†ÌòïÎ≥Ñ Ï∞®Îì±</span></div>
                <div class="func-row"><span>Ï∂úÏÑù Ï≤¥ÌÅ¨</span><span>50~500Ïõê</span><span>Îß§Ïùº 1Ìöå, Ïó∞ÏÜç Î≥¥ÎÑàÏä§</span></div>
                <div class="func-row"><span>Ïù¥Î≤§Ìä∏ Ï†ÅÎ¶Ω</span><span>Ïù¥Î≤§Ìä∏Î≥Ñ ÏÉÅÏù¥</span><span>Ïù¥Î≤§Ìä∏ Ï∞∏Ïó¨ Ïãú</span></div>
            </div>
        </div>
        <div class="func-section">
            <h4>2. Ìè¨Ïù∏Ìä∏ ÏÇ¨Ïö© Ï†ïÏ±Ö</h4>
            <ul class="func-list">
                <li><strong>ÏµúÏÜå Î≥¥Ïú†:</strong> 1,000Ïõê Ïù¥ÏÉÅ Î≥¥Ïú† Ïãú ÏÇ¨Ïö© Í∞ÄÎä•</li>
                <li><strong>ÏÇ¨Ïö© Îã®ÏúÑ:</strong> 100Ïõê Îã®ÏúÑÎ°ú ÏÇ¨Ïö©</li>
                <li><strong>ÏµúÎåÄ ÏÇ¨Ïö©:</strong> Í≤∞Ï†úÍ∏àÏï°Ïùò ÏµúÎåÄ 30%ÍπåÏßÄ ÏÇ¨Ïö©</li>
                <li><strong>Ïú†Ìö®Í∏∞Í∞Ñ:</strong> Ï†ÅÎ¶ΩÏùºÎ°úÎ∂ÄÌÑ∞ 1ÎÖÑ, ÏÜåÎ©∏ 30Ïùº Ï†Ñ ÏïåÎ¶º</li>
            </ul>
        </div>
        <div class="func-analysis">
            <h4>üìä Î∂ÑÏÑù Í∑ºÍ±∞</h4>
            <p><strong>Î∂ÑÏÑù ÎåÄÏÉÅ:</strong> Ïú†ÏÇ¨ ${industry} ÌîÑÎ°úÏ†ùÌä∏ ${Math.floor(Math.random() * 5) + 5}Í±¥ Î∂ÑÏÑù</p>
        </div>
    `;
}

// Ïø†Ìè∞ Í∏∞Îä•Ï†ïÏùòÏÑú ÏÉùÏÑ±
function generateCouponSpec(industry, options) {
    return `
        <div class="func-section">
            <h4>1. Ïø†Ìè∞ Ïú†Ìòï</h4>
            <div class="func-table">
                <div class="func-row header"><span>Ïú†Ìòï</span><span>Ìï†Ïù∏ Î∞©Ïãù</span><span>Ï°∞Í±¥</span></div>
                <div class="func-row"><span>Ï†ïÏï° Ìï†Ïù∏</span><span>3,000Ïõê, 5,000Ïõê, 10,000Ïõê Îì±</span><span>ÏµúÏÜå Ï£ºÎ¨∏Í∏àÏï° Ï°∞Í±¥</span></div>
                <div class="func-row"><span>Ï†ïÎ•† Ìï†Ïù∏</span><span>5%, 10%, 15%, 20% Îì±</span><span>ÏµúÎåÄ Ìï†Ïù∏Í∏àÏï° Ï†úÌïú</span></div>
                <div class="func-row"><span>Î¨¥Î£åÎ∞∞ÏÜ°</span><span>Î∞∞ÏÜ°ÎπÑ 0Ïõê</span><span>ÏùºÎ∞òÎ∞∞ÏÜ°ÏóêÎßå Ï†ÅÏö©</span></div>
                <div class="func-row"><span>ÌíàÎ™© Ïø†Ìè∞</span><span>ÌäπÏ†ï Ïπ¥ÌÖåÍ≥†Î¶¨/ÏÉÅÌíà Ï†ÑÏö©</span><span>Ï†ÅÏö© ÏÉÅÌíà Ï†úÌïú</span></div>
            </div>
        </div>
        <div class="func-section">
            <h4>2. Ïø†Ìè∞ Î∞úÍ∏â Î∞©Ïãù</h4>
            <ul class="func-list">
                <li><strong>ÏûêÎèô Î∞úÍ∏â:</strong> ÌöåÏõêÍ∞ÄÏûÖ, ÏÉùÏùº, Ìú¥Î©¥ Î≥µÍ∑Ä Ïãú ÏûêÎèô Î∞úÍ∏â</li>
                <li><strong>ÏàòÎèô Î∞úÍ∏â:</strong> Ïù¥Î≤§Ìä∏ ÌéòÏù¥ÏßÄÏóêÏÑú Îã§Ïö¥Î°úÎìú</li>
                <li><strong>ÏΩîÎìú Î∞úÍ∏â:</strong> Ïø†Ìè∞ ÏΩîÎìú ÏûÖÎ†•ÌïòÏó¨ Îì±Î°ù</li>
            </ul>
        </div>
        <div class="func-analysis">
            <h4>üìä Î∂ÑÏÑù Í∑ºÍ±∞</h4>
            <p><strong>Î∂ÑÏÑù ÎåÄÏÉÅ:</strong> Ïú†ÏÇ¨ ${industry} ÌîÑÎ°úÏ†ùÌä∏ ${Math.floor(Math.random() * 5) + 5}Í±¥ Î∂ÑÏÑù</p>
        </div>
    `;
}

// ÏòàÏïΩ Í∏∞Îä•Ï†ïÏùòÏÑú ÏÉùÏÑ±
function generateBookingSpec(industry, options) {
    return `
        <div class="func-journey">
            <h4>üìç ÏòàÏïΩ ÌîÑÎ°úÏÑ∏Ïä§</h4>
            <div class="journey-flow">
                <div class="journey-step"><span class="step-num">1</span><span class="step-title">ÎÇ†ÏßúÏÑ†ÌÉù</span><p>Ìù¨Îßù ÎÇ†Ïßú ÏÑ†ÌÉù</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step"><span class="step-num">2</span><span class="step-title">ÏãúÍ∞ÑÏÑ†ÌÉù</span><p>Í∞ÄÎä• ÏãúÍ∞ÑÎåÄ ÏÑ†ÌÉù</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step"><span class="step-num">3</span><span class="step-title">Ï†ïÎ≥¥ÏûÖÎ†•</span><p>ÏòàÏïΩÏûê Ï†ïÎ≥¥ ÏûÖÎ†•</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step"><span class="step-num">4</span><span class="step-title">Í≤∞Ï†ú</span><p>ÏòàÏïΩÍ∏à/Ï†ÑÏï° Í≤∞Ï†ú</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step completed"><span class="step-num">5</span><span class="step-title">ÏòàÏïΩÌôïÏ†ï</span><p>ÏòàÏïΩ ÏôÑÎ£å ÏïåÎ¶º</p></div>
            </div>
        </div>
        <div class="func-section">
            <h4>1. ÏòàÏïΩ Í∏∞Îä•</h4>
            <div class="func-table">
                <div class="func-row header"><span>Í∏∞Îä•</span><span>ÏÉÅÏÑ∏ ÎÇ¥Ïö©</span><span>ÌïÑÏàòÏó¨Î∂Ä</span></div>
                <div class="func-row"><span>Ï∫òÎ¶∞Îçî Î∑∞</span><span>ÏõîÎ≥Ñ Ï∫òÎ¶∞ÎçîÏóêÏÑú ÏòàÏïΩ Í∞ÄÎä•Ïùº ÌëúÏãú</span><span class="required">ÌïÑÏàò</span></div>
                <div class="func-row"><span>ÏãúÍ∞ÑÎåÄ ÏÑ†ÌÉù</span><span>30Î∂Ñ/1ÏãúÍ∞Ñ Îã®ÏúÑ ÏãúÍ∞Ñ Ïä¨Î°Ø</span><span class="required">ÌïÑÏàò</span></div>
                ${options.includes('Ïù∏Ïõê ÏÑ†ÌÉù') ? `<div class="func-row"><span>Ïù∏Ïõê ÏÑ†ÌÉù</span><span>ÏòàÏïΩ Ïù∏ÏõêÏàò ÏÑ†ÌÉù</span><span class="required">ÌïÑÏàò</span></div>` : ''}
                ${options.includes('ÎåÄÍ∏∞ ÏòàÏïΩ') ? `<div class="func-row"><span>ÎåÄÍ∏∞ ÏòàÏïΩ</span><span>ÎßàÍ∞ê Ïãú ÎåÄÍ∏∞ Îì±Î°ù, Ï∑®ÏÜå Ïãú ÏïåÎ¶º</span><span class="optional">ÏÑ†ÌÉù</span></div>` : ''}
            </div>
        </div>
        <div class="func-section">
            <h4>2. Ï∑®ÏÜå/ÌôòÎ∂à Ï†ïÏ±Ö</h4>
            <ul class="func-list">
                <li><strong>7Ïùº Ï†Ñ:</strong> 100% ÌôòÎ∂à</li>
                <li><strong>3~6Ïùº Ï†Ñ:</strong> 50% ÌôòÎ∂à</li>
                <li><strong>2Ïùº Ï†Ñ~ÎãπÏùº:</strong> ÌôòÎ∂à Î∂àÍ∞Ä</li>
                ${options.includes('ÎÖ∏Ïáº Ï†ïÏ±Ö') ? `<li><strong>ÎÖ∏Ïáº:</strong> 3Ìöå ÎÖ∏Ïáº Ïãú 30ÏùºÍ∞Ñ ÏòàÏïΩ Ï†úÌïú</li>` : ''}
            </ul>
        </div>
        <div class="func-analysis">
            <h4>üìä Î∂ÑÏÑù Í∑ºÍ±∞</h4>
            <p><strong>Î∂ÑÏÑù ÎåÄÏÉÅ:</strong> Ïú†ÏÇ¨ ${industry} ÌîÑÎ°úÏ†ùÌä∏ ${Math.floor(Math.random() * 5) + 5}Í±¥ Î∂ÑÏÑù</p>
        </div>
    `;
}

// Ï†ïÍ∏∞Íµ¨ÎèÖ Í∏∞Îä•Ï†ïÏùòÏÑú ÏÉùÏÑ±
function generateSubscriptionSpec(industry, options) {
    return `
        <div class="func-journey">
            <h4>üìç Íµ¨ÎèÖ Ïó¨Ï†ï</h4>
            <div class="journey-flow">
                <div class="journey-step"><span class="step-num">1</span><span class="step-title">ÏÉÅÌíàÏÑ†ÌÉù</span><p>Íµ¨ÎèÖ ÏÉÅÌíà ÏÑ†ÌÉù</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step"><span class="step-num">2</span><span class="step-title">Ï£ºÍ∏∞ÏÑ§Ï†ï</span><p>Î∞∞ÏÜ° Ï£ºÍ∏∞ ÏÑ†ÌÉù</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step"><span class="step-num">3</span><span class="step-title">Í≤∞Ï†úÎì±Î°ù</span><p>Ï†ïÍ∏∞Í≤∞Ï†ú ÏàòÎã® Îì±Î°ù</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step"><span class="step-num">4</span><span class="step-title">Íµ¨ÎèÖÏãúÏûë</span><p>Ï≤´ Î∞∞ÏÜ° ÏßÑÌñâ</p></div>
                <div class="journey-arrow">‚Üí</div>
                <div class="journey-step completed"><span class="step-num">5</span><span class="step-title">Ï†ïÍ∏∞Î∞∞ÏÜ°</span><p>Ï£ºÍ∏∞Î≥Ñ ÏûêÎèô Î∞∞ÏÜ°</p></div>
            </div>
        </div>
        <div class="func-section">
            <h4>1. Íµ¨ÎèÖ Í¥ÄÎ¶¨ Í∏∞Îä•</h4>
            <div class="func-table">
                <div class="func-row header"><span>Í∏∞Îä•</span><span>ÏÉÅÏÑ∏ ÎÇ¥Ïö©</span><span>ÌïÑÏàòÏó¨Î∂Ä</span></div>
                <div class="func-row"><span>Î∞∞ÏÜ° Ï£ºÍ∏∞</span><span>1Ï£º/2Ï£º/3Ï£º/4Ï£º/6Ï£º/8Ï£º ÏÑ†ÌÉù</span><span class="required">ÌïÑÏàò</span></div>
                ${options.includes('Íµ¨ÎèÖ ÏùºÏãúÏ†ïÏßÄ') ? `<div class="func-row"><span>ÏùºÏãúÏ†ïÏßÄ</span><span>ÏµúÎåÄ 2Í∞úÏõîÍπåÏßÄ ÏùºÏãúÏ†ïÏßÄ</span><span class="optional">ÏÑ†ÌÉù</span></div>` : ''}
                ${options.includes('Íµ¨ÎèÖ ÏÉÅÌíà Î≥ÄÍ≤Ω') ? `<div class="func-row"><span>ÏÉÅÌíà Î≥ÄÍ≤Ω</span><span>Îã§Ïùå ÌöåÏ∞®Î∂ÄÌÑ∞ ÏÉÅÌíà/ÏàòÎüâ Î≥ÄÍ≤Ω</span><span class="optional">ÏÑ†ÌÉù</span></div>` : ''}
                ${options.includes('Îã§Ïùå Î∞∞ÏÜ°Ïùº Î≥ÄÍ≤Ω') ? `<div class="func-row"><span>Î∞∞ÏÜ°Ïùº Î≥ÄÍ≤Ω</span><span>Îã§Ïùå Î∞∞ÏÜ°Ïùº ÏïûÎãπÍ∏∞Í∏∞/ÎØ∏Î£®Í∏∞</span><span class="optional">ÏÑ†ÌÉù</span></div>` : ''}
            </div>
        </div>
        <div class="func-section">
            <h4>2. Íµ¨ÎèÖ ÌòúÌÉù</h4>
            <ul class="func-list">
                <li><strong>Ìï†Ïù∏:</strong> Ï†ïÍ∏∞Íµ¨ÎèÖ ÏÉÅÌíà 5~15% Ìï†Ïù∏</li>
                <li><strong>Î∞∞ÏÜ°ÎπÑ:</strong> Íµ¨ÎèÖ ÏÉÅÌíà Î∞∞ÏÜ°ÎπÑ Î¨¥Î£å</li>
                <li><strong>Ï†ÅÎ¶Ω:</strong> Íµ¨ÎèÖ ÌöåÏ∞®Î≥Ñ Ï∂îÍ∞Ä Ï†ÅÎ¶ΩÍ∏à ÏßÄÍ∏â</li>
            </ul>
        </div>
        <div class="func-analysis">
            <h4>üìä Î∂ÑÏÑù Í∑ºÍ±∞</h4>
            <p><strong>Î∂ÑÏÑù ÎåÄÏÉÅ:</strong> Ïú†ÏÇ¨ ${industry} ÌîÑÎ°úÏ†ùÌä∏ ${Math.floor(Math.random() * 5) + 5}Í±¥ Î∂ÑÏÑù<br>
            <strong>Íµ¨ÎèÖ Ïú†ÏßÄÏú®:</strong> ÌèâÍ∑† 6Í∞úÏõî Ïù¥ÏÉÅ Ïú†ÏßÄÏú® 65%</p>
        </div>
    `;
}

// ÎßàÏù¥ÌéòÏù¥ÏßÄ Í∏∞Îä•Ï†ïÏùòÏÑú ÏÉùÏÑ±
function generateMypageSpec(industry, options) {
    return `
        <div class="func-section">
            <h4>1. ÎßàÏù¥ÌéòÏù¥ÏßÄ Î©îÎâ¥ Íµ¨ÏÑ±</h4>
            <div class="func-table">
                <div class="func-row header"><span>Î©îÎâ¥</span><span>Í∏∞Îä•</span><span>ÌïÑÏàòÏó¨Î∂Ä</span></div>
                ${options.includes('Ï£ºÎ¨∏ÎÇ¥Ïó≠') ? `<div class="func-row"><span>Ï£ºÎ¨∏ÎÇ¥Ïó≠</span><span>Ï£ºÎ¨∏ Î™©Î°ù, ÏÉÅÏÑ∏, Î∞∞ÏÜ°Ï°∞Ìöå, Ï∑®ÏÜå/Î∞òÌíà</span><span class="required">ÌïÑÏàò</span></div>` : ''}
                ${options.includes('ÏúÑÏãúÎ¶¨Ïä§Ìä∏') ? `<div class="func-row"><span>ÏúÑÏãúÎ¶¨Ïä§Ìä∏</span><span>Ï∞úÌïú ÏÉÅÌíà Î™©Î°ù, Ïû•Î∞îÍµ¨Îãà Îã¥Í∏∞</span><span class="optional">ÏÑ†ÌÉù</span></div>` : ''}
                ${options.includes('Ïø†Ìè∞Ìï®') ? `<div class="func-row"><span>Ïø†Ìè∞Ìï®</span><span>Î≥¥Ïú† Ïø†Ìè∞, ÏÇ¨Ïö© ÎÇ¥Ïó≠, Îã§Ïö¥Î°úÎìú</span><span class="optional">ÏÑ†ÌÉù</span></div>` : ''}
                ${options.includes('Ï†ÅÎ¶ΩÍ∏à') ? `<div class="func-row"><span>Ï†ÅÎ¶ΩÍ∏à</span><span>Î≥¥Ïú† Ï†ÅÎ¶ΩÍ∏à, Ï†ÅÎ¶Ω/ÏÇ¨Ïö© ÎÇ¥Ïó≠</span><span class="optional">ÏÑ†ÌÉù</span></div>` : ''}
                ${options.includes('ÌöåÏõêÏ†ïÎ≥¥ ÏàòÏ†ï') ? `<div class="func-row"><span>ÌöåÏõêÏ†ïÎ≥¥ ÏàòÏ†ï</span><span>Í∏∞Î≥∏Ï†ïÎ≥¥, ÎπÑÎ∞ÄÎ≤àÌò∏ Î≥ÄÍ≤Ω</span><span class="required">ÌïÑÏàò</span></div>` : ''}
                ${options.includes('Î∞∞ÏÜ°ÏßÄ Í¥ÄÎ¶¨') ? `<div class="func-row"><span>Î∞∞ÏÜ°ÏßÄ Í¥ÄÎ¶¨</span><span>Î∞∞ÏÜ°ÏßÄ Ï∂îÍ∞Ä/ÏàòÏ†ï/ÏÇ≠Ï†ú, Í∏∞Î≥∏ Î∞∞ÏÜ°ÏßÄ</span><span class="optional">ÏÑ†ÌÉù</span></div>` : ''}
            </div>
        </div>
        <div class="func-section">
            <h4>2. ÌöåÏõê Îì±Í∏â Ï†ïÎ≥¥</h4>
            <ul class="func-list">
                <li><strong>Îì±Í∏â ÌëúÏãú:</strong> ÌòÑÏû¨ Îì±Í∏â, Îã§Ïùå Îì±Í∏âÍπåÏßÄ ÎÇ®ÏùÄ Í∏àÏï°</li>
                <li><strong>Îì±Í∏â ÌòúÌÉù:</strong> Îì±Í∏âÎ≥Ñ Ìï†Ïù∏Ïú®, Ï†ÅÎ¶ΩÎ•†, Ïø†Ìè∞ ÏïàÎÇ¥</li>
                <li><strong>Íµ¨Îß§ ÌòÑÌô©:</strong> ÎãπÏõî/Ïó∞Í∞Ñ Íµ¨Îß§Í∏àÏï° ÌëúÏãú</li>
            </ul>
        </div>
        <div class="func-analysis">
            <h4>üìä Î∂ÑÏÑù Í∑ºÍ±∞</h4>
            <p><strong>Î∂ÑÏÑù ÎåÄÏÉÅ:</strong> Ïú†ÏÇ¨ ${industry} ÌîÑÎ°úÏ†ùÌä∏ ${Math.floor(Math.random() * 5) + 5}Í±¥ Î∂ÑÏÑù</p>
        </div>
    `;
}

// ============================================
// Visual Search
// ============================================

function initVisualSearch() {
    const searchInput = document.getElementById('visualSearchInput');
    const searchBtn = document.getElementById('visualSearchBtn');
    const visualTags = document.querySelectorAll('.visual-tag');
    
    let selectedTags = [];
    
    visualTags.forEach(tag => {
        tag.addEventListener('click', () => {
            tag.classList.toggle('active');
            const tagText = tag.getAttribute('data-tag');
            
            if (tag.classList.contains('active')) {
                selectedTags.push(tagText);
            } else {
                selectedTags = selectedTags.filter(t => t !== tagText);
            }
            
            // Update search input
            if (searchInput) {
                searchInput.value = selectedTags.join(' + ');
            }
        });
    });
    
    searchBtn?.addEventListener('click', () => {
        performVisualSearch(searchInput?.value || selectedTags.join(' '));
    });
}

function performVisualSearch(query) {
    const visualGrid = document.querySelector('.visual-grid');
    if (!visualGrid) return;
    
    // Animate grid items
    const items = visualGrid.querySelectorAll('.visual-item');
    items.forEach((item, index) => {
        item.style.opacity = '0';
        item.style.transform = 'scale(0.9)';
        
        setTimeout(() => {
            item.style.transition = 'all 0.4s ease';
            item.style.opacity = '1';
            item.style.transform = 'scale(1)';
        }, index * 100);
    });
}

// ============================================
// Tech Stack Form
// ============================================

function initTechStackForm() {
    const form = document.getElementById('techstackForm');
    const resultCard = document.querySelector('.techstack-result-card');
    const platformSelect = document.getElementById('techPlatform');
    
    form?.addEventListener('submit', (e) => {
        e.preventDefault();
        
        if (resultCard) {
            resultCard.style.animation = 'none';
            resultCard.offsetHeight;
            resultCard.style.animation = 'fadeIn 0.5s ease';
            
            // Update compatibility based on selection
            updateCompatibilityResult();
        }
    });
    
    // Listen for platform changes
    platformSelect?.addEventListener('change', () => {
        updateCompatibilityResult();
    });
}

function updateCompatibilityResult() {
    const platform = document.getElementById('techPlatform')?.value;
    const frontend = document.querySelector('input[name="frontend"]:checked')?.value;
    const alert = document.querySelector('.compatibility-alert');
    
    if (!alert) return;
    
    // Simple compatibility check
    const incompatible = (platform === 'cafe24' && frontend === 'react');
    
    if (incompatible) {
        alert.classList.remove('success');
        alert.classList.add('warning');
        alert.innerHTML = `
            <div class="alert-icon">‚ö†Ô∏è</div>
            <div class="alert-content">
                <h4>Ìò∏ÌôòÏÑ± Í≤ΩÍ≥†</h4>
                <p>Cafe24Îäî PHP Í∏∞Î∞ò ÌîåÎû´ÌèºÏûÖÎãàÎã§. React ÏßÅÏ†ë Ïó∞ÎèôÏóê Ïñ¥Î†§ÏõÄÏù¥ ÏûàÏùÑ Ïàò ÏûàÏäµÎãàÎã§.</p>
            </div>
        `;
    } else {
        alert.classList.remove('warning');
        alert.classList.add('success');
        alert.innerHTML = `
            <div class="alert-icon">‚úÖ</div>
            <div class="alert-content">
                <h4>Ìò∏ÌôòÏÑ± ÌôïÏù∏ ÏôÑÎ£å</h4>
                <p>ÏÑ†ÌÉùÌïòÏã† Í∏∞Ïà† Ïä§ÌÉùÏùÄ ÌîåÎû´ÌèºÍ≥º Ìò∏ÌôòÎê©ÎãàÎã§.</p>
            </div>
        `;
    }
}

// ============================================
// WBS Form
// ============================================

function initWBSForm() {
    const form = document.getElementById('wbsForm');
    const resultCard = document.querySelector('.wbs-result-card');
    const projectTypeSelect = document.getElementById('wbsProjectType');
    const platformSelect = document.getElementById('wbsPlatform');
    const scaleSelect = document.getElementById('wbsScale');
    const featuresContainer = document.getElementById('wbsFeatures');

    // ÌîÑÎ°úÏ†ùÌä∏ Ïú†ÌòïÎ≥Ñ Ï£ºÏöî Í∏∞Îä•
    const projectTypeFeatures = {
        // ÏõπÏÇ¨Ïù¥Ìä∏
        commerce: ['ÌöåÏõê Í∏∞Îä•', 'Ïû•Î∞îÍµ¨Îãà', 'Í≤∞Ï†ú Í∏∞Îä•', 'Î∞∞ÏÜ° Í∏∞Îä•', 'ÏÉÅÌíà Í¥ÄÎ¶¨', 'Ïû¨Í≥† Í¥ÄÎ¶¨', 'Î¶¨Î∑∞/ÌõÑÍ∏∞', 'Ïø†Ìè∞/Ï†ÅÎ¶ΩÍ∏à', 'Î∞òÏùëÌòï', 'Í¥ÄÎ¶¨Ïûê ÌéòÏù¥ÏßÄ'],
        brand: ['Î©îÏù∏ ÎπÑÏ£ºÏñº', 'Î∏åÎûúÎìú Ïä§ÌÜ†Î¶¨', 'Ï†úÌíà ÏÜåÍ∞ú', 'Îß§Ïû• Ï∞æÍ∏∞', 'Îâ¥Ïä§/PR', 'Ï±ÑÏö© Ï†ïÎ≥¥', 'Î∞òÏùëÌòï', 'Îã§Íµ≠Ïñ¥', 'Î™®ÏÖò/Ïù∏ÌÑ∞ÎûôÏÖò', 'SNS Ïó∞Îèô'],
        corporate: ['ÌöåÏÇ¨ ÏÜåÍ∞ú', 'ÏÇ¨ÏóÖ ÏòÅÏó≠', 'Ïó∞ÌòÅ', 'Ï°∞ÏßÅÎèÑ', 'Îâ¥Ïä§/Í≥µÏßÄ', 'Ï±ÑÏö©', 'Î¨∏ÏùòÌïòÍ∏∞', 'Î∞òÏùëÌòï', 'Í¥ÄÎ¶¨Ïûê ÌéòÏù¥ÏßÄ', 'SEO ÏµúÏ†ÅÌôî'],
        landing: ['Î©îÏù∏ ÎπÑÏ£ºÏñº', 'Ï†úÌíà/ÏÑúÎπÑÏä§ ÏÜåÍ∞ú', 'CTA Î≤ÑÌäº', 'Î¨∏Ïùò Ìèº', 'Î∞òÏùëÌòï', 'Ïï†ÎãàÎ©îÏù¥ÏÖò', 'A/B ÌÖåÏä§Ìä∏', 'Ï†ÑÌôò Ï∂îÏ†Å', 'SNS Í≥µÏú†'],
        portal: ['ÌöåÏõê Í∏∞Îä•', 'Í≤åÏãúÌåê', 'Í≤ÄÏÉâ', 'Ïπ¥ÌÖåÍ≥†Î¶¨', 'ÎåìÍ∏Ä/Ï¢ãÏïÑÏöî', 'ÏïåÎ¶º', 'Î∞òÏùëÌòï', 'Í¥ÄÎ¶¨Ïûê ÌéòÏù¥ÏßÄ', 'SEO ÏµúÏ†ÅÌôî', 'ÌÜµÍ≥Ñ'],
        media: ['ÏΩòÌÖêÏ∏† Í¥ÄÎ¶¨', 'Ïπ¥ÌÖåÍ≥†Î¶¨', 'Í≤ÄÏÉâ', 'Íµ¨ÎèÖ/Îâ¥Ïä§Î†àÌÑ∞', 'Í≥µÏú† Í∏∞Îä•', 'Î∞òÏùëÌòï', 'SEO ÏµúÏ†ÅÌôî', 'Í¥ëÍ≥† ÏòÅÏó≠', 'Í¥ÄÎ¶¨Ïûê ÌéòÏù¥ÏßÄ'],
        promotion: ['Î©îÏù∏ ÎπÑÏ£ºÏñº', 'Ïù¥Î≤§Ìä∏ Ï∞∏Ïó¨', 'ÎãπÏ≤®Ïûê Î∞úÌëú', 'Í≥µÏú† Í∏∞Îä•', 'Î∞òÏùëÌòï', 'Ïï†ÎãàÎ©îÏù¥ÏÖò', 'Ïπ¥Ïö¥Ìä∏Îã§Ïö¥', 'Î™®Î∞îÏùº ÏµúÏ†ÅÌôî'],
        // ÌîåÎû´Ìèº/ÏÑúÎπÑÏä§
        booking: ['ÌöåÏõê Í∏∞Îä•', 'ÏòàÏïΩ ÏãúÏä§ÌÖú', 'Ï∫òÎ¶∞Îçî', 'Í≤∞Ï†ú Í∏∞Îä•', 'ÏïåÎ¶º/Ìë∏Ïãú', 'Í¥ÄÎ¶¨Ïûê ÌéòÏù¥ÏßÄ', 'Î¶¨Î∑∞', 'Î∞òÏùëÌòï', 'ÎåÄÏãúÎ≥¥Îìú', 'ÌÜµÍ≥Ñ'],
        membership: ['ÌöåÏõê Í∏∞Îä•', 'Îì±Í∏â ÏãúÏä§ÌÖú', 'Ìè¨Ïù∏Ìä∏', 'Ïø†Ìè∞', 'Í≤∞Ï†ú/Íµ¨ÎèÖ', 'ÎßàÏù¥ÌéòÏù¥ÏßÄ', 'ÏïåÎ¶º', 'Î∞òÏùëÌòï', 'Í¥ÄÎ¶¨Ïûê ÌéòÏù¥ÏßÄ', 'ÌÜµÍ≥Ñ'],
        saas: ['ÌöåÏõê Í∏∞Îä•', 'ÎåÄÏãúÎ≥¥Îìú', 'ÏöîÍ∏àÏ†ú/Í≤∞Ï†ú', 'API Ïó∞Îèô', 'ÌåÄ/Í∂åÌïú Í¥ÄÎ¶¨', 'ÏïåÎ¶º', 'ÌÜµÍ≥Ñ/Î¶¨Ìè¨Ìä∏', 'Î∞òÏùëÌòï', 'Ïò®Î≥¥Îî©', 'Í≥†Í∞ùÏßÄÏõê'],
        b2b: ['ÌöåÏõê Í∏∞Îä•', 'Í≤¨Ï†Å ÏãúÏä§ÌÖú', 'Ï£ºÎ¨∏ Í¥ÄÎ¶¨', 'Í≤∞Ï†ú', 'Ïû¨Í≥† Í¥ÄÎ¶¨', 'Í±∞ÎûòÏ≤ò Í¥ÄÎ¶¨', 'Ï†ïÏÇ∞', 'Í¥ÄÎ¶¨Ïûê ÌéòÏù¥ÏßÄ', 'ÌÜµÍ≥Ñ', 'ÏóëÏÖÄ Ïó∞Îèô'],
        marketplace: ['ÌöåÏõê Í∏∞Îä•', 'ÌåêÎß§Ïûê Í¥ÄÎ¶¨', 'ÏÉÅÌíà Í¥ÄÎ¶¨', 'Í≤∞Ï†ú/Ï†ïÏÇ∞', 'Î∞∞ÏÜ°', 'Î¶¨Î∑∞', 'Í≤ÄÏÉâ/ÌïÑÌÑ∞', 'Í¥ÄÎ¶¨Ïûê ÌéòÏù¥ÏßÄ', 'ÌÜµÍ≥Ñ', 'ÏïåÎ¶º'],
        ott: ['ÌöåÏõê Í∏∞Îä•', 'ÏΩòÌÖêÏ∏† Í¥ÄÎ¶¨', 'Ïä§Ìä∏Î¶¨Î∞ç', 'Íµ¨ÎèÖ Í≤∞Ï†ú', 'Ï∂îÏ≤ú ÏãúÏä§ÌÖú', 'Í≤ÄÏÉâ', 'Ï∞ú/Ïû¨ÏÉùÎ™©Î°ù', 'Î∞òÏùëÌòï', 'Îã§Ïö¥Î°úÎìú', 'ÌîÑÎ°úÌïÑ Í¥ÄÎ¶¨'],
        lms: ['ÌöåÏõê Í∏∞Îä•', 'Í∞ïÏ¢å Í¥ÄÎ¶¨', 'ÎèôÏòÅÏÉÅ ÌîåÎ†àÏù¥Ïñ¥', 'ÏßÑÎèÑ Í¥ÄÎ¶¨', 'Í≥ºÏ†ú/ÌÄ¥Ï¶à', 'ÏàòÎ£åÏ¶ù', 'Í≤∞Ï†ú', 'ÎåÄÏãúÎ≥¥Îìú', 'ÌÜµÍ≥Ñ', 'Í¥ÄÎ¶¨Ïûê ÌéòÏù¥ÏßÄ'],
        // Ïï±/Î™®Î∞îÏùº
        webapp: ['ÌöåÏõê Í∏∞Îä•', 'PWA ÏÑ§Ï†ï', 'Ïò§ÌîÑÎùºÏù∏ ÏßÄÏõê', 'Ìë∏Ïãú ÏïåÎ¶º', 'ÌôàÌôîÎ©¥ Ï∂îÍ∞Ä', 'Î∞òÏùëÌòï', 'ÌÑ∞Ïπò ÏµúÏ†ÅÌôî', 'Ï∫êÏãú Í¥ÄÎ¶¨'],
        hybrid: ['ÌöåÏõê Í∏∞Îä•', 'ÎÑ§Ïù¥Ìã∞Î∏å Ïó∞Îèô', 'Ìë∏Ïãú ÏïåÎ¶º', 'Ïπ¥Î©îÎùº/Í∞§Îü¨Î¶¨', 'ÏúÑÏπò ÏÑúÎπÑÏä§', 'Ïä§ÌÜ†Ïñ¥ Î∞∞Ìè¨', 'Îî•ÎßÅÌÅ¨', 'Ïï± ÏóÖÎç∞Ïù¥Ìä∏'],
        native: ['ÌöåÏõê Í∏∞Îä•', 'UI/UX ÏÑ§Í≥Ñ', 'ÎÑ§Ïù¥Ìã∞Î∏å Í∞úÎ∞ú', 'Ìë∏Ïãú ÏïåÎ¶º', 'ÏúÑÏπò ÏÑúÎπÑÏä§', 'API Ïó∞Îèô', 'Ïä§ÌÜ†Ïñ¥ Î∞∞Ìè¨', 'Ïù∏Ïï± Í≤∞Ï†ú', 'Ïï± Î∂ÑÏÑù'],
        // Í≥µÍ≥µ/ÌäπÏàò
        public: ['Ï†ëÍ∑ºÏÑ±(WCAG)', 'Î≥¥Ïïà Ïù∏Ï¶ù', 'Ï†ÑÏûêÏ†ïÎ∂Ä ÌîÑÎ†àÏûÑÏõåÌÅ¨', 'ÌöåÏõê Í∏∞Îä•', 'ÎØºÏõê ÏãúÏä§ÌÖú', 'Í≤åÏãúÌåê', 'Í≤ÄÏÉâ', 'Í¥ÄÎ¶¨Ïûê ÌéòÏù¥ÏßÄ', 'ÌÜµÍ≥Ñ', 'Îã§Íµ≠Ïñ¥'],
        intranet: ['ÌöåÏõê/Í∂åÌïú Í¥ÄÎ¶¨', 'Ï†ÑÏûêÍ≤∞Ïû¨', 'Í≤åÏãúÌåê', 'ÏùºÏ†ï Í¥ÄÎ¶¨', 'Ï°∞ÏßÅÎèÑ', 'Î©îÏã†Ï†Ä', 'ÌååÏùº Í≥µÏú†', 'Í≤ÄÏÉâ', 'ÌÜµÍ≥Ñ', 'SSO Ïó∞Îèô'],
        erp: ['ÌöåÏõê/Í∂åÌïú Í¥ÄÎ¶¨', 'ÎåÄÏãúÎ≥¥Îìú', 'Î™®Îìà Ïó∞Îèô', 'Îç∞Ïù¥ÌÑ∞ ÎßàÏù¥Í∑∏Î†àÏù¥ÏÖò', 'Î¶¨Ìè¨Ìä∏', 'ÏóëÏÖÄ Ïó∞Îèô', 'API Í∞úÎ∞ú', 'ÌÜµÍ≥Ñ', 'Î∞±ÏóÖ/Î≥µÍµ¨', 'ÍµêÏú°']
    };

    // ÌîÑÎ°úÏ†ùÌä∏ Ïú†ÌòïÎ™Ö
    const projectTypeNames = {
        commerce: 'ÏáºÌïëÎ™∞/Ïª§Î®∏Ïä§', brand: 'Î∏åÎûúÎìú ÏÇ¨Ïù¥Ìä∏', corporate: 'Í∏∞ÏóÖ ÌôàÌéòÏù¥ÏßÄ',
        landing: 'ÎûúÎî© ÌéòÏù¥ÏßÄ', portal: 'Ìè¨ÌÑ∏/Ïª§ÎÆ§ÎãàÌã∞', media: 'ÎØ∏ÎîîÏñ¥/Îß§Í±∞ÏßÑ',
        promotion: 'ÌîÑÎ°úÎ™®ÏÖò/Ïù¥Î≤§Ìä∏', booking: 'ÏòàÏïΩ ÌîåÎû´Ìèº', membership: 'Î©§Î≤ÑÏã≠/Íµ¨ÎèÖ',
        saas: 'SaaS/ÏõπÏÑúÎπÑÏä§', b2b: 'B2B ÌîåÎû´Ìèº', marketplace: 'ÎßàÏºìÌîåÎ†àÏù¥Ïä§',
        ott: 'OTT/Ïä§Ìä∏Î¶¨Î∞ç', lms: 'LMS/ÍµêÏú°', webapp: 'ÏõπÏï±(PWA)',
        hybrid: 'ÌïòÏù¥Î∏åÎ¶¨Îìú Ïï±', native: 'ÎÑ§Ïù¥Ìã∞Î∏å Ïï±', public: 'Í≥µÍ≥µÍ∏∞Í¥Ä',
        intranet: 'Ïù∏Ìä∏ÎùºÎÑ∑', erp: 'ERP/Í¥ÄÎ¶¨ÏãúÏä§ÌÖú'
    };

    // Í∑úÎ™®Î≥Ñ Í∏∞Í∞Ñ Î∞∞Ïàò
    const scaleMultiplier = {
        small: 0.5,
        medium: 1,
        large: 2,
        enterprise: 3
    };

    // ÌîÑÎ°úÏ†ùÌä∏ Ïú†Ìòï Î≥ÄÍ≤Ω Ïãú Ï£ºÏöî Í∏∞Îä• ÏóÖÎç∞Ïù¥Ìä∏
    projectTypeSelect?.addEventListener('change', () => {
        const projectType = projectTypeSelect.value;
        const features = projectTypeFeatures[projectType] || projectTypeFeatures['commerce'];
        
        if (featuresContainer) {
            featuresContainer.innerHTML = features.map((feature, index) => `
                <label class="checkbox-item">
                    <input type="checkbox" name="wbs_feature" value="${feature}" ${index < 5 ? 'checked' : ''}>
                    <span class="checkmark"></span>
                    <span>${feature}</span>
                </label>
            `).join('');
        }
    });
    
    form?.addEventListener('submit', (e) => {
        e.preventDefault();
        
        const projectType = projectTypeSelect?.value || 'commerce';
        const platform = platformSelect?.value || 'custom';
        const scale = scaleSelect?.value || 'medium';
        const selectedFeatures = Array.from(document.querySelectorAll('input[name="wbs_feature"]:checked')).map(cb => cb.value);
        
        // Í∏∞Í∞Ñ Í≥ÑÏÇ∞ (Í∏∞Îä• ÏàòÏóê Îî∞Îùº ÎèôÏ†Å Í≥ÑÏÇ∞)
        const baseWeeks = {
            small: 2, medium: 8, large: 14, enterprise: 24
        };
        const totalWeeks = Math.round(baseWeeks[scale] * (1 + selectedFeatures.length * 0.05));
        
        // WBS ÌÉÄÏù¥ÌãÄ ÏóÖÎç∞Ïù¥Ìä∏
        const titleEl = resultCard?.querySelector('.card-title');
        if (titleEl) {
            titleEl.innerHTML = `<span class="ai-badge">AI</span> WBS - Ï¥ù ${totalWeeks}Ï£º`;
        }
        
        // ÌÉÄÏûÑÎùºÏù∏ ÏóÖÎç∞Ïù¥Ìä∏
        updateWBSTimeline(resultCard, totalWeeks, projectType, platform);
        
        // ÏÉÅÏÑ∏ ÏóÖÎç∞Ïù¥Ìä∏
        updateWBSDetails(resultCard, totalWeeks, projectType, platform, selectedFeatures);
        
        // Î∂ÑÏÑù Í∑ºÍ±∞ ÏóÖÎç∞Ïù¥Ìä∏
        const analysisEl = resultCard?.querySelector('.wbs-analysis p');
        if (analysisEl) {
            const typeName = projectTypeNames[projectType] || projectType;
            analysisEl.textContent = `Ïú†ÏÇ¨ ${typeName} ÌîÑÎ°úÏ†ùÌä∏ ${Math.floor(Math.random() * 5) + 4}Í±¥Ïùò ÌèâÍ∑† Í≥µÏàòÎ•º Í∏∞Î∞òÏúºÎ°ú ÏÇ∞Ï∂úÎêòÏóàÏäµÎãàÎã§. (ÌîåÎû´Ìèº: ${platform})`;
        }
        
        if (resultCard) {
            resultCard.style.animation = 'none';
            resultCard.offsetHeight;
            resultCard.style.animation = 'fadeIn 0.5s ease';
            
            // Animate timeline bars
            const bars = resultCard.querySelectorAll('.phase-bar');
            bars.forEach((bar, index) => {
                bar.style.width = '0';
                
                setTimeout(() => {
                    bar.style.transition = 'width 0.8s ease';
                    bar.style.width = bar.dataset.width || bar.style.getPropertyValue('--width');
                }, index * 200);
            });
            
            // Animate phase details
            const details = resultCard.querySelectorAll('.wbs-phase-detail');
            details.forEach((detail, index) => {
                detail.style.opacity = '0';
                detail.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    detail.style.transition = 'all 0.4s ease';
                    detail.style.opacity = '1';
                    detail.style.transform = 'translateY(0)';
                }, 800 + index * 150);
            });
        }
    });
}

// WBS ÌÉÄÏûÑÎùºÏù∏ ÏóÖÎç∞Ïù¥Ìä∏
function updateWBSTimeline(resultCard, totalWeeks, projectType, platform) {
    const timelineEl = resultCard?.querySelector('.wbs-timeline');
    if (!timelineEl) return;
    
    // Ï£º Îã®ÏúÑ ÎùºÎ≤® ÏÉùÏÑ±
    let weekLabels = '';
    for (let i = 1; i <= totalWeeks; i++) {
        weekLabels += `<span>W${i}</span>`;
    }
    
    // Îã®Í≥ÑÎ≥Ñ ÎπÑÏú® Í≥ÑÏÇ∞
    const phases = [
        { name: 'Í∏∞Ìöç/ÎîîÏûêÏù∏', ratio: 0.25, class: 'design' },
        { name: 'ÌçºÎ∏îÎ¶¨Ïã±', ratio: 0.30, class: 'publishing' },
        { name: 'Í∞úÎ∞ú', ratio: 0.30, class: 'development' },
        { name: 'ÌÖåÏä§Ìä∏/Ïò§Ìîà', ratio: 0.15, class: 'testing' }
    ];
    
    let currentStart = 0;
    let phasesHTML = phases.map(phase => {
        const duration = Math.round(totalWeeks * 7 * phase.ratio);
        const width = phase.ratio * 100;
        const html = `
            <div class="timeline-phase">
                <div class="phase-info">
                    <span class="phase-name">${phase.name}</span>
                    <span class="phase-duration">${duration}Ïùº</span>
                </div>
                <div class="phase-bar-container">
                    <div class="phase-bar ${phase.class}" data-width="${width}%" style="--start: ${currentStart}%; --width: ${width}%"></div>
                </div>
            </div>
        `;
        currentStart += width;
        return html;
    }).join('');
    
    timelineEl.innerHTML = `
        <div class="timeline-header">
            <span class="phase-label">Phase</span>
            <div class="week-labels">${weekLabels}</div>
        </div>
        ${phasesHTML}
    `;
}

// WBS ÏÉÅÏÑ∏ ÏóÖÎç∞Ïù¥Ìä∏
function updateWBSDetails(resultCard, totalWeeks, projectType, platform, features) {
    const detailsEl = resultCard?.querySelector('.wbs-details');
    if (!detailsEl) return;
    
    // Í∏∞Ìöç/ÎîîÏûêÏù∏ Îã®Í≥Ñ ÌÉúÏä§ÌÅ¨
    const designTasks = [
        { name: 'ÏöîÍµ¨ÏÇ¨Ìï≠ Î∂ÑÏÑù/Ï†ïÎ¶¨', duration: Math.round(totalWeeks * 0.5) },
        { name: 'IA/ÌôîÎ©¥ÏÑ§Í≥Ñ(ÏôÄÏù¥Ïñ¥ÌîÑÎ†àÏûÑ)', duration: Math.round(totalWeeks * 0.8) },
        { name: 'ÎîîÏûêÏù∏ ÏãúÏïà ÏûëÏóÖ', duration: Math.round(totalWeeks * 1.2) },
        { name: 'ÎîîÏûêÏù∏ Í≤ÄÏàò/ÏàòÏ†ï', duration: Math.round(totalWeeks * 0.3) }
    ];
    
    // ÌçºÎ∏îÎ¶¨Ïã± Îã®Í≥Ñ ÌÉúÏä§ÌÅ¨
    const publishingTasks = [
        { name: 'Î©îÏù∏ ÌéòÏù¥ÏßÄ ÌçºÎ∏îÎ¶¨Ïã±', duration: Math.round(totalWeeks * 0.5) },
        { name: 'ÏÑúÎ∏å ÌéòÏù¥ÏßÄ ÌçºÎ∏îÎ¶¨Ïã±', duration: Math.round(totalWeeks * 1.0) },
        { name: 'Î∞òÏùëÌòï/Î™®Î∞îÏùº ÏûëÏóÖ', duration: Math.round(totalWeeks * 0.6) },
        { name: 'Ïù∏ÌÑ∞ÎûôÏÖò/Ïï†ÎãàÎ©îÏù¥ÏÖò', duration: Math.round(totalWeeks * 0.3) }
    ];
    
    // Í∞úÎ∞ú Îã®Í≥Ñ ÌÉúÏä§ÌÅ¨ (ÏÑ†ÌÉùÎêú Í∏∞Îä•Ïóê Îî∞Îùº)
    const devTasks = [];
    if (features.includes('ÌöåÏõê Í∏∞Îä•')) devTasks.push({ name: 'ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏ Í∞úÎ∞ú', duration: Math.round(totalWeeks * 0.4) });
    if (features.includes('Í≤∞Ï†ú Í∏∞Îä•') || features.includes('Í≤∞Ï†ú/Íµ¨ÎèÖ')) devTasks.push({ name: 'Í≤∞Ï†ú ÏãúÏä§ÌÖú Ïó∞Îèô', duration: Math.round(totalWeeks * 0.5) });
    if (features.includes('Î∞∞ÏÜ° Í∏∞Îä•')) devTasks.push({ name: 'Î∞∞ÏÜ° Í¥ÄÎ¶¨ Í∞úÎ∞ú', duration: Math.round(totalWeeks * 0.3) });
    if (features.includes('Ïû•Î∞îÍµ¨Îãà')) devTasks.push({ name: 'Ïû•Î∞îÍµ¨Îãà Í∞úÎ∞ú', duration: Math.round(totalWeeks * 0.3) });
    if (features.includes('Í¥ÄÎ¶¨Ïûê ÌéòÏù¥ÏßÄ')) devTasks.push({ name: 'Í¥ÄÎ¶¨Ïûê ÌéòÏù¥ÏßÄ Í∞úÎ∞ú', duration: Math.round(totalWeeks * 0.5) });
    if (features.includes('ÏòàÏïΩ ÏãúÏä§ÌÖú')) devTasks.push({ name: 'ÏòàÏïΩ ÏãúÏä§ÌÖú Í∞úÎ∞ú', duration: Math.round(totalWeeks * 0.6) });
    if (features.includes('Í≤åÏãúÌåê')) devTasks.push({ name: 'Í≤åÏãúÌåê Í∞úÎ∞ú', duration: Math.round(totalWeeks * 0.3) });
    if (features.includes('Í≤ÄÏÉâ')) devTasks.push({ name: 'Í≤ÄÏÉâ Í∏∞Îä• Í∞úÎ∞ú', duration: Math.round(totalWeeks * 0.3) });
    if (devTasks.length === 0) {
        devTasks.push({ name: `${platform} Ïó∞Îèô ÏûëÏóÖ`, duration: Math.round(totalWeeks * 0.5) });
        devTasks.push({ name: 'Í∏∞ÌÉÄ Í∏∞Îä• Í∞úÎ∞ú', duration: Math.round(totalWeeks * 0.5) });
    }
    
    // ÌÖåÏä§Ìä∏ Îã®Í≥Ñ ÌÉúÏä§ÌÅ¨
    const testTasks = [
        { name: 'Í∏∞Îä• ÌÖåÏä§Ìä∏', duration: Math.round(totalWeeks * 0.4) },
        { name: 'ÌÅ¨Î°úÏä§Î∏åÎùºÏö∞Ïßï ÌÖåÏä§Ìä∏', duration: Math.round(totalWeeks * 0.2) },
        { name: 'Î≤ÑÍ∑∏ ÏàòÏ†ï', duration: Math.round(totalWeeks * 0.3) },
        { name: 'Ïò§Ìîà Ï§ÄÎπÑ/Î∞∞Ìè¨', duration: Math.round(totalWeeks * 0.15) }
    ];
    
    const designWeeks = Math.ceil(totalWeeks * 0.25);
    const publishingWeeks = Math.ceil(totalWeeks * 0.30);
    const devWeeks = Math.ceil(totalWeeks * 0.30);
    const testWeeks = Math.ceil(totalWeeks * 0.15);
    
    detailsEl.innerHTML = `
        <div class="wbs-phase-detail">
            <div class="phase-header design">
                <span class="phase-icon">üé®</span>
                <span>Week 1-${designWeeks}: Í∏∞Ìöç/ÎîîÏûêÏù∏</span>
            </div>
            <ul class="task-list">
                ${designTasks.map(t => `<li><span class="task-name">${t.name}</span><span class="task-duration">${t.duration}Ïùº</span></li>`).join('')}
            </ul>
        </div>
        
        <div class="wbs-phase-detail">
            <div class="phase-header publishing">
                <span class="phase-icon">üíª</span>
                <span>Week ${designWeeks + 1}-${designWeeks + publishingWeeks}: ÌçºÎ∏îÎ¶¨Ïã±</span>
            </div>
            <ul class="task-list">
                ${publishingTasks.map(t => `<li><span class="task-name">${t.name}</span><span class="task-duration">${t.duration}Ïùº</span></li>`).join('')}
            </ul>
        </div>
        
        <div class="wbs-phase-detail">
            <div class="phase-header development">
                <span class="phase-icon">‚öôÔ∏è</span>
                <span>Week ${designWeeks + publishingWeeks + 1}-${designWeeks + publishingWeeks + devWeeks}: Í∞úÎ∞ú</span>
            </div>
            <ul class="task-list">
                ${devTasks.map(t => `<li><span class="task-name">${t.name}</span><span class="task-duration">${t.duration}Ïùº</span></li>`).join('')}
            </ul>
        </div>
        
        <div class="wbs-phase-detail">
            <div class="phase-header testing">
                <span class="phase-icon">‚úÖ</span>
                <span>Week ${designWeeks + publishingWeeks + devWeeks + 1}-${totalWeeks}: ÌÖåÏä§Ìä∏/Ïò§Ìîà</span>
            </div>
            <ul class="task-list">
                ${testTasks.map(t => `<li><span class="task-name">${t.name}</span><span class="task-duration">${t.duration}Ïùº</span></li>`).join('')}
            </ul>
        </div>
    `;
    
    // Î¶¨Ïä§ÌÅ¨ ÏóÖÎç∞Ïù¥Ìä∏
    updateWBSRisks(resultCard, projectType, platform, features);
}

// WBS Î¶¨Ïä§ÌÅ¨ ÏóÖÎç∞Ïù¥Ìä∏
function updateWBSRisks(resultCard, projectType, platform, features) {
    const riskEl = resultCard?.querySelector('.wbs-risk .risk-items');
    if (!riskEl) return;
    
    const risks = [];
    
    // ÌîåÎû´ÌèºÎ≥Ñ Î¶¨Ïä§ÌÅ¨
    if (platform === 'shopify' || platform === 'cafe24') {
        risks.push({
            name: `${platform} API Ïó∞Îèô`,
            prob: '60%',
            desc: `Í≥ºÍ±∞ ÌîÑÎ°úÏ†ùÌä∏: API ÏùëÎãµ ÏßÄÏó∞ Ïù¥Ïäà (ÌèâÍ∑† 2-3Ïùº ÏßÄÏó∞)`,
            recommend: 'Í∂åÏû•: Î≤ÑÌçº +1Ï£º'
        });
    }
    
    if (platform === 'custom' || platform === 'react' || platform === 'nextjs') {
        risks.push({
            name: 'ÏÑúÎ≤Ñ ÌôòÍ≤Ω Íµ¨Ï∂ï',
            prob: '40%',
            desc: 'Ïù∏ÌîÑÎùº ÏÑ§Ï†ï Î∞è Î∞∞Ìè¨ ÌôòÍ≤Ω Íµ¨Ï∂ï ÏßÄÏó∞ Í∞ÄÎä•ÏÑ±',
            recommend: 'Í∂åÏû•: Ï¥àÍ∏∞ ÌôòÍ≤Ω Íµ¨Ï∂ï ÏÑ†Ìñâ'
        });
    }
    
    // Í∏∞Îä•Î≥Ñ Î¶¨Ïä§ÌÅ¨
    if (features.includes('Í≤∞Ï†ú Í∏∞Îä•') || features.includes('Í≤∞Ï†ú/Íµ¨ÎèÖ')) {
        risks.push({
            name: 'PGÏÇ¨ Ïã¨ÏÇ¨ ÏßÄÏó∞',
            prob: '50%',
            desc: 'PGÏÇ¨ Ïã¨ÏÇ¨ ÌèâÍ∑† ÏÜåÏöî: 5-10 ÏòÅÏóÖÏùº',
            recommend: 'Í∂åÏû•: Ï°∞Í∏∞ Ïã¨ÏÇ¨ Ïã†Ï≤≠'
        });
    }
    
    if (features.includes('API Ïó∞Îèô')) {
        risks.push({
            name: 'Ïô∏Î∂Ä API Ïó∞Îèô Ïù¥Ïäà',
            prob: '55%',
            desc: 'Ïô∏Î∂Ä API Î¨∏ÏÑú Î∂ÄÏ°± ÎòêÎäî ÏùëÎãµ ÏßÄÏó∞',
            recommend: 'Í∂åÏû•: API ÌÖåÏä§Ìä∏ ÏÑ†Ìñâ'
        });
    }
    
    // Í≥µÌÜµ Î¶¨Ïä§ÌÅ¨
    risks.push({
        name: 'Í≥†Í∞ùÏÇ¨ ÌîºÎìúÎ∞± ÏßÄÏó∞',
        prob: '50%',
        desc: 'ÌèâÍ∑† ÌîºÎìúÎ∞± ÏßÄÏó∞: 3Ïùº',
        recommend: 'Í∂åÏû•: Ï§ëÍ∞Ñ Í≤ÄÏàò 2Ìöå Ïù¥ÏÉÅ'
    });
    
    riskEl.innerHTML = risks.slice(0, 3).map(risk => `
        <div class="risk-item">
            <div class="risk-header">
                <span class="risk-name">${risk.name}</span>
                <span class="risk-prob">ÌôïÎ•† ${risk.prob}</span>
            </div>
            <p>${risk.desc}</p>
            <span class="risk-recommend">${risk.recommend}</span>
        </div>
    `).join('');
}

// ============================================
// Upload Page
// ============================================

function initUploadPage() {
    const dropzone = document.getElementById('dropzone');
    const fileInput = document.getElementById('fileInput');
    const browseBtn = document.getElementById('browseBtn');
    const uploadedFiles = document.getElementById('uploadedFiles');
    const winLossSelect = document.getElementById('winLossSelect');
    const winLossReasonGroup = document.getElementById('winLossReasonGroup');
    const submitBtn = document.getElementById('submitProject');
    
    // Browse button click
    browseBtn?.addEventListener('click', () => {
        fileInput?.click();
    });
    
    // File input change
    fileInput?.addEventListener('change', (e) => {
        handleFiles(e.target.files);
    });
    
    // Drag and drop
    dropzone?.addEventListener('dragover', (e) => {
        e.preventDefault();
        dropzone.classList.add('dragover');
    });
    
    dropzone?.addEventListener('dragleave', () => {
        dropzone.classList.remove('dragover');
    });
    
    dropzone?.addEventListener('drop', (e) => {
        e.preventDefault();
        dropzone.classList.remove('dragover');
        handleFiles(e.dataTransfer.files);
    });
    
    dropzone?.addEventListener('click', () => {
        fileInput?.click();
    });
    
    // Win/Loss select change
    winLossSelect?.addEventListener('change', () => {
        if (winLossSelect.value === 'won' || winLossSelect.value === 'lost') {
            winLossReasonGroup.style.display = 'block';
        } else {
            winLossReasonGroup.style.display = 'none';
        }
    });
    
    // Submit project
    submitBtn?.addEventListener('click', (e) => {
        e.preventDefault();
        showUploadSuccess();
    });
    
    // File category buttons
    const categoryItems = document.querySelectorAll('.category-item');
    categoryItems.forEach(item => {
        item.addEventListener('click', () => {
            categoryItems.forEach(i => i.classList.remove('active'));
            item.classList.add('active');
        });
    });
    
    // Initialize tech stack tag input
    initTagInputFor('techStackInput', 'techStackTags');
    initTagInputFor('featureTagInput', 'featureTags');
    
    // File remove buttons
    document.querySelectorAll('.file-remove').forEach(btn => {
        btn.addEventListener('click', (e) => {
            e.stopPropagation();
            const fileItem = btn.closest('.file-item');
            fileItem.style.animation = 'fadeOut 0.3s ease';
            setTimeout(() => fileItem.remove(), 300);
        });
    });
}

function handleFiles(files) {
    const uploadedFiles = document.getElementById('uploadedFiles');
    if (!uploadedFiles) return;
    
    Array.from(files).forEach(file => {
        const fileItem = createFileItem(file);
        uploadedFiles.insertBefore(fileItem, uploadedFiles.firstChild);
        simulateUpload(fileItem);
    });
}

function createFileItem(file) {
    const item = document.createElement('div');
    item.className = 'file-item uploading';
    
    const ext = file.name.split('.').pop().toLowerCase();
    let iconClass = 'docx';
    if (['pdf'].includes(ext)) iconClass = 'pdf';
    else if (['jpg', 'jpeg', 'png', 'gif'].includes(ext)) iconClass = 'img';
    
    const fileType = getFileType(ext);
    
    item.innerHTML = `
        <div class="file-icon ${iconClass}">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                <polyline points="14 2 14 8 20 8"/>
            </svg>
        </div>
        <div class="file-info">
            <span class="file-name">${file.name}</span>
            <span class="file-meta">ÏóÖÎ°úÎìú Ï§ë... 0%</span>
            <div class="upload-progress">
                <div class="progress-bar" style="--progress: 0%"></div>
            </div>
        </div>
        <div class="file-status uploading">
            <div class="spinner"></div>
        </div>
        <button class="file-remove" title="Ï∑®ÏÜå">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="18" y1="6" x2="6" y2="18"/>
                <line x1="6" y1="6" x2="18" y2="18"/>
            </svg>
        </button>
    `;
    
    item.querySelector('.file-remove').addEventListener('click', (e) => {
        e.stopPropagation();
        item.style.animation = 'fadeOut 0.3s ease';
        setTimeout(() => item.remove(), 300);
    });
    
    return item;
}

function getFileType(ext) {
    if (['pdf', 'pptx'].includes(ext)) return 'Ï†úÏïàÏÑú';
    if (['docx', 'hwp', 'xlsx'].includes(ext)) return 'Í∏∞ÌöçÏÑú';
    if (['jpg', 'jpeg', 'png', 'gif', 'psd'].includes(ext)) return 'ÎîîÏûêÏù∏';
    if (['js', 'py', 'html', 'css', 'php'].includes(ext)) return 'ÏΩîÎìú';
    return 'Í∏∞ÌÉÄ';
}

function simulateUpload(fileItem) {
    const progressBar = fileItem.querySelector('.progress-bar');
    const meta = fileItem.querySelector('.file-meta');
    const status = fileItem.querySelector('.file-status');
    let progress = 0;
    
    const interval = setInterval(() => {
        progress += Math.random() * 15 + 5;
        if (progress >= 100) {
            progress = 100;
            clearInterval(interval);
            
            fileItem.classList.remove('uploading');
            meta.textContent = `${(Math.random() * 5 + 0.5).toFixed(1)} MB ¬∑ ${getFileType(fileItem.querySelector('.file-name').textContent.split('.').pop())}`;
            
            const progressContainer = fileItem.querySelector('.upload-progress');
            if (progressContainer) progressContainer.remove();
            
            status.classList.remove('uploading');
            status.classList.add('complete');
            status.innerHTML = `
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="20 6 9 17 4 12"/>
                </svg>
            `;
        } else {
            meta.textContent = `ÏóÖÎ°úÎìú Ï§ë... ${Math.round(progress)}%`;
        }
        progressBar.style.setProperty('--progress', `${progress}%`);
    }, 200);
}

function showUploadSuccess() {
    // Create success modal
    const modal = document.createElement('div');
    modal.className = 'upload-success-modal';
    modal.innerHTML = `
        <div class="modal-content">
            <div class="success-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="20 6 9 17 4 12"/>
                </svg>
            </div>
            <h3>ÌîÑÎ°úÏ†ùÌä∏Í∞Ä Îì±Î°ùÎêòÏóàÏäµÎãàÎã§!</h3>
            <p>AI ÌïôÏäµÏù¥ ÏãúÏûëÎê©ÎãàÎã§. ÏôÑÎ£åÍπåÏßÄ ÏïΩ 5-10Î∂ÑÏù¥ ÏÜåÏöîÎê©ÎãàÎã§.</p>
            <button class="btn-primary" onclick="this.closest('.upload-success-modal').remove()">ÌôïÏù∏</button>
        </div>
    `;
    
    // Add modal styles inline
    modal.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.7);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000;
        animation: fadeIn 0.3s ease;
    `;
    
    const content = modal.querySelector('.modal-content');
    content.style.cssText = `
        background: var(--bg-card);
        border: 1px solid var(--border-color);
        border-radius: 16px;
        padding: 40px;
        text-align: center;
        max-width: 400px;
    `;
    
    const successIcon = modal.querySelector('.success-icon');
    successIcon.style.cssText = `
        width: 64px;
        height: 64px;
        background: rgba(46, 213, 115, 0.15);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 20px;
        color: #2ED573;
    `;
    
    successIcon.querySelector('svg').style.cssText = `
        width: 32px;
        height: 32px;
    `;
    
    modal.querySelector('h3').style.cssText = `
        margin-bottom: 12px;
    `;
    
    modal.querySelector('p').style.cssText = `
        color: var(--text-secondary);
        margin-bottom: 24px;
    `;
    
    document.body.appendChild(modal);
}

function initTagInputFor(inputId, tagsContainerId) {
    const input = document.getElementById(inputId);
    const container = document.getElementById(tagsContainerId);
    if (!input || !container) return;
    
    let tags = [];
    
    input.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
            e.preventDefault();
            const value = input.value.trim();
            if (value && !tags.includes(value)) {
                tags.push(value);
                renderTags();
                input.value = '';
            }
        }
    });
    
    // Suggested tags
    const suggestionContainer = input.closest('.tag-input-container');
    if (suggestionContainer) {
        suggestionContainer.querySelectorAll('.suggested-tag').forEach(tag => {
            tag.addEventListener('click', () => {
                const value = tag.getAttribute('data-tag');
                if (!tags.includes(value)) {
                    tags.push(value);
                    renderTags();
                }
            });
        });
    }
    
    function renderTags() {
        container.innerHTML = tags.map(tag => `
            <span class="selected-tag">
                ${tag}
                <button type="button" data-tag="${tag}">&times;</button>
            </span>
        `).join('');
        
        container.querySelectorAll('.selected-tag button').forEach(btn => {
            btn.addEventListener('click', () => {
                tags = tags.filter(t => t !== btn.getAttribute('data-tag'));
                renderTags();
            });
        });
    }
}

// ============================================
// Documents Page
// ============================================

function initDocumentsPage() {
    // Initialize filter search
    const filterInput = document.querySelector('.filter-input');
    filterInput?.addEventListener('input', debounce(() => {
        // Filter projects (demo)
        console.log('Filtering:', filterInput.value);
    }, 300));
    
    // Initialize project card actions
    document.querySelectorAll('.project-card-actions .btn-icon-small').forEach(btn => {
        btn.addEventListener('click', (e) => {
            e.stopPropagation();
            const card = btn.closest('.project-card');
            const title = card.querySelector('.project-card-title').textContent;
            
            // Different actions based on button
            if (btn.title === 'Ïû¨ÌïôÏäµ') {
                showRelearningToast(title);
            } else if (btn.title === 'ÌïôÏäµ ÏãúÏûë') {
                startLearning(card);
            }
        });
    });
    
    // Project card click
    document.querySelectorAll('.project-card').forEach(card => {
        card.addEventListener('click', () => {
            // Navigate to project detail (demo)
            console.log('Open project:', card.querySelector('.project-card-title').textContent);
        });
    });
}

function showRelearningToast(title) {
    const toast = document.createElement('div');
    toast.className = 'toast';
    toast.innerHTML = `
        <span class="toast-icon">üîÑ</span>
        <span>"${title}" Ïû¨ÌïôÏäµÏù¥ ÏãúÏûëÎêòÏóàÏäµÎãàÎã§.</span>
    `;
    
    toast.style.cssText = `
        position: fixed;
        bottom: 24px;
        left: 50%;
        transform: translateX(-50%);
        background: var(--bg-card);
        border: 1px solid var(--border-color);
        border-radius: 8px;
        padding: 12px 20px;
        display: flex;
        align-items: center;
        gap: 10px;
        z-index: 1000;
        animation: slideUp 0.3s ease;
        box-shadow: var(--shadow-lg);
    `;
    
    document.body.appendChild(toast);
    
    setTimeout(() => {
        toast.style.animation = 'fadeOut 0.3s ease';
        setTimeout(() => toast.remove(), 300);
    }, 3000);
}

function startLearning(card) {
    const status = card.querySelector('.project-card-status');
    const docsSection = card.querySelector('.project-card-docs');
    
    status.className = 'project-card-status learning';
    status.textContent = 'ÌïôÏäµ Ï§ë';
    
    // Replace doc types with progress
    const docTypes = docsSection.querySelector('.doc-types');
    if (docTypes) {
        docTypes.outerHTML = `
            <div class="learning-progress">
                <div class="progress-track">
                    <div class="progress-fill" style="--progress: 0%"></div>
                </div>
                <span>0%</span>
            </div>
        `;
        
        // Animate progress
        const progressFill = docsSection.querySelector('.progress-fill');
        const progressText = docsSection.querySelector('.learning-progress span');
        let progress = 0;
        
        const interval = setInterval(() => {
            progress += Math.random() * 10 + 2;
            if (progress >= 100) {
                progress = 100;
                clearInterval(interval);
                
                status.className = 'project-card-status learned';
                status.textContent = 'ÌïôÏäµ ÏôÑÎ£å';
            }
            progressFill.style.setProperty('--progress', `${progress}%`);
            progressText.textContent = `${Math.round(progress)}%`;
        }, 500);
    }
    
    // Change button
    const startBtn = card.querySelector('.start-learning');
    if (startBtn) {
        startBtn.title = 'Ïû¨ÌïôÏäµ';
        startBtn.classList.remove('start-learning');
        startBtn.innerHTML = `
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="23 4 23 10 17 10"/>
                <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/>
            </svg>
        `;
    }
}

// ============================================
// Console Welcome Message
// ============================================

console.log(`
%c Agency Brain %c AI Knowledge Platform 
`, 
'background: linear-gradient(135deg, #00D9FF 0%, #7B61FF 100%); color: white; padding: 8px 16px; border-radius: 4px 0 0 4px; font-weight: bold;',
'background: #1a1a25; color: #a0a0b0; padding: 8px 16px; border-radius: 0 4px 4px 0;'
);
